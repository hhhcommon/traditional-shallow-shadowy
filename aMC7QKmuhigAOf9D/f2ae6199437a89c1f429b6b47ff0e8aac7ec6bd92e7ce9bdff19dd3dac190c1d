function pageName(){return"undefined"==typeof pageFullPath?undefined:pageFullPath.split("/").pop()}function pagePath(){return"undefined"==typeof pageFullPath?undefined:pageFullPath.split("/").slice(0,-1).join("/")}function htmlEscape(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function abspath(t,e){"/"!=e[0]&&(e="/"+e,t&&(e="/"+t+e));var i=e.split("/");return[i.slice(0,-1).join("/"),i.pop()]}function IssueLogsHelper(t){var e=this;e.$el=t.$el,e.config=t,e.$el.on("click",".btn-logs-detail",function(){e.$el.addClass("detail-mode")}),e.$el.on("click",".btn-hide-logs-detail",function(){e.$el.removeClass("detail-mode")}),e.$el.on("click",".btn-diff-view",function(t){var i=$(t.target).parent().parent().parent().next(".log-diff-box");i.hasClass("hidden")?i.removeClass("hidden"):i.addClass("hidden"),e.$el.addClass("detail-mode")}),$.ajax({url:t.path}).done(function(t){e.render(t)})}function IssueSidebarHelper(t){this.config=t,this.dropdownInfo=t.dropdownInfo,this.locale=t.locale,this.labels=t.labels,this.readonly=t.readonly,this.programId=0,this.milestoneId=0,this.milestonesLoaded=!1,this.deadline=$("#issue_deadline").val(),this.startedAt=$("#issue_plan_started_at").val(),this.$sidebar=$(".issue-sidebar"),this.$labels=this.$sidebar.find(".issue-labels"),this.$labelsShow=this.$labels.next(),this.$milestone=$("#issue_milestone_id").parent(),this.$program=$("#issue_program_id").parent(),this.$deadline=$("#issue_deadline").parent(),this.$startedAt=$("#issue_plan_started_at").parent(),this.$branch=$("#issue_branch").parent(),this.$top=$("#issue_top_level").parent(),this.$priority=$("#issue_priority").parent(),this.initFields()}function IssueEditHelper(t){this.config=t,this.logs=t.logs,this.sidebar=t.sidebar,this.$issue=$("#git-issue"),this.$issue_comment=$(".issue-note"),this.$arrBox=$(".arrow_box"),this.$state=$("#issue-state-button"),this.$btnEdit=$("#btn-edit-issue"),this.$btnSave=$("#btn-save-issue"),this.$btnCancel=$("#btn-cancel-edit-issue"),this.$issueSecurityHole=$(".checkbox-issue"),this.$logs=this.$issue.find(".operate-logs"),this.$title=$("#git-issue-title"),this.$description=this.$issue.find(".git-issue-description"),this.cache={data:{},timer:null,callbacks:[]},this.$fields={title:$("#issue_title"),type:$("#issue_issue_type_id").parent(),description:$("#git-issue-description-form .md-input")},this.title=this.$fields.title.val(),this.description=this.$fields.description.val(),this.charsetReg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/,this.initStateDropdown(),this.initForm()}!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(i){return t.returnExportsGlobal=e(i)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){
/*
  Implement Github like autocomplete mentions
  http://ichord.github.com/At.js

  Copyright (c) 2013 chord.luo@gmail.com
  Licensed under the MIT license.
*/
"use strict";var e,i,n,s,o,r,a,l;e=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.setPos=function(){return this.domInputor},e.prototype.getIEPosition=function(){return this.getPosition()},e.prototype.getPosition=function(){var t,e;return e=this.getOffset(),t=this.$inputor.offset(),e.left-=t.left,e.top-=t.top,e},e.prototype.getOldIEPos=function(){var t,e;return e=r.selection.createRange(),(t=r.body.createTextRange()).moveToElementText(this.domInputor),t.setEndPoint("EndToEnd",e),t.text.length},e.prototype.getPos=function(){var t,e,i;return(i=this.range())?((t=i.cloneRange()).selectNodeContents(this.domInputor),t.setEnd(i.endContainer,i.endOffset),e=t.toString().length,t.detach(),e):r.selection?this.getOldIEPos():void 0},e.prototype.getOldIEOffset=function(){var t,e;return(t=r.selection.createRange().duplicate()).moveStart("character",-1),{height:(e=t.getBoundingClientRect()).bottom-e.top,left:e.left,top:e.top}},e.prototype.getOffset=function(){var e,i,n,s,o;return a.getSelection&&(n=this.range())?(n.endOffset-1>0&&n.endContainer===!this.domInputor&&((e=n.cloneRange()).setStart(n.endContainer,n.endOffset-1),e.setEnd(n.endContainer,n.endOffset),i={height:(s=e.getBoundingClientRect()).height,left:s.left+s.width,top:s.top},e.detach()),i&&0!==(null!=i?i.height:void 0)||(e=n.cloneRange(),o=t(r.createTextNode("|")),e.insertNode(o[0]),e.selectNode(o[0]),i={height:(s=e.getBoundingClientRect()).height,left:s.left,top:s.top},o.remove(),e.detach())):r.selection&&(i=this.getOldIEOffset()),i&&(i.top+=t(a).scrollTop(),i.left+=t(a).scrollLeft()),i},e.prototype.range=function(){var t;if(a.getSelection)return(t=a.getSelection()).rangeCount>0?t.getRangeAt(0):null},e}(),i=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.getIEPos=function(){var t,e,i,n,s,o;return e=this.domInputor,n=0,(s=r.selection.createRange())&&s.parentElement()===e&&(i=e.value.replace(/\r\n/g,"\n").length,(o=e.createTextRange()).moveToBookmark(s.getBookmark()),(t=e.createTextRange()).collapse(!1),n=o.compareEndPoints("StartToEnd",t)>-1?i:-o.moveStart("character",-i)),n},e.prototype.getPos=function(){return r.selection?this.getIEPos():this.domInputor.selectionStart},e.prototype.setPos=function(t){var e,i;return e=this.domInputor,r.selection?((i=e.createTextRange()).move("character",t),i.select()):e.setSelectionRange&&e.setSelectionRange(t,t),e},e.prototype.getIEOffset=function(t){var e;return e=this.domInputor.createTextRange(),t||(t=this.getPos()),e.move("character",t),{left:e.boundingLeft,top:e.boundingTop,height:e.boundingHeight}},e.prototype.getOffset=function(e){var i,n,s;return i=this.$inputor,r.selection?((n=this.getIEOffset(e)).top+=t(a).scrollTop()+i.scrollTop(),n.left+=t(a).scrollLeft()+i.scrollLeft(),n):(n=i.offset(),s=this.getPosition(e),{left:n.left+s.left-i.scrollLeft(),top:n.top+s.top-i.scrollTop(),height:s.height})},e.prototype.getPosition=function(t){var e,i,s,o,r;return e=this.$inputor,s=function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t},void 0===t&&(t=this.getPos()),r=e.val().slice(0,t),i=e.val().slice(t),o="<span style='position: relative; display: inline;'>"+s(r)+"</span>",o+="<span id='caret' style='position: relative; display: inline;'>|</span>",o+="<span style='position: relative; display: inline;'>"+s(i)+"</span>",new n(e).create(o).rect()},e.prototype.getIEPosition=function(t){var e,i;return i=this.getIEOffset(t),e=this.$inputor.offset(),{left:i.left-e.left,top:i.top-e.top,height:i.height}},e}(),n=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],e.prototype.mirrorCss=function(){var e,i=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),t.each(this.css_attr,function(t,n){return e[n]=i.$inputor.css(n)}),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.rect=function(){var t,e,i;return i={left:(e=(t=this.$mirror.find("#caret")).position()).left,top:e.top,height:t.height()},this.$mirror.remove(),i},e}(),s={contentEditable:function(t){return!(!t[0].contentEditable||"true"!==t[0].contentEditable)}},o={pos:function(t){return t||0===t?this.setPos(t):this.getPos()},position:function(t){return r.selection?this.getIEPosition(t):this.getPosition(t)},offset:function(t){return this.getOffset(t)}},r=null,a=null,l=function(t){var e;return(e=null!=t?t.iframe:void 0)?(e,a=e.contentWindow,r=e.contentDocument||a.document):(void 0,a=window,r=document)},t.fn.caret=function(n,r,a){var h;return o[n]?(t.isPlainObject(r)?(l(r),r=void 0):l(a),h=s.contentEditable(this)?new e(this):new i(this),o[n].apply(h,[r])):t.error("Method "+n+" does not exist on jQuery.caret")},t.fn.caret.EditableCaret=e,t.fn.caret.InputCaret=i,t.fn.caret.Utils=s,t.fn.caret.apis=o}),
/**
 * at.js - 1.5.4
 * Copyright (c) 2017 chord.luo <chord.luo@gmail.com>;
 * Homepage: http://ichord.github.com/At.js
 * License: MIT
 */
function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e,i,n;i={ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},e={beforeSave:function(t){return s.arrayToDefaultHash(t)},matcher:function(t,e,i,n){var s,o,r;return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),i&&(t="(?:^|\\s)"+t),s=decodeURI("%C3%80"),o=decodeURI("%C3%BF"),(r=new RegExp(t+"([A-Za-z"+s+"-"+o+"0-9_"+(n?" ":"")+"'.+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi").exec(e))?r[2]||r[1]:null},filter:function(t,e,i){var n,s,o,r;for(n=[],s=0,r=e.length;s<r;s++)o=e[s],~new String(o[i]).toLowerCase().indexOf(t.toLowerCase())&&n.push(o);return n},remoteFilter:null,sorter:function(t,e,i){var n,s,o,r;if(!t)return e;for(n=[],s=0,r=e.length;s<r;s++)(o=e[s]).atwho_order=new String(o[i]).toLowerCase().indexOf(t.toLowerCase()),o.atwho_order>-1&&n.push(o);return n.sort(function(t,e){return t.atwho_order-e.atwho_order})},tplEval:function(t,e){var i,n;n=t;try{return"string"!=typeof t&&(n=t(e)),n.replace(/\$\{([^\}]*)\}/g,function(t,i){return e[i]})}catch(i){return i,""}},highlighter:function(t,e){var i;return e?(i=new RegExp(">\\s*([^<]*?)("+e.replace("+","\\+")+")([^<]*)\\s*<","ig"),t.replace(i,function(t,e,i,n){return"> "+e+"<strong>"+i+"</strong>"+n+" <"})):t},beforeInsert:function(t){return t},beforeReposition:function(t){return t},afterMatchFailed:function(){}},n=function(){function e(e){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=t(e),this.setupRootElement(),this.listen()}return e.prototype.createContainer=function(e){var i;return null!=(i=this.$el)&&i.remove(),t(e.body).append(this.$el=t("<div class='atwho-container'></div>"))},e.prototype.setupRootElement=function(e,i){var n,s;if(null==i&&(i=!1),e)this.window=e.contentWindow,this.document=e.contentDocument||this.window.document,this.iframe=e;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(s){if(n=s,this.iframe=null,t.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+n)}}return this.createContainer((this.iframeAsRoot=i)?this.document:document)},e.prototype.controller=function(t){var e,i,n,s;if(this.aliasMaps[t])i=this.controllers[this.aliasMaps[t]];else for(n in s=this.controllers)if(e=s[n],n===t){i=e;break}return i||this.controllers[this.currentFlag]},e.prototype.setContextFor=function(t){return this.currentFlag=t,this},e.prototype.reg=function(t,e){var i,n;return n=(i=this.controllers)[t]||(i[t]=this.$inputor.is("[contentEditable]")?new h(this,t):new r(this,t)),e.alias&&(this.aliasMaps[e.alias]=t),n.init(e),this},e.prototype.listen=function(){return this.$inputor.on("compositionstart",(t=this,function(){var e;return null!=(e=t.controller())&&e.view.hide(),t.isComposing=!0,null})).on("compositionend",function(t){return function(){return t.isComposing=!1,setTimeout(function(e){return t.dispatch(e)}),null}}(this)).on("keyup.atwhoInner",function(t){return function(e){return t.onKeyup(e)}}(this)).on("keydown.atwhoInner",function(t){return function(e){return t.onKeydown(e)}}(this)).on("blur.atwhoInner",function(t){return function(e){var i;if(i=t.controller())return i.expectedQueryCBId=null,i.view.hide(e,i.getOpt("displayTimeout"))}}(this)).on("click.atwhoInner",function(t){return function(e){return t.dispatch(e)}}(this)).on("scroll.atwhoInner",function(t){return function(){var e;return e=t.$inputor.scrollTop(),function(i){var n,s;return n=i.target.scrollTop,e!==n&&null!=(s=t.controller())&&s.view.hide(i),e=n,!0}}}(this)());var t},e.prototype.shutdown=function(){var t,e;for(t in e=this.controllers)e[t].destroy(),delete this.controllers[t];return this.$inputor.off(".atwhoInner"),this.$el.remove()},e.prototype.dispatch=function(t){var e,i,n,s;for(e in s=[],n=this.controllers)i=n[e],s.push(i.lookUp(t));return s},e.prototype.onKeyup=function(e){var n;switch(e.keyCode){case i.ESC:e.preventDefault(),null!=(n=this.controller())&&n.view.hide();break;case i.DOWN:case i.UP:case i.CTRL:case i.ENTER:t.noop();break;case i.P:case i.N:e.ctrlKey||this.dispatch(e);break;default:this.dispatch(e)}},e.prototype.onKeydown=function(e){var n,s;if((s=null!=(n=this.controller())?n.view:void 0)&&s.visible())switch(e.keyCode){case i.ESC:e.preventDefault(),s.hide(e);break;case i.UP:e.preventDefault(),s.prev();break;case i.DOWN:e.preventDefault(),s.next();break;case i.P:if(!e.ctrlKey)return;e.preventDefault(),s.prev();break;case i.N:if(!e.ctrlKey)return;e.preventDefault(),s.next();break;case i.TAB:case i.ENTER:case i.SPACE:if(!s.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&e.keyCode===i.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&e.keyCode===i.TAB)return;s.highlighted()?(e.preventDefault(),s.choose(e)):s.hide(e);break;default:t.noop()}},e}();var s,o=[].slice;s=function(){function i(e,i){this.app=e,this.at=i,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=t("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=t("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new c(this),this.view=new d(this)}return i.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},i.prototype.init=function(e){return this.setting=t.extend({},this.setting||t.fn.atwho["default"],e),this.view.init(),this.model.reload(this.setting.data)},i.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},i.prototype.callDefault=function(){var i,n,s,r;r=arguments[0],i=2<=arguments.length?o.call(arguments,1):[];try{return e[r].apply(this,i)}catch(s){return n=s,t.error(n+" Or maybe At.js doesn't have function "+r)}},i.prototype.trigger=function(t,e){var i,n;return null==e&&(e=[]),e.push(this),n=(i=this.getOpt("alias"))?t+"-"+i+".atwho":t+".atwho",this.$inputor.trigger(n,e)},i.prototype.callbacks=function(t){return this.getOpt("callbacks")[t]||e[t]},i.prototype.getOpt=function(t){var e;try{return this.setting[t]}catch(e){return e,null}},i.prototype.insertContentFor=function(e){var i,n;return n=this.getOpt("insertTpl"),i=t.extend({},e.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,n,i,"onInsert")},i.prototype.renderView=function(t){var e;return e=this.getOpt("searchKey"),t=this.callbacks("sorter").call(this,this.query.text,t.slice(0,1001),e),this.view.render(t.slice(0,this.getOpt("limit")))},i.arrayToDefaultHash=function(e){var i,n,s,o;if(!t.isArray(e))return e;for(o=[],i=0,s=e.length;i<s;i++)n=e[i],t.isPlainObject(n)?o.push(n):o.push({name:n});return o},i.prototype.lookUp=function(t){var e,i;if((!t||"click"!==t.type||this.getOpt("lookUpOnClick"))&&(!this.getOpt("suspendOnComposing")||!this.app.isComposing))return(e=this.catchQuery(t))?(this.app.setContextFor(this.at),(i=this.getOpt("delay"))?this._delayLookUp(e,i):this._lookUp(e),e):(this.expectedQueryCBId=null,e)},i.prototype._delayLookUp=function(t,e){var i,n,s;return i=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=i),0<(n=e-(i-this.previousCallTime))&&n<e?(this.previousCallTime=i,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout((s=this,function(){return s.previousCallTime=0,s.delayedCallTimeout=null,s._lookUp(t)}),e)):(this._stopDelayedCall(),this.previousCallTime!==i&&(this.previousCallTime=0),this._lookUp(t))},i.prototype._stopDelayedCall=function(){if(this.delayedCallTimeout)return clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null},i.prototype._generateQueryCBId=function(){return{}},i.prototype._lookUp=function(e){var i;return i=function(t,e){if(t===this.expectedQueryCBId)return e&&e.length>0?this.renderView(this.constructor.arrayToDefaultHash(e)):this.view.hide()},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(e.text,t.proxy(i,this,this.expectedQueryCBId))},i}();var r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;r=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,s),e.prototype.catchQuery=function(){var t,e,i,n,s,o,r;if(e=this.$inputor.val(),t=this.$inputor.caret("pos",{iframe:this.app.iframe}),r=e.slice(0,t),!((n="string"==typeof(s=this.callbacks("matcher").call(this,this.at,r,this.getOpt("startWithSpace"),this.getOpt("acceptSpaceBar"))))&&s.length<this.getOpt("minLen",0)))return n&&s.length<=this.getOpt("maxLen",20)?(i=(o=t-s.length)+s.length,this.pos=o,s={text:s,headPos:o,endPos:i},this.trigger("matched",[this.at,s.text])):(s=null,this.view.hide()),this.query=s},e.prototype.rect=function(){var e,i,n;if(e=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(i=t(this.app.iframe).offset(),e.left+=i.left,e.top+=i.top),n=this.app.document.selection?0:2,{left:e.left,top:e.top,bottom:e.top+e.height+n}},e.prototype.insert=function(t){var e,i,n,s,o;return o=""+(n=(i=(e=this.$inputor).val()).slice(0,Math.max(this.query.headPos-this.at.length,0)))+(t+=s=""===(s=this.getOpt("suffix"))?s:s||" ")+i.slice(this.query.endPos||0),e.val(o),e.caret("pos",n.length+t.length,{iframe:this.app.iframe}),e.is(":focus")||e.focus(),e.change()},e}();var h,c,d,u;a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;h=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,s),e.prototype._getRange=function(){var t;if((t=this.app.window.getSelection()).rangeCount>0)return t.getRangeAt(0)},e.prototype._setRange=function(e,i,n){if(null==n&&(n=this._getRange()),n&&i)return i=t(i)[0],"after"===e?(n.setEndAfter(i),n.setStartAfter(i)):(n.setEndBefore(i),n.setStartBefore(i)),n.collapse(!1),this._clearRange(n)},e.prototype._clearRange=function(t){var e;if(null==t&&(t=this._getRange()),e=this.app.window.getSelection(),null==this.ctrl_a_pressed)return e.removeAllRanges(),e.addRange(t)},e.prototype._movingEvent=function(t){var e;return"click"===t.type||(e=t.which)===i.RIGHT||e===i.LEFT||e===i.UP||e===i.DOWN},e.prototype._unwrap=function(e){var i;return(i=(e=t(e).unwrap().get(0)).nextSibling)&&i.nodeValue&&(e.nodeValue+=i.nodeValue,t(i).remove()),e},e.prototype.catchQuery=function(e){var n,s,o,r,a,l,h,c,d,u,p,f;if((f=this._getRange())&&f.collapsed){if(e.which===i.ENTER)return(s=t(f.startContainer).closest(".atwho-query")).contents().unwrap(),s.is(":empty")&&s.remove(),(s=t(".atwho-query",this.app.document)).text(s.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if(t(f.startContainer).is(this.$inputor))return void this._clearRange();e.which===i.BACKSPACE&&f.startContainer.nodeType===document.ELEMENT_NODE&&(d=f.startOffset-1)>=0?((o=f.cloneRange()).setStart(f.startContainer,d),t(o.cloneContents()).contents().last().is(".atwho-inserted")&&(a=t(f.startContainer).contents().get(d),this._setRange("after",t(a).contents().last()))):e.which===i.LEFT&&f.startContainer.nodeType===document.TEXT_NODE&&(n=t(f.startContainer.previousSibling)).is(".atwho-inserted")&&0===f.startOffset&&this._setRange("after",n.contents().last())}if(t(f.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(s=t(".atwho-query",this.app.document)).length>0&&s.is(":empty")&&0===s.text().length&&s.remove(),this._movingEvent(e)||s.removeClass("atwho-inserted"),s.length>0)switch(e.which){case i.LEFT:return this._setRange("before",s.get(0),f),void s.removeClass("atwho-query");case i.RIGHT:return this._setRange("after",s.get(0).nextSibling,f),void s.removeClass("atwho-query")}if(s.length>0&&(p=s.attr("data-atwho-at-query"))&&(s.empty().html(p).attr("data-atwho-at-query",null),this._setRange("after",s.get(0),f)),(o=f.cloneRange()).setStart(f.startContainer,0),l="string"==typeof(c=this.callbacks("matcher").call(this,this.at,o.toString(),this.getOpt("startWithSpace"),this.getOpt("acceptSpaceBar"))),0===s.length&&l&&(r=f.startOffset-this.at.length-c.length)>=0&&(f.setStart(f.startContainer,r),s=t("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),f.surroundContents(s.get(0)),(h=s.contents().last().get(0))&&(/firefox/i.test(navigator.userAgent)?(f.setStart(h,h.length),f.setEnd(h,h.length),this._clearRange(f)):this._setRange("after",h,f))),!(l&&c.length<this.getOpt("minLen",0)))return l&&c.length<=this.getOpt("maxLen",20)?(u={text:c,el:s},this.trigger("matched",[this.at,u.text]),this.query=u):(this.view.hide(),this.query={el:s},s.text().indexOf(this.at)>=0&&(this._movingEvent(e)&&s.hasClass("atwho-inserted")?s.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,s)&&this._setRange("after",this._unwrap(s.text(s.text()).contents().first()))),null)}},e.prototype.rect=function(){var e,i;if((i=this.query.el.offset())&&this.query.el[0].getClientRects().length)return this.app.iframe&&!this.app.iframeAsRoot&&(e=t(this.app.iframe).offset(),i.left+=e.left-this.$inputor.scrollLeft(),i.top+=e.top-this.$inputor.scrollTop()),i.bottom=i.top+this.query.el.height(),i},e.prototype.insert=function(t,e){var i,n,s,o,r;return this.$inputor.is(":focus")||this.$inputor.focus(),(n=this.getOpt("functionOverrides")).insert?n.insert.call(this,t,e):(o=""===(o=this.getOpt("suffix"))?o:o||"\xa0",i=e.data("item-data"),this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(t).attr("data-atwho-at-query",""+i["atwho-at"]+this.query.text).attr("contenteditable","false"),(s=this._getRange())&&(this.query.el.length&&s.setEndAfter(this.query.el[0]),s.collapse(!1),s.insertNode(r=this.app.document.createTextNode(""+o)),this._setRange("after",r,s)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change())},e}(),c=function(){function e(t){this.context=t,this.at=this.context.at,this.storage=this.context.$inputor}return e.prototype.destroy=function(){return this.storage.data(this.at,null)},e.prototype.saved=function(){return this.fetch()>0},e.prototype.query=function(t,e){var i,n,s;return n=this.fetch(),s=this.context.getOpt("searchKey"),n=this.context.callbacks("filter").call(this.context,t,n,s)||[],i=this.context.callbacks("remoteFilter"),n.length>0||!i&&0===n.length?e(n):i.call(this.context,t,e)},e.prototype.fetch=function(){return this.storage.data(this.at)||[]},e.prototype.save=function(t){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,t||[]))},e.prototype.load=function(t){if(!this.saved()&&t)return this._load(t)},e.prototype.reload=function(t){return this._load(t)},e.prototype._load=function(e){return"string"==typeof e?t.ajax(e,{dataType:"json"}).done((i=this,function(t){return i.save(t)})):this.save(e);var i},e}(),d=function(){function e(e){this.context=e,this.$el=t("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.$elUl=this.$el.children(),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return e.prototype.init=function(){var t,e;return e=this.context.getOpt("alias")||this.context.at.charCodeAt(0),(t=this.context.getOpt("headerTpl"))&&1===this.$el.children().length&&this.$el.prepend(t),this.$el.attr({id:"at-view-"+e})},e.prototype.destroy=function(){return this.$el.remove()},e.prototype.bindEvent=function(){var e,i,n,s;return e=this.$el.find("ul"),i=0,n=0,e.on("mousemove.atwho-view","li",function(s){var o;if((i!==s.clientX||n!==s.clientY)&&(i=s.clientX,n=s.clientY,!(o=t(s.currentTarget)).hasClass("cur")))return e.find(".cur").removeClass("cur"),o.addClass("cur")}).on("click.atwho-view","li",(s=this,function(i){return e.find(".cur").removeClass("cur"),t(i.currentTarget).addClass("cur"),s.choose(i),i.preventDefault()}))},e.prototype.visible=function(){return t.expr.filters.visible(this.$el[0])},e.prototype.highlighted=function(){return this.$el.find(".cur").length>0},e.prototype.choose=function(t){var e,i;if((e=this.$el.find(".cur")).length&&(i=this.context.insertContentFor(e),this.context._stopDelayedCall(),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,i,e,t),e),this.context.trigger("inserted",[e,t]),this.hide(t)),this.context.getOpt("hideWithoutSuffix"))return this.stopShowing=!0},e.prototype.reposition=function(e){var i,n,s,o;return i=this.context.app.iframeAsRoot?this.context.app.window:window,e.bottom+this.$el.height()-t(i).scrollTop()>t(i).height()&&(e.bottom=e.top-this.$el.height()),e.left>(s=t(i).width()-this.$el.width()-5)&&(e.left=s),n={left:e.left,top:e.bottom},null!=(o=this.context.callbacks("beforeReposition"))&&o.call(this.context,n),this.$el.offset(n),this.context.trigger("reposition",[n])},e.prototype.next=function(){var t,e,i;return(t=this.$el.find(".cur").removeClass("cur").next()).length||(t=this.$el.find("li:first")),t.addClass("cur"),i=(e=t[0]).offsetTop+e.offsetHeight+(e.nextSibling?e.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,i-this.$el.height()))},e.prototype.prev=function(){var t,e,i;return(e=this.$el.find(".cur").removeClass("cur").prev()).length||(e=this.$el.find("li:last")),e.addClass("cur"),t=(i=e[0]).offsetTop+i.offsetHeight+(i.nextSibling?i.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,t-this.$el.height()))},e.prototype.scrollTop=function(t){var e;return(e=this.context.getOpt("scrollDuration"))?this.$elUl.animate({scrollTop:t},e):this.$elUl.scrollTop(t)},e.prototype.show=function(){var t;if(!this.stopShowing)return this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(t=this.context.rect())?this.reposition(t):void 0;this.stopShowing=!1},e.prototype.hide=function(t,e){var i,n;if(this.visible())return isNaN(e)?(this.$el.hide(),this.context.trigger("hidden",[t])):(n=this,i=function(){return n.hide()},clearTimeout(this.timeoutID),this.timeoutID=setTimeout(i,e))},e.prototype.render=function(e){var i,n,s,o,r,a,l;if(t.isArray(e)&&e.length>0){for(this.$el.find("ul").empty(),n=this.$el.find("ul"),l=this.context.getOpt("displayTpl"),s=0,r=e.length;s<r;s++)o=e[s],o=t.extend({},o,{"atwho-at":this.context.at}),a=this.context.callbacks("tplEval").call(this.context,l,o,"onDisplay"),(i=t(this.context.callbacks("highlighter").call(this.context,a,this.context.query.text))).data("item-data",o),n.append(i);return this.show(),this.context.getOpt("highlightFirst")?n.find("li:first").addClass("cur"):void 0}this.hide()},e}(),u={load:function(t,e){var i;if(i=this.controller(t))return i.model.load(e)},isSelecting:function(){var t;return!!(null!=(t=this.controller())?t.view.visible():void 0)},hide:function(){var t;return null!=(t=this.controller())?t.view.hide():void 0},reposition:function(){var t;if(t=this.controller())return t.view.reposition(t.rect())},setIframe:function(t,e){return this.setupRootElement(t,e),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},t.fn.atwho=function(e){var i,s;return i=arguments,s=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function(){var o,r;return(r=(o=t(this)).data("atwho"))||o.data("atwho",r=new n(this)),"object"!=typeof e&&e?u[e]&&r?s=u[e].apply(r,Array.prototype.slice.call(i,1)):t.error("Method "+e+" does not exist on jQuery.atwho"):r.reg(e.at,e)}),null!=s?s:this},t.fn.atwho["default"]={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",headerTpl:null,callbacks:e,functionOverrides:{},searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,acceptSpaceBar:!1,highlightFirst:!0,limit:5,maxLen:20,minLen:0,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150,suspendOnComposing:!0,lookUpOnClick:!0},t.fn.atwho.debug=!1}),("undefined"==typeof module?window.Gitee:module.exports).fuzzySearch=function(t,e){var i,n,s,o=e.length,r=t.length;if(t=t.toLowerCase(),e=e.toLowerCase(),r>o)return!1;if(r===o)return t===e;for(n=0,i=0;n<r;++n){for(s=t.charCodeAt(n);i<o&&e.charCodeAt(i++)!==s;);if(i>=o)return!1}return!0},function(){null==window.GitLab&&(window.GitLab={}),GitLab.GfmAutoComplete={dataSource:"",loadedSource:"",loadedSourceData:null,enableLinkIssue:!0,Emoji:{assetBase:"",displayTpl:'<li data-value="${insert}">${name} <img alt="${name}" height="20" src="${image}" width="20" /></li>',insertTpl:"${atwho-at}${insert}"},Members:{displayTpl:'<li data-value="${name}">${name} <small>${username}</small></li>',insertTpl:"${atwho-at}${name}"},Issues:{displayTpl:'<li data-value="${id}"><small>#${id}</small> ${title} </li>',insertTpl:"${atwho-at}${id}"},PullRequests:{displayTpl:'<li data-value="${id}"><small>!${id}</small> ${title} </li>',insertTpl:"${atwho-at}${id}"},Code:{displayTpl:'<li data-value="${id}"><small>${id}</small> ${title} </li>',insertTpl:"${atwho-at}${id}"},reload:function(){var t,e,i;return i=this,t=this.loadedSourceData,e=i.updateMembers(),$(".md-input, .edit_note textarea").each(function(){var n,s;return(n=(s=$(this)).data("atContextElement"))&&n.length>0?s.atwho("load","@",i.updateMembers(n)):s.atwho("load","@",e),i.enableLinkIssue&&s.atwho("load","issues",t.issues),s.atwho("load","pull_requests",t.pull_requests),s.atwho("load",":",t.emojis)})},updateMembers:function(t){var e,i,n;return e=[],{},i=this.loadedSourceData,(t&&t.length>0?t.find(".author"):$("#notes-list .note a.avatar, .sidebox a.author, .git-issue-meta .author")).each(function(){return e.push({username:$(this).attr("username"),name:$(this).attr("name"),name_pinyin:""})}),i&&(e=e.concat(i.members)),this.Members.data={},e.filter((n=this,function(t){return!(!t.name||n.Members.data[t.name]||(n.Members.data[t.name]=t.username,0))}))},reloadMembers:function(t){var e;return e=t.data("atContextElement"),t.atwho("load","@",this.updateMembers(e))},setup:function(t,e){var i,n,s,o,r,a;return r=this,i=function(t){return setTimeout(function(){return t.trigger(jQuery.Event("keyup",{which:39}))},0)},t&&t.length>0?t.data("atContextElement",e):t=$(".md-input, .edit_note textarea"),t.atwho({at:":",insertTpl:this.Emoji.insertTpl,displayTpl:this.Emoji.displayTpl,callbacks:{beforeSave:(a=this,function(t){return $.map(t,function(t){return{name:t,insert:t+":",image:a.Emoji.assetBase+"/"+t+".png"}})}),beforeInsert:function(t){return i(this.$inputor),t}}}),t.atwho({at:"@",displayTpl:this.Members.displayTpl,searchKey:"search",callbacks:{filter:function(t,e,i){var n,s,o,r;if(!t)return e;for(r=[],s=0,o=e.length;s<o;s++)n=e[s],Gitee.fuzzySearch(t,n[i])&&r.push(n);return r},sorter:function(t,e,i){var n,s,o,r,a;if(!t)return e;for(a=[],o=0,r=e.length;o<r;o++)s=e[o],Gitee.fuzzySearch(t,s[i])&&(n=s[i].toLowerCase().indexOf(t[0].toLowerCase()),a.push([s,n]));return a.sort(function(t,e){return t[1]-e[1]}),a.map(function(t){return t[0]})},beforeSave:function(e){var i,n;return n={},i=$.map(e,function(t){return n[t.name]=t.username,{name:t.name,username:t.username,search:t.username+" "+t.name_pinyin+" "+t.name}}),t.data("users",n),i},beforeInsert:function(t){return i(this.$inputor),t}}}),this.enableLinkIssue&&t.atwho({at:"#",alias:"issues",searchKey:"search",displayTpl:this.Issues.displayTpl,insertTpl:this.Issues.insertTpl,callbacks:{beforeSave:function(t){return $.map(t,function(t){return{id:t.ident,title:htmlSafe(t.title),search:t.ident+" "+t.title}})},beforeInsert:function(t){return i(this.$inputor),t}}}),t.atwho({at:"!",alias:"pull_requests",searchKey:"search",displayTpl:this.PullRequests.displayTpl,insertTpl:this.PullRequests.insertTpl,callbacks:{beforeSave:function(t){return $.map(t,function(t){return{id:t.iid,title:htmlSafe(t.title),search:t.iid+" "+t.title}})},beforeInsert:function(t){return i(this.$inputor),t}}}),t.atwho({at:"&",alias:"codes",searchKey:"search",displayTpl:this.Code.displayTpl,insertTpl:this.Code.insertTpl,callbacks:{beforeSave:function(t){return $.map(t,function(t){return{id:t.id,key:htmlSafe(t.key),search:t.id+" "+t.key}})},beforeInsert:function(t){return i(this.$inputor),t}}}),o=function(){var e;return(e=(t=$(document.activeElement)).prop("selectionStart"))>0?t.val().charAt(e-1):""},n=function(t){var e,i,n,a,l;if(i=!1,r.dataSource){for(n=0,a=(l=[o(),String.fromCharCode(t.charCode)]).length;n<a;n++)if(e=l[n],["@","#","!",":","&"].indexOf(e)>=0){i=!0;break}return i?s():null}},s=function(){return r.dataSource===r.loadedSource?r.loadedSourceData?r.reload():void 0:(r.loadedSource=r.dataSource,$.getJSON(r.dataSource).done(function(e){return r.loadedSourceData=e,r.reload(),$(document.activeElement).atwho("run"),t.off(".checkload")}))},t.on("keypress.checkload",n),t.on("keydown.checkload",n),t.bind("paste.checkload",s),t.bind("reply.checkload",s)}}}.call(this),
/*
Chosen source: generate output using 'cake build'
Copyright (c) 2011 by Harvest
 */
function(){var t,e;e=this,t=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return t.prototype.set_default_values=function(){var t;return this.click_test_action=(t=this,function(e){return t.test_active_click(e)}),this.activate_action=function(t){return function(e){return t.activate_field(e)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){if(this.is_multiple){if(!this.active_field)return setTimeout((t=this,function(){return t.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field();var t},t.prototype.input_blur=function(){if(!this.mouse_on_container)return this.active_field=!1,setTimeout((t=this,function(){return t.blur_test()}),100);var t},t.prototype.result_add_option=function(t){var e,i;return t.disabled?"":(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+i+">"+t.html+"</li>")},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.choices_click=function(t){if(t.preventDefault(),!this.results_showing)return this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(i=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),i){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.generate_field_id=function(){var t;return t=this.generate_random_id(),this.form_field.id=t,t},t.prototype.generate_random_char=function(){var t,e;return t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",e=Math.floor(Math.random()*t.length),t.substring(e,e+1)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:(null!=window.getComputedStyle?parseFloat(window.getComputedStyle(this.form_field).getPropertyValue("width")):"undefined"!=typeof jQuery&&null!==jQuery&&null!=this.form_field_jq?this.form_field_jq.outerWidth():this.form_field.getWidth())+"px"},t.browser_is_supported=function(){var t;return"Microsoft Internet Explorer"!==window.navigator.appName||null!==(t=document.documentMode)&&t>=8},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),e.AbstractChosen=t}.call(this),function(){var t;(t=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,s,o,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),r=[],i=0,n=(o=t.childNodes).length;i<n;i++)s=o[i],r.push(this.add_option(s,e,t.disabled));return r},t.prototype.add_option=function(t,e,i){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:!0===i?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}()).select_to_array=function(e){var i,n,s,o,r;for(o=new t,n=0,s=(r=e.childNodes).length;n<s;n++)i=r[n],o.add_node(i);return o.parsed},this.SelectParser=t}.call(this),
/*
Chosen source: generate output using 'cake build'
Copyright (c) 2011 by Harvest
 */
function(){var t,e,i,n=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=this,(t=jQuery).fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(){var n;if(!(n=t(this)).hasClass("chzn-done"))return n.data("chosen",new e(this,i))}):this}}),e=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return n(s,e),s.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},s.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},s.prototype.set_up_html=function(){var e,i;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",(e=["chzn-container"]).push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chzn-rtl"),i={id:this.container_id,"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},s.prototype.register_observers=function(){var t;return this.container.mousedown((t=this,function(e){t.container_mousedown(e)})),this.container.mouseup(function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.mouseenter(function(t){return function(e){t.mouse_enter(e)}}(this)),this.container.mouseleave(function(t){return function(e){t.mouse_leave(e)}}(this)),this.search_results.mouseup(function(t){return function(e){t.search_results_mouseup(e)}}(this)),this.search_results.mouseover(function(t){return function(e){t.search_results_mouseover(e)}}(this)),this.search_results.mouseout(function(t){return function(e){t.search_results_mouseout(e)}}(this)),this.search_results.bind("mousewheel DOMMouseScroll",function(t){return function(e){t.search_results_mousewheel(e)}}(this)),this.form_field_jq.bind("liszt:updated",function(t){return function(e){t.results_update_field(e)}}(this)),this.form_field_jq.bind("liszt:activate",function(t){return function(e){t.activate_field(e)}}(this)),this.form_field_jq.bind("liszt:open",function(t){return function(e){t.container_mousedown(e)}}(this)),this.search_field.blur(function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.keyup(function(t){return function(e){t.keyup_checker(e)}}(this)),this.search_field.keydown(function(t){return function(e){t.keydown_checker(e)}}(this)),this.search_field.focus(function(t){return function(e){t.input_focus(e)}}(this)),this.is_multiple?this.search_choices.click(function(t){return function(e){t.choices_click(e)}}(this)):this.container.click(function(t){t.preventDefault()})},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},s.prototype.container_mousedown=function(e){if(!this.is_disabled&&(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null==e||!t(e.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chzn-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).click(this.click_test_action),this.results_show()),this.activate_field()},s.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},s.prototype.search_results_mousewheel=function(t){var e,i,n;if(null!=(e=-(null!=(i=t.originalEvent)?i.wheelDelta:void 0)||(null!=(n=t.originialEvent)?n.detail:void 0)))return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},s.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chzn-container-active"))return this.close_field()},s.prototype.close_field=function(){return t(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(e){return t(e.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){var t,e,n,s,o;for(this.parsing=!0,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),t="",n=0,s=(o=this.results_data).length;n<s;n++)(e=o[n]).group?t+=this.result_add_group(e):e.empty||(t+=this.result_add_option(e),e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(e.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(t),this.parsing=!1},s.prototype.result_add_group=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+t("<div />").text(e.label).html()+"</li>")},s.prototype.result_do_highlight=function(t){var e,i,n,s,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),s=(n=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop()),(e=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=s)return this.search_results.scrollTop(e-n>0?e-n:0);if(i<o)return this.search_results.scrollTop(i)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){if(null!=this.result_single_selected)this.result_do_highlight(this.result_single_selected);else if(this.is_multiple&&this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1;return this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},s.prototype.results_hide=function(){return this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.results_showing=!1},s.prototype.set_tab_index=function(){var t;if(this.form_field_jq.attr("tabindex"))return t=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",t)},s.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for="+this.form_field.id+"]")),this.form_field_label.length>0)return this.form_field_label.click((e=this,function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}));var e},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(e){var i;if((i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first()).length)return this.result_highlight=i,this.result_select(e),this.search_field.focus()},s.prototype.search_results_mouseover=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(i)},s.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result"))return this.result_clear_highlight()},s.prototype.choice_build=function(e){var i,n,s;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(i=this.container_id+"_c_"+e.array_index,this.choices+=1,n=e.disabled?'<li class="search-choice search-choice-disabled" id="'+i+'"><span>'+e.html+"</span></li>":'<li class="search-choice" id="'+i+'"><span>'+e.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+e.array_index+'"></a></li>',this.search_container.before(n),t("#"+i).find("a").first().click((s=this,function(t){return s.choice_destroy_link_click(t)})))},s.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},s.prototype.choice_destroy=function(t){if(this.result_deselect(t.attr("rel")))return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},s.prototype.results_reset=function(){if(this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(t){var e,i,n,s;if(this.result_highlight)return i=(e=this.result_highlight).attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(e):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=e,this.selected_item.removeClass("chzn-default")),e.addClass("result-selected"),s=i.substr(i.lastIndexOf("_")+1),(n=this.results_data[s]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.is_multiple?this.choice_build(n):(this.selected_item.find("span").first().text(n.text),this.allow_single_deselect&&this.single_deselect_control_build()),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale()},s.prototype.result_activate=function(t){return t.addClass("active-result")},s.prototype.result_deactivate=function(t){return t.removeClass("active-result")},s.prototype.result_deselect=function(e){var i;return i=this.results_data[e],!this.form_field.options[i.options_index].disabled&&(i.selected=!1,this.form_field.options[i.options_index].selected=!1,t("#"+this.container_id+"_o_"+e).removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[i.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1)return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')},s.prototype.winnow_results=function(){var e,i,n,s,o,r,a,l,h,c,d,u,p,f,m,g,v,y;for(this.no_results_clear(),f=0,m=this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html(),d=this.search_contains?"":"^",c=new RegExp(d+m.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),y=new RegExp(m.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),i=0,s=(h=this.results_data).length;i<s;i++)if(!(r=h[i]).disabled&&!r.empty)if(r.group)t("#"+r.dom_id).css("display","none");else if(!this.is_multiple||!r.selected){if(e=!1,p=r.dom_id,u=t("#"+p),c.test(r.html))e=!0,f+=1;else if(this.enable_split_word_search&&(r.html.indexOf(" ")>=0||0===r.html.indexOf("["))&&(l=r.html.replace(/\[|\]/g,"").split(" ")).length)for(n=0,o=l.length;n<o;n++)a=l[n],c.test(a)&&(e=!0,f+=1);e?(m.length?(g=r.html.search(y),v=(v=r.html.substr(0,g+m.length)+"</em>"+r.html.substr(g+m.length)).substr(0,g)+"<em>"+v.substr(g)):v=r.html,u.html(v),this.result_activate(u),null!=r.group_array_index&&t("#"+this.results_data[r.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&p===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(u))}return f<1&&m.length?this.no_results(m):this.winnow_results_set_highlight()},s.prototype.winnow_results_clear=function(){var e,i,n,s,o;for(this.search_field.val(""),o=[],e=0,i=(s=this.search_results.find("li")).length;e<i;e++)n=s[e],(n=t(n)).hasClass("group-result")?o.push(n.css("display","auto")):this.is_multiple&&n.hasClass("result-selected")?o.push(void 0):o.push(this.result_activate(n));return o},s.prototype.winnow_results_set_highlight=function(){var t,e;if(!this.result_highlight&&null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},s.prototype.no_results=function(e){var i;return(i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(e),this.search_results.append(i)},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var e,i;if(this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first())&&this.result_do_highlight(i):(e=this.search_results.find("li.active-result").first())&&this.result_do_highlight(t(e)),!this.results_showing)return this.results_show()},s.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(t){var e,i;switch(i=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==i&&this.pending_backstroke&&this.clear_backstroke(),i){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},s.prototype.search_field_scale=function(){var e,i,n,s,o,r,a;if(this.is_multiple){for(0,a=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",i=0,n=(r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;i<n;i++)o+=(s=r[i])+":"+this.search_field.css(s)+";";return(e=t("<div />",{style:o})).text(this.search_field.val()),t("body").append(e),a=e.width()+25,e.remove(),this.f_width||(this.f_width=this.container.outerWidth()),a>this.f_width-10&&(a=this.f_width-10),this.search_field.css({width:a+"px"})}},s.prototype.generate_random_id=function(){var e;for(e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();t("#"+e).length>0;)e+=this.generate_random_char();return e},s}(AbstractChosen),i.Chosen=e}.call(this),
/*
Copyright 2012 Igor Vaynberg

Version: 3.5.4 Timestamp: Sun Aug 30 13:30:32 EDT 2015

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
function(t){"undefined"==typeof t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var i=t([0]),n=-1,s=this.length;++n<s&&(i.context=i[0]=this[n])&&!1!==e.call(i[0],n,i););return this}})}(jQuery),function(t,e){"use strict";function i(e){var i=t(document.createTextNode(""));e.before(i),i.before(e),i.remove()}function n(t){function e(t){return H[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function s(t,e){for(var i=0,n=e.length;i<n;i+=1)if(r(t,e[i]))return i;return-1}function o(){var e=t(B);e.appendTo(document.body);var i={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),i}function r(t,i){return t===i||t!==e&&i!==e&&(null!==t&&null!==i&&(t.constructor===String?t+""==i+"":i.constructor===String&&i+""==t+""))}function a(t,e,i){var n,s,o;if(null===t||t.length<1)return[];for(s=0,o=(n=t.split(e)).length;s<o;s+=1)n[s]=i(n[s]);return n}function l(t){return t.outerWidth(!1)-t.width()}function h(i){var n="keyup-change-value";i.on("keydown",function(){t.data(i,n)===e&&t.data(i,n,i.val())}),i.on("keyup",function(){var s=t.data(i,n);s!==e&&i.val()!==s&&(t.removeData(i,n),i.trigger("keyup-change"))})}function c(i){i.on("mousemove",function(i){var n=R;n!==e&&n.x===i.pageX&&n.y===i.pageY||t(i.target).trigger("mousemove-filtered",i)})}function d(t,i,n){var s;return n=n||e,function(){var e=arguments;window.clearTimeout(s),s=window.setTimeout(function(){i.apply(n,e)},t)}}function u(t,e){var i=d(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){s(t.target,e.get())>=0&&i(t)})}function p(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,i=t[0],n=t.val().length;t.focus(),(i.offsetWidth>0||i.offsetHeight>0)&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&((e=i.createTextRange()).collapse(!1),e.select()))},0)}function f(e){var i=0,n=0;if("selectionStart"in(e=t(e)[0]))i=e.selectionStart,n=e.selectionEnd-i;else if("selection"in document){e.focus();var s=document.selection.createRange();n=document.selection.createRange().text.length,s.moveStart("character",-e.value.length),i=s.text.length-n}return{offset:i,length:n}}function m(t){t.preventDefault(),t.stopPropagation()}function g(t){t.preventDefault(),t.stopImmediatePropagation()}function v(e){if(!I){var i=e[0].currentStyle||window.getComputedStyle(e[0],null);(I=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),t(document.body).append(I)}return I.text(e.val()),I.width()}function y(e,i,n){var s,o,r=[];(s=t.trim(e.attr("class")))&&t((s=""+s).split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&r.push(this)}),(s=t.trim(i.attr("class")))&&t((s=""+s).split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=n(this))&&r.push(o)}),e.attr("class",r.join(" "))}function b(t,e,i,s){var o=n(t.toUpperCase()).indexOf(n(e.toUpperCase())),r=e.length;o<0?i.push(s(t)):(i.push(s(t.substring(0,o))),i.push("<span class='select2-match'>"),i.push(s(t.substring(o,o+r))),i.push("</span>"),i.push(s(t.substring(o+r,t.length))))}function x(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function w(i){var n,s=null,o=i.quietMillis||100,r=i.url,a=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){var n=i.data,o=r,h=i.transport||t.fn.select2.ajaxDefaults.transport,c={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||e,dataType:i.dataType||"json"},d=t.extend({},t.fn.select2.ajaxDefaults.params,c);n=n?n.call(a,l.term,l.page,l.context):null,o="function"==typeof o?o.call(a,l.term,l.page,l.context):o,s&&"function"==typeof s.abort&&s.abort(),i.params&&(t.isFunction(i.params)?t.extend(d,i.params.call(a)):t.extend(d,i.params)),t.extend(d,{url:o,dataType:i.dataType,data:n,success:function(t){var e=i.results(t,l.page,l);l.callback(e)},error:function(t,e,i){var n={hasError:!0,jqXHR:t,textStatus:e,errorThrown:i};l.callback(n)}}),s=h.call(a,d)},o)}}function _(e){var i,n,s=e,o=function(t){return""+t.text};t.isArray(s)&&(s={results:n=s}),!1===t.isFunction(s)&&(n=s,s=function(){return n});var r=s();return r.text&&(o=r.text,t.isFunction(o)||(i=r.text,o=function(t){return t[i]})),function(e){var i,n=e.term,r={results:[]};""!==n?(i=function(s,r){var a,l;if((s=s[0]).children){for(l in a={},s)s.hasOwnProperty(l)&&(a[l]=s[l]);a.children=[],t(s.children).each2(function(t,e){i(e,a.children)}),(a.children.length||e.matcher(n,o(a),s))&&r.push(a)}else e.matcher(n,o(s),s)&&r.push(s)},t(s().results).each2(function(t,e){i(e,r.results)}),e.callback(r)):e.callback(s())}}function k(i){var n=t.isFunction(i);return function(s){var o=s.term,r={results:[]},a=n?i(s):i;t.isArray(a)&&(t(a).each(function(){var t=this.text!==e,i=t?this.text:this;(""===o||s.matcher(o,i))&&r.results.push(t?this:{id:this,text:this})}),s.callback(r))}}function C(e,i){if(t.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(i+" must be a string, function, or falsy value")}function T(e,i){if(t.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return e.apply(i,n)}return e}function S(e){var i=0;return t.each(e,function(t,e){e.children?i+=S(e.children):i++}),i}function D(t,i,n,s){var o,a,l,h,c,d=t,u=!1;if(!s.createSearchChoice||!s.tokenSeparators||s.tokenSeparators.length<1)return e;for(;;){for(a=-1,l=0,h=s.tokenSeparators.length;l<h&&(c=s.tokenSeparators[l],!((a=t.indexOf(c))>=0));l++);if(a<0)break;if(o=t.substring(0,a),t=t.substring(a+c.length),o.length>0&&(o=s.createSearchChoice.call(this,o,i))!==e&&null!==o&&s.id(o)!==e&&null!==s.id(o)){for(u=!1,l=0,h=i.length;l<h;l++)if(r(s.id(o),s.id(i[l]))){u=!0;break}u||n(o)}}return d!==t?t:void 0}function $(){var e=this;t.each(arguments,function(t,i){e[i].remove(),e[i]=null})}function M(e,i){var n=function(){};return n.prototype=new e,n.prototype.constructor=n,n.prototype.parent=e.prototype,n.prototype=t.extend(n.prototype,i),n}if(window.Select2===e){var A,L,E,P,I,N,F,O,R={x:0,y:0},j={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case j.LEFT:case j.RIGHT:case j.UP:case j.DOWN:return!0}return!1},isControl:function(t){switch(t.which){case j.SHIFT:case j.CTRL:case j.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return(t=t.which?t.which:t)>=112&&t<=123}},B="<div class='select2-measure-scrollbar'></div>",H={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};N=t(document),O=1,P=function(){return O++},L=M(A=M(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var n,s,r=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=t(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+P()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=t(document.body),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(T(i.containerCss,this.opts.element)),this.container.addClass(T(i.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(i.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=n=this.container.find(r),this.search=s=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),c(this.results),this.dropdown.on("mousemove-filtered",r,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",r,this.bind(function(t){this._touchEvent=!0,this.highlightUnderEvent(t)})),this.dropdown.on("touchmove",r,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",r,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),u(80,this.results),this.dropdown.on("scroll-debounced",r,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&n.mousewheel(function(t,e,i,s){var o=n.scrollTop();s>0&&o-s<=0?(n.scrollTop(0),m(t)):s<0&&n.get(0).scrollHeight-n.scrollTop()+s<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),m(t))}),h(s),s.on("keyup-change input paste",this.bind(this.updateResults)),s.on("focus",function(){s.addClass("select2-focused")}),s.on("blur",function(){s.removeClass("select2-focused")}),this.dropdown.on("mouseup",r,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(t){t.stopPropagation()}),this.lastSearchTerm=e,t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var a=i.element.prop("disabled");a===e&&(a=!1),this.enable(!a);var l=i.element.prop("readonly");l===e&&(l=!1),this.readonly(l),F=F||o(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,i=t.data("select2"),n=this;this.close(),t.length&&t[0].detachEvent&&n._sync&&t.each(function(){n._sync&&this.detachEvent("onpropertychange",n._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,i!==e&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),t.removeData("select2").off(".select2"),t.is("input[type='hidden']")?t.css("display",""):(t.show().prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())),$.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:r(t.attr("locked"),"locked")||r(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(i){var n,s,o,l,h=this;if("select"===(n=i.element).get(0).tagName.toLowerCase()&&(this.select=s=i.element),s&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i.debug=i.debug||t.fn.select2.defaults.debug,i.debug&&console&&console.warn&&(null!=i.id&&console.warn("Select2: The `id` option has been removed in Select2 4.0.0, consider renaming your `id` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=i.text&&console.warn("Select2: The `text` option has been removed in Select2 4.0.0, consider renaming your `text` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=i.sortResults&&console.warn("Select2: the `sortResults` option has been renamed to `sorter` in Select2 4.0.0. "),null!=i.selectOnBlur&&console.warn("Select2: The `selectOnBlur` option has been renamed to `selectOnClose` in Select2 4.0.0."),null!=i.ajax&&null!=i.ajax.results&&console.warn("Select2: The `ajax.results` option has been renamed to `ajax.processResults` in Select2 4.0.0."),null!=i.formatNoResults&&console.warn("Select2: The `formatNoResults` option has been renamed to `language.noResults` in Select2 4.0.0."),null!=i.formatSearching&&console.warn("Select2: The `formatSearching` option has been renamed to `language.searching` in Select2 4.0.0."),null!=i.formatInputTooShort&&console.warn("Select2: The `formatInputTooShort` option has been renamed to `language.inputTooShort` in Select2 4.0.0."),null!=i.formatInputTooLong&&console.warn("Select2: The `formatInputTooLong` option has been renamed to `language.inputTooLong` in Select2 4.0.0."),null!=i.formatLoading&&console.warn("Select2: The `formatLoading` option has been renamed to `language.loadingMore` in Select2 4.0.0."),null!=i.formatSelectionTooBig&&console.warn("Select2: The `formatSelectionTooBig` option has been renamed to `language.maximumSelected` in Select2 4.0.0."),i.element.data("select2Tags")&&console.warn("Select2: The `data-select2-tags` attribute has been renamed to `data-tags` in Select2 4.0.0.")),null!=i.element.data("tags")){var c=i.element.data("tags");t.isArray(c)||(c=[]),i.element.data("select2Tags",c)}if(null!=i.sorter&&(i.sortResults=i.sorter),null!=i.selectOnClose&&(i.selectOnBlur=i.selectOnClose),null!=i.ajax&&t.isFunction(i.ajax.processResults)&&(i.ajax.results=i.ajax.processResults),null!=i.language){var d=i.language;t.isFunction(d.noMatches)&&(i.formatNoMatches=d.noMatches),t.isFunction(d.searching)&&(i.formatSearching=d.searching),t.isFunction(d.inputTooShort)&&(i.formatInputTooShort=d.inputTooShort),t.isFunction(d.inputTooLong)&&(i.formatInputTooLong=d.inputTooLong),t.isFunction(d.loadingMore)&&(i.formatLoading=d.loadingMore),t.isFunction(d.maximumSelected)&&(i.formatSelectionTooBig=d.maximumSelected)}if("function"!=typeof(i=t.extend({},{populateResults:function(n,s,o){var r,a=this.opts.id,l=this.liveRegion;(r=function(n,s,c){var d,u,p,f,m,g,v,y,b,x,w=[];for(d=0,u=(n=i.sortResults(n,s,o)).length;d<u;d+=1)f=!(m=!0===(p=n[d]).disabled)&&a(p)!==e,g=p.children&&p.children.length>0,(v=t("<li></li>")).addClass("select2-results-dept-"+c),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(h.opts.formatResultCssClass(p)),v.attr("role","presentation"),(y=t(document.createElement("div"))).addClass("select2-result-label"),y.attr("id","select2-result-label-"+P()),y.attr("role","option"),(x=i.formatResult(p,y,o,h.opts.escapeMarkup))!==e&&(y.html(x),v.append(y)),g&&((b=t("<ul></ul>")).addClass("select2-result-sub"),r(p.children,b,c+1),v.append(b)),v.data("select2-data",p),w.push(v[0]);s.append(w),l.text(i.formatMatches(n.length))})(s,n,0)}},t.fn.select2.defaults,i)).id&&(o=i.id,i.id=function(t){return t[o]}),t.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(s?(i.query=this.bind(function(t){var i,s,o,r={results:[],more:!1},a=t.term;o=function(e,i){var n;e.is("option")?t.matcher(a,e.text(),e)&&i.push(h.optionToData(e)):e.is("optgroup")&&(n=h.optionToData(e),e.children().each2(function(t,e){o(e,n.children)}),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==e&&i.length>0&&(s=this.getPlaceholderOption())&&(i=i.not(s)),i.each2(function(t,e){o(e,r.results)}),t.callback(r)}),i.id=function(t){return t.id}):"query"in i||("ajax"in i?((l=i.element.data("ajax-url"))&&l.length>0&&(i.ajax.url=l),i.query=w.call(i.element,i.ajax)):"data"in i?i.query=_(i.data):"tags"in i&&(i.query=k(i.tags),i.createSearchChoice===e&&(i.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),i.initSelection===e&&(i.initSelection=function(e,n){var s=[];t(a(e.val(),i.separator,i.transformVal)).each(function(){var e={id:this,text:this},n=i.tags;t.isFunction(n)&&(n=n()),t(n).each(function(){if(r(this.id,e.id))return e=this,!1}),s.push(e)}),n(s)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,n=this.opts.element,s=this;n.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var t=n.prop("disabled");t===e&&(t=!1),this.enable(!t);var i=n.prop("readonly");i===e&&(i=!1),this.readonly(i),this.container&&(y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(T(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(this.opts.dropdownCssClass,this.opts.element)))}),n.length&&n[0].attachEvent&&n.each(function(){this.attachEvent("onpropertychange",s._sync)}),(i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(function(e){t.each(e,s._sync)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var i=t.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,i,n,s,o,r=this.dropdown,a=this.container,l=a.offset(),h=a.outerHeight(!1),c=a.outerWidth(!1),d=r.outerHeight(!1),u=t(window),p=u.width(),f=u.height(),m=u.scrollLeft()+p,g=u.scrollTop()+f,v=l.top+h,y=l.left,b=v+d<=g,x=l.top-d>=u.scrollTop(),w=r.outerWidth(!1),_=function(){return y+w<=m},k=function(){return l.left+m+a.outerWidth(!1)>w};r.hasClass("select2-drop-above")?(i=!0,!x&&b&&(n=!0,i=!1)):(i=!1,!b&&x&&(n=!0,i=!0)),n&&(r.hide(),l=this.container.offset(),h=this.container.outerHeight(!1),c=this.container.outerWidth(!1),d=r.outerHeight(!1),m=u.scrollLeft()+p,g=u.scrollTop()+f,v=l.top+h,y=l.left,w=r.outerWidth(!1),r.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=t(".select2-results",r)[0],r.addClass("select2-drop-auto-width"),r.css("width",""),(w=r.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:F.width))>c?c=w:w=c,d=r.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(v-=(e=this.body.offset()).top,y-=e.left),!_()&&k()&&(y=l.left+this.container.outerWidth(!1)-w),s={left:y,width:c},i?(this.container.addClass("select2-drop-above"),r.addClass("select2-drop-above"),d=r.outerHeight(!1),s.top=l.top-d,s.bottom="auto"):(s.top=v,s.bottom="auto",this.container.removeClass("select2-drop-above"),r.removeClass("select2-drop-above")),s=t.extend(s,T(this.opts.dropdownCss,this.opts.element)),r.css(s)},shouldOpen:function(){var e;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),N.on("mousemove.select2Event",function(t){R.x=t.pageX,R.y=t.pageY}),!0)},opening:function(){var e,n=this.containerEventName,s="scroll."+n,o="resize."+n,r="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0===(e=t("#select2-drop-mask")).length&&((e=t(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body),e.on("mousedown touchstart click",function(n){i(e);var s,o=t("#select2-drop");o.length>0&&((s=o.data("select2")).opts.selectOnBlur&&s.selectHighlighted({
noFocus:!0}),s.close(),n.preventDefault(),n.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){t(this).on(o+" "+s+" "+r,function(){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerEventName,i="scroll."+e,n="resize."+e,s="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(i).off(n).off(s)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),N.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.search.removeAttr("aria-activedescendant"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},prefillNextSearchTerm:function(){if(""!==this.search.val())return!1;var t=this.opts.nextSearchTerm(this.data(),this.lastSearchTerm);return t!==e&&(this.search.val(t),this.search.select(),!0)},getMaximumSelectionSize:function(){return T(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e,i,n,s,o,r,a,l,h=this.results;(i=this.highlight())<0||(0!=i?(e=this.findHighlightableChoices().find(".select2-result-label"),s=(l=((n=t(e[i])).offset()||{}).top||0)+n.outerHeight(!0),i===e.length-1&&(a=h.find("li.select2-more-results")).length>0&&(s=a.offset().top+a.outerHeight(!0)),s>(o=h.offset().top+h.outerHeight(!1))&&h.scrollTop(h.scrollTop()+(s-o)),(r=l-h.offset().top)<0&&"none"!=n.css("display")&&h.scrollTop(h.scrollTop()+r)):h.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){var s=t(i[n+=e]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(e){var i,n,o=this.findHighlightableChoices();if(0===arguments.length)return s(o.filter(".select2-highlighted")[0],o.get());e>=o.length&&(e=o.length-1),e<0&&(e=0),this.removeHighlight(),(i=t(o[e])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),(n=i.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,e=t.find("li.select2-more-results"),i=this.resultsPage+1,n=this,s=this.search.val(),o=this.context;0!==e.length&&e.offset().top-t.offset().top-t.height()<=this.opts.loadMorePadding&&(e.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:i,context:o,matcher:this.opts.matcher,callback:this.bind(function(r){n.opened()&&(n.opts.populateResults.call(this,t,r.results,{term:s,page:i,context:o}),n.postprocessResults(r,!1,!1),!0===r.more?(e.detach().appendTo(t).html(n.opts.escapeMarkup(T(n.opts.formatLoadMore,n.opts.element,i+1))),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):e.remove(),n.positionDropdown(),n.resultsPage=i,n.context=r.context,this.opts.element.trigger({type:"select2-loaded",items:r}))})}))},tokenize:function(){},updateResults:function(i){function n(){h.removeClass("select2-active"),u.positionDropdown(),c.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?u.liveRegion.text(c.text()):u.liveRegion.text(u.opts.formatMatches(c.find('.select2-result-selectable:not(".select2-selected")').length))}function s(t){c.html(t),n()}var o,a,l,h=this.search,c=this.results,d=this.opts,u=this,p=h.val(),f=t.data(this.container,"select2-last-term");if((!0===i||!f||!r(p,f))&&(t.data(this.container,"select2-last-term",p),!0===i||!1!==this.showSearchInput&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(!(m>=1&&(o=this.data(),t.isArray(o)&&o.length>=m&&C(d.formatSelectionTooBig,"formatSelectionTooBig"))))return h.val().length<d.minimumInputLength?(C(d.formatInputTooShort,"formatInputTooShort")?s("<li class='select2-no-results'>"+T(d.formatInputTooShort,d.element,h.val(),d.minimumInputLength)+"</li>"):s(""),void(i&&this.showSearch&&this.showSearch(!0))):void(d.maximumInputLength&&h.val().length>d.maximumInputLength?C(d.formatInputTooLong,"formatInputTooLong")?s("<li class='select2-no-results'>"+T(d.formatInputTooLong,d.element,h.val(),d.maximumInputLength)+"</li>"):s(""):(d.formatSearching&&0===this.findHighlightableChoices().length&&s("<li class='select2-searching'>"+T(d.formatSearching,d.element)+"</li>"),h.addClass("select2-active"),this.removeHighlight(),(a=this.tokenize())!=e&&null!=a&&h.val(a),this.resultsPage=1,d.query({element:d.element,term:h.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(o){var a;if(l==this.queryCount)if(this.opened())if(o.hasError!==e&&C(d.formatAjaxError,"formatAjaxError"))s("<li class='select2-ajax-error'>"+T(d.formatAjaxError,d.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>");else{if(this.context=o.context===e?null:o.context,this.opts.createSearchChoice&&""!==h.val()&&(a=this.opts.createSearchChoice.call(u,h.val(),o.results))!==e&&null!==a&&u.id(a)!==e&&null!==u.id(a)&&0===t(o.results).filter(function(){return r(u.id(this),u.id(a))}).length&&this.opts.createSearchChoicePosition(o.results,a),0===o.results.length&&C(d.formatNoMatches,"formatNoMatches"))return s("<li class='select2-no-results'>"+T(d.formatNoMatches,d.element,h.val())+"</li>"),void(this.showSearch&&this.showSearch(h.val()));c.empty(),u.opts.populateResults.call(this,c,o.results,{term:h.val(),page:this.resultsPage,context:null}),!0===o.more&&C(d.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+d.escapeMarkup(T(d.formatLoadMore,d.element,this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(o,i),n(),this.opts.element.trigger({type:"select2-loaded",items:o})}else this.search.removeClass("select2-active")})})));s("<li class='select2-selection-limit'>"+T(d.formatSelectionTooBig,d.element,m)+"</li>")}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(t){if(this._touchMoved)this.clearTouchMoved();else{var e=this.highlight(),i=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");i?(this.highlight(e),this.onSelect(i,t)):t&&t.noFocus&&this.close()}},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){function e(){var e,i,n,s,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if("string"==typeof(e=this.opts.element.attr("style")))for(s=0,o=(i=e.split(";")).length;s<o;s+=1)if(null!==(n=i[s].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&n.length>=1)return n[1];return"resolve"===this.opts.width?(e=this.opts.element.css("width")).indexOf("%")>0?e:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=e.call(this);null!==i&&this.container.css("width",i)}}),{createContainer:function(){return t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var e,i,n;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(e=this.search.get(0)).createTextRange?((i=e.createTextRange()).collapse(!1),i.select()):e.setSelectionRange&&(n=this.search.val().length,e.setSelectionRange(n,n))),this.prefillNextSearchTerm(),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),$.call(this,"selection","focusser")},initContainer:function(){var e,n,s=this.container,o=this.dropdown,r=P();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=s.find(".select2-choice"),this.focusser=s.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+r),this.focusser.attr("aria-labelledby","select2-chosen-"+r),this.results.attr("id","select2-results-"+r),this.search.attr("aria-owns","select2-results-"+r),this.focusser.attr("id","s2id_autogen"+r),n=t("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(t("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&229!=t.keyCode)if(t.which!==j.PAGE_UP&&t.which!==j.PAGE_DOWN)switch(t.which){case j.UP:case j.DOWN:return this.moveHighlight(t.which===j.UP?-1:1),void m(t);case j.ENTER:return this.selectHighlighted(),void m(t);case j.TAB:return void this.selectHighlighted({noFocus:!0});case j.ESC:return this.cancel(t),void m(t)}else m(t)})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.results&&this.results.length>1&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==j.TAB&&!j.isControl(t)&&!j.isFunctionKey(t)&&t.which!==j.ESC){if(!1!==this.opts.openOnEnter||t.which!==j.ENTER){if(t.which==j.DOWN||t.which==j.UP||t.which==j.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void m(t)}return t.which==j.DELETE||t.which==j.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(t)):void 0}m(t)}})),h(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),g(t),this.close(),this.selection&&this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(n){i(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(n)})),o.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),e.on("focus",this.bind(function(t){m(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(e){var i=this.selection.data("select2-data");if(i){var n=t.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var s=this.getPlaceholderOption();this.opts.element.val(s?s.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==e&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.setPlaceholder(),t.lastSearchTerm=t.search.val())})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()!==e&&((t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val())},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=t.find("option").filter(function(){return this.selected&&!this.disabled});e(i.optionToData(n))}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var s=i.val(),o=null;e.query({matcher:function(t,i,n){var a=r(s,e.id(n));return a&&(o=n),a},callback:t.isFunction(n)?function(){n(o)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,i){var n=0,s=this;if(this.findHighlightableChoices().each2(function(t,e){if(r(s.id(e.data("select2-data")),s.opts.element.val()))return n=t,!1}),!1!==i&&(!0===e&&n>=0?this.highlight(n):this.highlight(0)),!0===e){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(S(t.results)>=o)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.lastSearchTerm=this.search.val(),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),r(i,this.id(t))||this.triggerChange({added:t,removed:n})}},updateSelection:function(t){var i,n,s=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),s.empty(),null!==t&&(i=this.opts.formatSelection(t,s,this.opts.escapeMarkup)),i!==e&&s.append(i),(n=this.opts.formatSelectionCssClass(t,s))!==e&&s.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,i=!1,n=null,s=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1],this.opts.debug&&console&&console.warn&&console.warn('Select2: The second option to `select2("val")` is not supported in Select2 4.0.0. The `change` event will always be triggered in 4.0.0.')),this.select)this.opts.debug&&console&&console.warn&&console.warn('Select2: Setting the value on a <select> using `select2("val")` is no longer supported in 4.0.0. You can use the `.val(newValue).trigger("change")` method provided by jQuery instead.'),this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return n=s.optionToData(e),!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:o});else{if(!t&&0!==t)return void this.clear(i);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){s.opts.element.val(t?s.id(t):""),s.updateSelection(t),s.setPlaceholder(),i&&s.triggerChange({added:t,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var i,n=!1;if(0===arguments.length)return(i=this.selection.data("select2-data"))==e&&(i=null),i;this.opts.debug&&console&&console.warn&&console.warn('Select2: The `select2("data")` method can no longer set selected values in 4.0.0, consider using the `.val()` method instead.'),arguments.length>1&&(n=arguments[1]),t?(i=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),n&&this.triggerChange({added:t,removed:i})):this.clear(n)}}),E=M(A,{createContainer:function(){return t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,e){n.push(i.optionToData(e))}),e(n)}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var s=a(i.val(),e.separator,e.transformVal),o=[];e.query({matcher:function(i,n,a){var l=t.grep(s,function(t){return r(t,e.id(a))}).length;return l&&o.push(a),l},callback:t.isFunction(n)?function(){for(var t=[],i=0;i<s.length;i++)for(var a=s[i],l=0;l<o.length;l++){var h=o[l];if(r(a,e.id(h))){t.push(h),o.splice(l,1);break}}n(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),$.call(this,"searchContainer","selection")},initContainer:function(){var e,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(i);var n=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(){n.search[0].focus(),n.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+P()),this.search.prev().text(t("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var i=e.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),s=i.next(".select2-search-choice:not(.select2-locked)"),o=f(this.search);if(i.length&&(t.which==j.LEFT||t.which==j.RIGHT||t.which==j.BACKSPACE||t.which==j.DELETE||t.which==j.ENTER)){var r=i;return t.which==j.LEFT&&n.length?r=n:t.which==j.RIGHT?r=s.length?s:null:t.which===j.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),r=n.length?n:s):t.which==j.DELETE?this.unselect(i.first())&&(this.search.width(10),r=s.length?s:null):t.which==j.ENTER&&(r=null),this.selectChoice(r),m(t),void(r&&r.length||this.open())}if((t.which===j.BACKSPACE&&1==this.keydowns||t.which==j.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void m(t);if(this.selectChoice(null),this.opened())switch(t.which){case j.UP:case j.DOWN:return this.moveHighlight(t.which===j.UP?-1:1),void m(t);case j.ENTER:return this.selectHighlighted(),void m(t);case j.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case j.ESC:return this.cancel(t),void m(t)}if(t.which!==j.TAB&&!j.isControl(t)&&!j.isFunctionKey(t)&&t.which!==j.BACKSPACE&&t.which!==j.ESC){if(t.which===j.ENTER){if(!1===this.opts.openOnEnter)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),t.which!==j.PAGE_UP&&t.which!==j.PAGE_DOWN||m(t),t.which===j.ENTER&&m(t)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),i=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(t).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.prefillNextSearchTerm(),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i={},n=[],s=this;t(e).each(function(){s.id(this)in i||(i[s.id(this)]=0,n.push(this))}),this.selection.find(".select2-search-choice").remove(),this.addSelectedChoice(n),s.postprocessResults()},tokenize:function(){var t=this.search.val();null!=(t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts))&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&""!==t.text&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.lastSearchTerm=this.search.val(),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(t,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.prefillNextSearchTerm()&&this.updateResults(),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(e){var i=this.getVal(),n=this;t(e).each(function(){i.push(n.createChoice(this))}),this.setVal(i)},createChoice:function(i){var n,s,o=!i.locked,r=t("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?r:a,h=this.id(i);return(n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup))!=e&&l.find("div").replaceWith(t("<div></div>").html(n)),(s=this.opts.formatSelectionCssClass(i,l.find("div")))!=e&&l.addClass(s),o&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),h},unselect:function(e){var i,n,o=this.getVal();if(0===(e=e.closest(".select2-search-choice")).length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(i=e.data("select2-data")){var r=t.Event("select2-removing");if(r.val=this.id(i),r.choice=i,this.opts.element.trigger(r),r.isDefaultPrevented())return!1;for(;(n=s(this.id(i),o))>=0;)o.splice(n,1),this.setVal(o),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(t,e,i){var n=this.getVal(),o=this.results.find(".select2-result"),r=this.results.find(".select2-result-with-children"),a=this;o.each2(function(t,e){s(a.id(e.data("select2-data")),n)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),r.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&!1!==i&&!0===this.opts.closeOnSelect&&a.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&C(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+T(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var t,e,i,n,s=l(this.search);t=v(this.search)+10,e=this.search.offset().left,(n=(i=this.selection.width())-(e-this.selection.offset().left)-s)<t&&(n=i-s),n<40&&(n=i-s),n<=0&&(n=t),this.search.width(Math.floor(n))},getVal:function(){var t;return this.select?null===(t=this.select.val())?[]:t:a(t=this.opts.element.val(),this.opts.separator,this.opts.transformVal)},setVal:function(e){if(this.select)this.select.val(e);else{var i=[],n={};t(e).each(function(){this in n||(i.push(this),n[this]=0)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator))}},buildChangeDetails:function(t,e){e=e.slice(0),t=t.slice(0);for(var i=0;i<e.length;i++)for(var n=0;n<t.length;n++)if(r(this.opts.id(e[i]),this.opts.id(t[n]))){e.splice(i,1),i--,t.splice(n,1);break}return{added:e,removed:t}},val:function(i,n){var s,o=this;if(0===arguments.length)return this.getVal();if((s=this.data()).length||(s=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:s}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(s,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var i=t.map(e,o.id);o.setVal(i),o.updateSelection(e),o.clearSearch(),n&&o.triggerChange(o.buildChangeDetails(s,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(i.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,i){var n,s,o=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get();s=this.data(),e||(e=[]),n=t.map(e,function(t){return o.opts.id(t)}),this.setVal(n),this.updateSelection(e),this.clearSearch(),
i&&this.triggerChange(this.buildChangeDetails(s,this.data()))}}),t.fn.select2=function(){var i,n,o,r,a,l=Array.prototype.slice.call(arguments,0),h=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],d=["val","data"],u={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])(i=0===l.length?{}:t.extend({},l[0])).element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?a=i.element.prop("multiple"):(a=i.multiple||!1,"tags"in i&&(i.multiple=a=!0)),(n=a?new window.Select2["class"].multi:new window.Select2["class"].single).init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(s(l[0],h)<0)throw"Unknown method: "+l[0];if(r=e,(n=t(this).data("select2"))===e)return;if("container"===(o=l[0])?r=n.container:"dropdown"===o?r=n.dropdown:(u[o]&&(o=u[o]),r=n[o].apply(n,l.slice(1))),s(l[0],c)>=0||s(l[0],d)>=0&&1==l.length)return!1}}),r===e?this:r},t.fn.select2.defaults={debug:!1,width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,n){var s=[];return b(this.text(t),i.term,s,n),s.join("")},transformVal:function(e){return t.trim(e)},formatSelection:function(t,i,n){return t?n(this.text(t)):e},sortResults:function(t){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(){return e},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},text:function(e){return e&&this.data&&this.data.text?t.isFunction(this.data.text)?this.data.text(e):e[this.data.text]:e.text},matcher:function(t,e){return n(""+e).toUpperCase().indexOf(n(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:D,escapeMarkup:x,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){return!("ontouchstart"in window||navigator.msMaxTouchPoints>0)||!(t.opts.minimumResultsForSearch<0)}},t.fn.select2.locales=[],t.fn.select2.locales.en={formatMatches:function(t){return 1===t?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.en),t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:w,local:_,tags:k},util:{debounce:d,markMatch:b,escapeMarkup:x,stripDiacritics:n},"class":{abstract:A,single:L,multi:E}}}}(jQuery),function(){this.Api={users_path:"/users/search?q=:query",user_path:"/users/search?id=:user_id",projects_path:"/projects/search?q=:query",project_path:"/projects/search?id=:project_id",user:function(t,e){var i;return i=Api.user_path.replace(":user_id",t),$.ajax({url:i,dataType:"json"}).done(function(t){return e(t)})},users:function(t,e,i){var n;return n=Api.users_path.replace(":query",t),void 0===i&&(i=gon.enterprise_id),this.delayRequest(function(){return $.ajax({url:n,data:{page:1,per_page:10,enterprise_id:i},dataType:"json"}).done(function(t){return e(t)})})},delayRequest:function(t,e){return e=e||800,this.tid&&clearTimeout(this.tid),this.tid=setTimeout(t,e)},project:function(t,e){var i;return i=Api.project_path.replace(":project_id",t),$.ajax({url:i,dataType:"json"}).done(function(t){return e(t)})},projects:function(t,e){var i;return i=Api.projects_path.replace(":query",t),$.ajax({url:i,data:{page:1,per_page:10},dataType:"json"}).done(function(t){return e(t)})}}}.call(this),function(){$(function(){var t,e,i;return $.extend($.fn.select2.defaults,{formatNoMatches:function(){return"\u6ca1\u6709\u627e\u5230\u5339\u914d\u9879"},formatInputTooShort:function(t,e){return"\u8bf7\u518d\u8f93\u5165"+(e-t.length)+"\u4e2a\u5b57\u7b26"},formatInputTooLong:function(t,e){return"\u8bf7\u5220\u6389"+(t.length-e)+"\u4e2a\u5b57\u7b26"},formatSelectionTooBig:function(t){return"\u4f60\u53ea\u80fd\u9009\u62e9\u6700\u591a"+t+"\u9879"},formatLoadMore:function(){return"\u52a0\u8f7d\u7ed3\u679c\u4e2d..."},formatSearching:function(){return"\u641c\u7d22\u4e2d..."}}),[],i={placeholder:"\u8bf7\u8f93\u5165\u4e2a\u4eba\u7a7a\u95f4\u5730\u5740\u6216\u5b8c\u6574\u7684\u90ae\u7bb1\u5730\u5740",multiple:$(".ajax-users-select").hasClass("multiselect"),minimumInputLength:1,query:function(t){return Api.users(window.encodeURIComponent(t.term),function(e){return e,t.callback({results:e})},parseInt(window.usersSelectPlacehold)||0)},tags:!0,tokenSeparators:[","," ",";"],formatResult:function(t){var e,i;return(e=t.avatar)?(new RegExp("no_portrait.png").test(e)&&(e=LetterAvatar(t.name)),i="<div class='user-result'>\n  <img class='ui mini avatar image' src='"+e+"'>\n  <span class='user-name'>"+sanitize(t.name)+"</span>\n  <span class='user-username'>("+t.username+")</span>\n</div>"):i="<div class='user-result'>\n  <span class='user-name'>"+sanitize(t.name)+"</span>\n  <span class='user-username'>("+t.username+")</span>\n</div>",i},formatSelection:function(t){return sanitize(t.name)},dropdownCssClass:"ajax-users-dropdown",escapeMarkup:function(t){return t}},$(".ajax-users-select").hasClass("multiselect")||(i=$.extend(i,{maximumSelectionSize:1})),$(".ajax-users-select").select2(i),t={query:function(t){return Api.users(t.term,function(e){return t.callback({results:e})},parseInt(window.usersSelectPlacehold)||0)}},e=function(){var e,n,s;for(e in s={},i)s[e]=i[e];for(n in t)s[n]=t[n];return s},$(".ajax-enterprise-users").select2(e()),$(".ajax-projects-select").select2({placeholder:"\u641c\u7d22\u4ed3\u5e93",multiple:$(".ajax-projects-select").hasClass("multiselect"),minimumInputLength:3,query:function(t){return Api.projects(t.term,function(e){var i;return i={results:e},t.callback(i)})},initSelection:function(t,e){var i;if(""!==(i=$(t).val()))return Api.project(i,e)},formatResult:function(t){return sanitize(t.name)},formatSelection:function(t){return sanitize(t.name)},dropdownCssClass:"ajax-projects-dropdown"})})}.call(this),function(t){var e;e=t.fn.chosen,t.fn.extend({chosen:function(i){var n;return n={search_contains:"true"},t.extend(n,i),e.apply(this,[n])},disable:function(){return t(this).attr("disabled","disabled").addClass("disabled")},enable:function(){return t(this).removeAttr("disabled").removeClass("disabled")}})}(jQuery),function(){window.Projects=function(){return $(".new_project, .edit_project").on("ajax:before",function(){if("transfer_form"===$(this).attr("id")){if(""===$.trim($("#transfer_form .select2-choice span").text()))return;return $(".transfer-project-loader").show(),$(".ajax-users-dropdown .select2-input").attr("disabled","disabled").addClass("disabled")}return $(".project_new_holder, .project_edit_holder").hide(),$(".save-project-loader").show()}),disableButtonIfEmptyField("#project_name",".project-submit")},$(function(){return $(".project-refs-select").on("change",function(){return $(this).parents("form").submit()}),$("#project_issues_enabled").change(function(){return!0===$(this).is(":checked")?$("#project_issues_tracker").removeAttr("disabled"):$("#project_issues_tracker").attr("disabled","disabled"),$("#project_issues_tracker").change()}),$(".iconfont.icon-star-solid").on("animationend webkitAnimationEnd oAnimationEnd",function(){return $(".iconfont.icon-star-solid").removeClass("is-large")}),$(".star-container").on("ajax:success",function(t,e){return $(".star-container .action-social-count").html(e.data.count),$(".star-container").toggleClass("stared"),"star"===e.data.type?($(".iconfont.icon-star-solid").addClass("is-large"),$(".js-check-star").hide()):"unstar"===e.data.type?$(".js-check-star").show():void 0}),$(".watch-container").on("ajax:success",function(t,e){return $(".watch-container .action-social-count").html(e.count)}),$("input[id='private']").click(function(){return"checked"===$("input[id='private']").attr("checked")?$("div .clearfix[id='language']").hide(500):$("div .clearfix[id='language']").show(500)}),$("div .clearfix#select_app").hide(0),$("input[id='paas']").click(function(){return"checked"===$("input[id='paas']").attr("checked")?$("div .clearfix#select_app").show(500):$("div .clearfix#select_app").hide(500)}),$("div .detail_sonar#sonar_detail_form").hide(0),$("#sonar_detail_form"),$("a#sonar_detail").click(function(){return $("#sonar_detail_modal").modal("show")}),$("#sonar_cancel").click(function(){return $("#sonar_detail_modal").modal("hide")}),$("#btn_utest_detail").click(function(){return $("#utest_detail_modal").modal("show")}),$("#utest_cancel").click(function(){return $("#utest_detail_modal").modal("hide")}),$("#btn_codesafe_detail").click(function(){return $("#codesafe_detail_modal").modal("show")}),$("#codesafe_cancel").click(function(){return $("#codesafe_detail_modal").modal("hide")})})}.call(this),function(){function t(t,e){var i;for(i in t||(t={}),e)t[i]=e[i];return t}function e(){var t,e=arguments.length,i={},n=function(t,e){var i,s;for(s in"object"!=typeof t&&(t={}),e)e.hasOwnProperty(s)&&(i=e[s],t[s]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"number"!=typeof i.nodeType?n(t[s]||{},i):e[s]);return t};for(t=0;t<e;t++)i=n(i,arguments[t]);return i}function i(t,e){return parseInt(t,e||10)}function n(t){return"string"==typeof t}function s(t){return"object"==typeof t}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return"number"==typeof t}function a(t){return pt.log(t)/pt.LN10}function l(t){return pt.pow(10,t)}function h(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function c(t){return t!==G&&null!==t}function d(t,e,i){var o,r;if(n(e))c(i)?t.setAttribute(e,i):t&&t.getAttribute&&(r=t.getAttribute(e));else if(c(e)&&s(e))for(o in e)t.setAttribute(o,e[o]);return r}function u(t){return o(t)?t:[t]}function p(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(null!=(e=i[t]))return e}function f(e,i){St&&i&&i.opacity!==G&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function m(e,i,n,s,o){return e=dt.createElement(e),i&&t(e,i),o&&f(e,{padding:0,border:Ht,margin:0}),n&&f(e,n),s&&s.appendChild(e),e}function g(e,i){var n=function(){};return n.prototype=new e,t(n.prototype,i),n}function v(t,e,n,s){var o=V.lang,r=(t=+t||0,-1===e?(t.toString().split(".")[1]||"").length:isNaN(e=bt(e))?2:e),a=(e=void 0===n?o.decimalPoint:n,s=void 0===s?o.thousandsSep:s,o=t<0?"-":"",(n=String(i(t=bt(t).toFixed(r)))).length>3?n.length%3:0);return o+(a?n.substr(0,a)+s:"")+n.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+s)+(r?e+bt(t-n).toFixed(r).slice(2):"")}function y(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function b(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function x(t,e){for(var i,n,s,o,r,a="{",l=!1,h=[];-1!==(a=t.indexOf(a));){if(i=t.slice(0,a),l){for(r=(s=(n=i.split(":")).shift().split(".")).length,i=e,o=0;o<r;o++)i=i[s[o]];n.length&&(n=n.join(":"),s=/\.([0-9])/,o=V.lang,r=void 0,/f$/.test(n)?i=v(i,r=(r=n.match(s))?r[1]:-1,o.decimalPoint,n.indexOf(",")>-1?o.thousandsSep:""):i=Y(n,i))}h.push(i),t=t.slice(a+1),a=(l=!l)?"}":"{"}return h.push(t),h.join("")}function w(t){return pt.pow(10,mt(pt.log(t)/pt.LN10))}function _(t,e,i,n){var s;for(s=t/(i=p(i,1)),e||(e=[1,2,2.5,5,10],n&&!1===n.allowDecimals&&(1===i?e=[1,2,5,10]:i<=.1&&(e=[1/i]))),n=0;n<e.length&&(t=e[n],!(s<=(e[n]+(e[n+1]||e[n]))/2));n++);return t*=i}function k(t,e){var i,n=e||[[Ut,[1,2,5,10,20,25,50,100,200,500]],[Gt,[1,2,5,10,15,30]],[qt,[1,2,5,10,15,30]],[Wt,[1,2,3,4,6,8,12]],[Vt,[1,2]],[Yt,[1,2]],[Xt,[1,2,3,4,6]],[Kt,null]],s=n[n.length-1],o=Q[s[0]],r=s[1];for(i=0;i<n.length&&(s=n[i],o=Q[s[0]],r=s[1],!(n[i+1]&&t<=(o*r[r.length-1]+Q[n[i+1][0]])/2));i++);return o===Q[Kt]&&t<5*o&&(r=[1,2,5]),{unitRange:o,count:n=_(t/o,r,s[0]===Kt?vt(w(t/o),1):1),unitName:s[0]}}function C(e,i,n,s){var o,r=[],a={},l=V.global.useUTC,h=new Date(i),d=e.unitRange,u=e.count;if(c(i)){d>=Q[Gt]&&(h.setMilliseconds(0),h.setSeconds(d>=Q[qt]?0:u*mt(h.getSeconds()/u))),d>=Q[qt]&&h[ot](d>=Q[Wt]?0:u*mt(h[J]()/u)),d>=Q[Wt]&&h[rt](d>=Q[Vt]?0:u*mt(h[tt]()/u)),d>=Q[Vt]&&h[at](d>=Q[Xt]?1:u*mt(h[it]()/u)),d>=Q[Xt]&&(h[lt](d>=Q[Kt]?0:u*mt(h[nt]()/u)),o=h[st]()),d>=Q[Kt]&&(o-=o%u,h[ht](o)),d===Q[Yt]&&h[at](h[it]()-h[et]()+p(s,1)),i=1,o=h[st]();s=h.getTime();for(var f=h[nt](),m=h[it](),g=l?0:(864e5+6e4*h.getTimezoneOffset())%864e5;s<n;)r.push(s),d===Q[Kt]?s=Z(o+i*u,0):d===Q[Xt]?s=Z(o,f+i*u):l||d!==Q[Vt]&&d!==Q[Yt]?s+=d*u:s=Z(o,f,m+i*u*(d===Q[Vt]?1:7)),i++;r.push(s),ne(se(r,function(t){return d<=Q[Wt]&&t%Q[Vt]===g}),function(t){a[t]=Vt})}return r.info=t(e,{higherRanks:a,totalRange:d*u}),r}function T(){this.symbol=this.color=0}function S(t,e){var i,n,s=t.length;for(n=0;n<s;n++)t[n].ss_i=n;for(t.sort(function(t,n){return 0===(i=e(t,n))?t.ss_i-n.ss_i:i}),n=0;n<s;n++)delete t[n].ss_i}function D(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function $(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function M(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function A(t){W||(W=m(Bt)),t&&W.appendChild(t),W.innerHTML=""}function L(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;ut.console&&console.log(i)}function E(t){return parseFloat(t.toPrecision(14))}function P(t,e){X=p(t,e.animation)}function I(){var t=V.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";Z=t?Date.UTC:function(t,e,i,n,s,o){return new Date(t,e,p(i,1),p(n,0),p(s,0),p(o,0)).getTime()},J=e+"Minutes",tt=e+"Hours",et=e+"Day",it=e+"Date",nt=e+"Month",st=e+"FullYear",ot=i+"Minutes",rt=i+"Hours",at=i+"Date",lt=i+"Month",ht=i+"FullYear"}function N(){}function F(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function O(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}function R(t,e,i,n,s,o){var r=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=s,this.percent="percent"===o,this.alignOptions={align:e.align||(r?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":i?"bottom":"top"),y:p(e.y,r?4:i?14:-6),x:p(e.x,r?i?-6:6:0)},this.textAlign=e.textAlign||(r?i?"right":"left":"center")}function j(){this.init.apply(this,arguments)}function B(){this.init.apply(this,arguments)}function H(t,e){this.init(t,e)}function z(t,e){this.init(t,e)}function U(){this.init.apply(this,arguments)}var G,q,W,V,Y,X,K,Q,Z,J,tt,et,it,nt,st,ot,rt,at,lt,ht,ct,dt=document,ut=window,pt=Math,ft=pt.round,mt=pt.floor,gt=pt.ceil,vt=pt.max,yt=pt.min,bt=pt.abs,xt=pt.cos,wt=pt.sin,_t=pt.PI,kt=2*_t/360,Ct=navigator.userAgent,Tt=ut.opera,St=/msie/i.test(Ct)&&!Tt,Dt=8===dt.documentMode,$t=/AppleWebKit/.test(Ct),Mt=/Firefox/.test(Ct),At=/(Mobile|Android|Windows Phone)/.test(Ct),Lt="http://www.w3.org/2000/svg",Et=!!dt.createElementNS&&!!dt.createElementNS(Lt,"svg").createSVGRect,Pt=Mt&&parseInt(Ct.split("Firefox/")[1],10)<4,It=!Et&&!St&&!!dt.createElement("canvas").getContext,Nt=dt.documentElement.ontouchstart!==G,Ft={},Ot=0,Rt=function(){},jt=[],Bt="div",Ht="none",zt="rgba(192,192,192,"+(Et?1e-4:.002)+")",Ut="millisecond",Gt="second",qt="minute",Wt="hour",Vt="day",Yt="week",Xt="month",Kt="year",Qt="stroke-width",Zt={};ut.Highcharts=ut.Highcharts?L(16,!0):{},Y=function(e,i,n){if(!c(i)||isNaN(i))return"Invalid date";e=p(e,"%Y-%m-%d %H:%M:%S");var s,o=(f=new Date(i))[tt](),r=f[et](),a=f[it](),l=f[nt](),h=f[st](),d=V.lang,u=d.weekdays,f=t({a:u[r].substr(0,3),A:u[r],d:y(a),e:a,b:d.shortMonths[l],B:d.months[l],m:y(l+1),y:h.toString().substr(2,2),Y:h,H:y(o),I:y(o%12||12),l:o%12||12,M:y(f[J]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:y(f.getSeconds()),L:y(ft(i%1e3),3)},Highcharts.dateFormats);for(s in f)for(;-1!==e.indexOf("%"+s);)e=e.replace("%"+s,"function"==typeof f[s]?f[s](i):f[s]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},T.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},Q=function(){for(var t=0,e=arguments,i=e.length,n={};t<i;t++)n[e[t++]]=e[t];return n}(Ut,1,Gt,1e3,qt,6e4,Wt,36e5,Vt,864e5,Yt,6048e5,Xt,26784e5,Kt,31556952e3),K={init:function(t,e,i){e=e||"";var n,s,o,r=t.shift,a=e.indexOf("C")>-1,l=a?7:3,h=(e=e.split(" "),i=[].concat(i),function(t){for(n=t.length;n--;)"M"===t[n]&&t.splice(n+1,0,t[n+1],t[n+2],t[n+1],t[n+2])});if(a&&(h(e),h(i)),t.isArea&&(s=e.splice(e.length-6,6),o=i.splice(i.length-6,6)),r<=i.length/l&&e.length===i.length)for(;r--;)i=[].concat(i).splice(0,l).concat(i);if(t.shift=0,e.length)for(t=i.length;e.length<t;)r=[].concat(e).splice(e.length-l,l),a&&(r[l-6]=r[l-2],r[l-5]=r[l-1]),e=e.concat(r);return s&&(e=e.concat(s),i=i.concat(o)),[e,i]},step:function(t,e,i,n){var s=[],o=t.length;if(1===i)s=n;else if(o===e.length&&i<1)for(;o--;)n=parseFloat(t[o]),s[o]=isNaN(n)?t[o]:i*parseFloat(e[o]-n)+n;else s=e;return s}},ct=ut.jQuery,ut.HighchartsAdapter=ut.HighchartsAdapter||ct&&{init:function(t){var e,i=ct.fx,s=i.step,o=ct.Tween,r=o&&o.propHooks;e=ct.cssHooks.opacity,ct.extend(ct.easing,{easeOutQuad:function(t,e,i,n,s){return-n*(e/=s)*(e-2)+i}}),ct.each(["cur","_default","width","height","opacity"],function(t,e){var n,a,l=s;"cur"===e?l=i.prototype:"_default"===e&&o&&(l=r[e],e="set"),(n=l[e])&&(l[e]=function(i){if("align"!==(i=t?i:this).prop)return(a=i.elem).attr?a.attr(i.prop,"cur"===e?G:i.now):n.apply(this,arguments)})}),b(e,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),e=function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))},o?r.d={set:e}:s.d=e,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,n=t.length;i<n;i++)if(!1===e.call(t[i],t[i],i,t))return i},ct.fn.highcharts=function(){var t,e,i="Chart",s=arguments;return n(s[0])&&(i=s[0],s=Array.prototype.slice.call(s,1)),(t=s[0])!==G&&(t.chart=t.chart||{},t.chart.renderTo=this[0],new Highcharts[i](t,s[1]),e=this),t===G&&(e=jt[d(this[0],"data-highcharts-chart")]),e}},getScript:ct.getScript,inArray:ct.inArray,adapterRun:function(t,e){return ct(t)[e]()},grep:ct.grep,map:function(t,e){for(var i=[],n=0,s=t.length;n<s;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(t){return ct(t).offset()},addEvent:function(t,e,i){ct(t).bind(e,i)},removeEvent:function(t,e,i){var n=dt.removeEventListener?"removeEventListener":"detachEvent";dt[n]&&t&&!t[n]&&(t[n]=function(){}),ct(t).unbind(e,i)},fireEvent:function(e,i,n,s){var o,r=ct.Event(i),a="detached"+i;!St&&n&&(delete n.layerX,delete n.layerY),t(r,n),e[i]&&(e[a]=e[i],e[i]=null),ct.each(["preventDefault","stopPropagation"],function(t,e){var i=r[e];r[e]=function(){try{i.call(r)}catch(t){"preventDefault"===e&&(o=!0)}}}),ct(e).trigger(r),e[a]&&(e[i]=e[a],e[a]=null),s&&!r.isDefaultPrevented()&&!o&&s(r)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===G&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,e,i){var n=ct(t);t.style||(t.style={}),e.d&&(t.toD=e.d,e.d=1),n.stop(),e.opacity!==G&&t.attr&&(e.opacity+="px"),n.animate(e,i)},stop:function(t){ct(t).stop()}};var Jt=(fe=ut.HighchartsAdapter)||{};fe&&fe.init.call(fe,K);var te=Jt.adapterRun,ee=Jt.getScript,ie=Jt.inArray,ne=Jt.each,se=Jt.grep,oe=Jt.offset,re=Jt.map,ae=Jt.addEvent,le=Jt.removeEvent,he=Jt.fireEvent,ce=Jt.washMouseEvent,de=Jt.animate,ue=Jt.stop,pe=(Jt={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}},(V={colors:"#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.7/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.7/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(Jt,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":v(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Et,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:At?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}}).plotOptions),fe=pe.line;I();var me=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,ge=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,ve=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ye=function(t){var n,s,o=[];return function(t){t&&t.stops?s=re(t.stops,function(t){return ye(t[1])}):(n=me.exec(t))?o=[i(n[1]),i(n[2]),i(n[3]),parseFloat(n[4],10)]:(n=ge.exec(t))?o=[i(n[1],16),i(n[2],16),i(n[3],16),1]:(n=ve.exec(t))&&(o=[i(n[1]),i(n[2]),i(n[3]),1])}(t),{get:function(i){var n;return s?((n=e(t)).stops=[].concat(n.stops),ne(s,function(t,e){n.stops[e]=[n.stops[e][0],t.get(i)]})):n=o&&!isNaN(o[0])?"rgb"===i?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===i?o[3]:"rgba("+o.join(",")+")":t,n},brighten:function(t){if(s)ne(s,function(e){e.brighten(t)});else if(r(t)&&0!==t){var e;for(e=0;e<3;e++)o[e]+=i(255*t),o[e]<0&&(o[e]=0),o[e]>255&&(o[e]=255)}return this},rgba:o,setOpacity:function(t){return o[3]=t,this}}};N.prototype={init:function(t,e){this.element="span"===e?m(e):dt.createElementNS(Lt,e),this.renderer=t,this.attrSetters={}},opacity:1,animate:function(t,i,n){i=p(i,X,!0),ue(this),i?(i=e(i),n&&(i.complete=n),de(this,t,i)):(this.attr(t),n&&n())},attr:function(t,e){var s,o,r,a,l,h,u,f=this.element,m=f.nodeName.toLowerCase(),g=this.renderer,v=this.attrSetters,y=this.shadows,b=this;if(n(t)&&c(e)&&(s=t,(t={})[s]=e),n(t))s=t,"circle"===m?s={x:"cx",y:"cy"}[s]||s:"strokeWidth"===s&&(s="stroke-width"),b=d(f,s)||this[s]||0,"d"!==s&&"visibility"!==s&&"fill"!==s&&(b=parseFloat(b));else{for(s in t)if(l=!1,o=t[s],!1!==(r=v[s]&&v[s].call(this,o,s))){if(r!==G&&(o=r),"d"===s)o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if("x"===s&&"text"===m)for(r=0;r<f.childNodes.length;r++)d(a=f.childNodes[r],"x")===d(f,"x")&&d(a,"x",o);else if(!this.rotation||"x"!==s&&"y"!==s)if("fill"===s)o=g.color(o,f,s);else if("circle"!==m||"x"!==s&&"y"!==s)if("rect"===m&&"r"===s)d(f,{rx:o,ry:o}),l=!0;else if("translateX"===s||"translateY"===s||"rotation"===s||"verticalAlign"===s||"scaleX"===s||"scaleY"===s)l=u=!0;else if("stroke"===s)o=g.color(o,f,s);else if("dashstyle"===s){if(s="stroke-dasharray","solid"===(o=o&&o.toLowerCase()))o=Ht;else if(o){for(r=(o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;r--;)o[r]=i(o[r])*p(t["stroke-width"],this["stroke-width"]);o=o.join(",")}}else"width"===s?o=i(o):"align"===s?(s="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):"title"===s&&((r=f.getElementsByTagName("title")[0])||(r=dt.createElementNS(Lt,"title"),f.appendChild(r)),r.textContent=o);else s={x:"cx",y:"cy"}[s]||s;else u=!0;if("strokeWidth"===s&&(s="stroke-width"),"stroke-width"!==s&&"stroke"!==s||(this[s]=o,this.stroke&&this["stroke-width"]?(d(f,"stroke",this.stroke),d(f,"stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===s&&0===o&&this.hasStroke&&(f.removeAttribute("stroke"),this.hasStroke=!1),l=!0),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(s)&&(h||(this.symbolAttr(t),h=!0),l=!0),y&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(s))for(r=y.length;r--;)d(y[r],s,"height"===s?vt(o-(y[r].cutHeight||0),0):o);("width"===s||"height"===s)&&"rect"===m&&o<0&&(o=0),this[s]=o,"text"===s?(o!==this.textStr&&delete this.bBox,this.textStr=o,this.added&&g.buildText(this)):l||d(f,s,o)}u&&this.updateTransform()}return b},addClass:function(t){var e=this.element,i=d(e,"class")||"";return-1===i.indexOf(t)&&d(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;ne("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=p(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Ht)},crisp:function(t,e,i,n,s){var o,r,a={},l={};t=t||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;for(o in r=ft(t)%2/2,l.x=mt(e||this.x||0)+r,l.y=mt(i||this.y||0)+r,l.width=mt((n||this.width||0)-2*r),l.height=mt((s||this.height||0)-2*r),l.strokeWidth=t,l)this[o]!==l[o]&&(this[o]=a[o]=l[o]);return a},css:function(e){var n,s=this.element,o=this.textWidth=e&&e.width&&"text"===s.nodeName.toLowerCase()&&i(e.width),r="",a=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),this.styles=e=t(this.styles,e),o&&delete e.width,St&&!Et)f(this.element,e);else{for(n in e)r+=n.replace(/([A-Z])/g,a)+":"+e[n]+";";d(s,"style",r)}return o&&this.added&&this.renderer.buildText(this),this},on:function(t,e){var i=this,n=i.element;return Nt&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===Ct.indexOf("Android")||Date.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},htmlCss:function(e){var i=this.element;return(i=e&&"SPAN"===i.tagName&&e.width)&&(delete e.width,this.textWidth=i,this.updateTransform()),this.styles=t(this.styles,e),f(this.element,e),this},htmlGetBBox:function(){var t=this.element,e=this.bBox;return e||("text"===t.nodeName&&(t.style.position="absolute"),e=this.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),e},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,s=this.translateY||0,o=this.x||0,r=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],h=a&&"left"!==a,d=this.shadows;if(f(e,{marginLeft:n,marginTop:s}),d&&ne(d,function(t){f(t,{marginLeft:n+1,marginTop:s+1})}),this.inverted&&ne(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var u,m,g;d=this.rotation;u=0;var v,y=1,b=0;g=i(this.textWidth);var x=this.xCorr||0,w=this.yCorr||0,_=[d,a,e.innerHTML,this.textWidth].join(",");_!==this.cTT&&(c(d)&&(y=xt(u=d*kt),b=wt(u),this.setSpanRotation(d,b,y)),u=p(this.elemWidth,e.offsetWidth),m=p(this.elemHeight,e.offsetHeight),u>g&&/[ \-]/.test(e.textContent||e.innerText)&&(f(e,{width:g+"px",display:"block",whiteSpace:"normal"}),u=g),x=y<0&&-u,w=b<0&&-m,x+=b*(g=t.fontMetrics(e.style.fontSize).b)*((v=y*b<0)?1-l:l),w-=y*g*(d?v?l:1-l:1),h&&(x-=u*l*(y<0?-1:1),d&&(w-=m*l*(b<0?-1:1)),f(e,{textAlign:a})),this.xCorr=x,this.yCorr=w),f(e,{left:o+x+"px",top:r+w+"px"}),$t&&(m=e.offsetHeight),this.cTT=_}}else this.alignOnAdd=!0},setSpanRotation:function(t){var e={};e[St?"-ms-transform":$t?"-webkit-transform":Mt?"MozTransform":Tt?"-o-transform":""]=e.transform="rotate("+t+"deg)",f(this.element,e)},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,s=this.inverted,o=this.rotation;s&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],s?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(this.x||0)+" "+(this.y||0)+")"),(c(i)||c(n))&&t.push("scale("+p(i,1)+" "+p(n,1)+")"),t.length&&d(this.element,"transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var s,o,r,a,l={};return r=(o=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||n(i))&&(this.alignTo=s=i||"renderer",h(r,this),r.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),i=p(i,o[s],o),s=t.align,o=t.verticalAlign,r=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),"right"!==s&&"center"!==s||(r+=(i.width-(t.width||0))/{right:1,center:2}[s]),l[e?"translateX":"x"]=ft(r),"bottom"!==o&&"middle"!==o||(a+=(i.height-(t.height||0))/({bottom:1,middle:2}[o]||1)),l[e?"translateY":"y"]=ft(a),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(){var e,i=this.bBox,n=this.renderer,s=this.rotation;e=this.element;var o=this.styles,r=s*kt;if(!i){if(e.namespaceURI===Lt||n.forExport){try{i=e.getBBox?t({},e.getBBox()):{width:e.offsetWidth,height:e.offsetHeight}}catch(a){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();n.isSVG&&(n=i.width,e=i.height,St&&o&&"11px"===o.fontSize&&"22.7"===e.toPrecision(3)&&(i.height=e=14),s&&(i.width=bt(e*wt(r))+bt(n*xt(r)),i.height=bt(e*xt(r))+bt(n*wt(r)))),this.bBox=i}return i},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e,n=this.renderer,s=t||n,o=s.element||n.box,r=o.childNodes,a=this.element,l=d(a,"zIndex");if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),l&&(s.handleZ=!0,l=i(l)),s.handleZ)for(s=0;s<r.length;s++)if(n=d(t=r[s],"zIndex"),t!==a&&(i(n)>l||!c(l)&&c(n))){o.insertBefore(a,t),e=!0;break}return e||o.appendChild(a),this.added=!0,he(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){
var t,e,i=this,n=i.element||{},s=i.shadows,o=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,ue(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(n),s&&ne(s,function(t){i.safeRemoveChild(t)});o&&0===o.div.childNodes.length;)n=o.parentGroup,i.safeRemoveChild(o.div),delete o.div,o=n;for(t in i.alignTo&&h(i.renderer.alignedObjects,i),i)delete i[t];return null},shadow:function(t,e,i){var n,s,o,r,a,l,h=[],c=this.element;if(t){for(r=p(t.width,3),a=(t.opacity||.15)/r,l=this.parentInverted?"(-1,-1)":"("+p(t.offsetX,1)+", "+p(t.offsetY,1)+")",n=1;n<=r;n++)o=2*r+1-2*n,d(s=c.cloneNode(0),{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*n,"stroke-width":o,transform:"translate"+l,fill:Ht}),i&&(d(s,"height",vt(d(s,"height")-o,0)),s.cutHeight=o),e?e.element.appendChild(s):c.parentNode.insertBefore(s,c),h.push(s);this.shadows=h}return this}};var be,xe,we=function(){this.init.apply(this,arguments)};if(we.prototype={Element:N,init:function(t,e,i,n){var s,o,r,a=location;o=(s=this.createElement("svg").attr({version:"1.1"})).element,t.appendChild(o),-1===t.innerHTML.indexOf("xmlns")&&d(o,"xmlns",Lt),this.isSVG=!0,this.box=o,this.boxWrapper=s,this.alignedObjects=[],this.url=(Mt||$t)&&dt.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(dt.createTextNode("Created with Highcharts 3.0.7")),this.defs=this.createElement("defs").add(),this.forExport=n,this.gradients={},this.setSize(e,i,!1),Mt&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){f(t,{left:0,top:0}),r=t.getBoundingClientRect(),f(t,{left:gt(r.left)-r.left+"px",top:gt(r.top)-r.top+"px"})},e(),ae(ut,"resize",e))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),M(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&le(ut,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e=t.element,n=this,s=n.forExport,o=p(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),r=e.childNodes,a=/style="([^"]+)"/,l=/href="(http[^"]+)"/,h=d(e,"x"),c=t.styles,u=t.textWidth,m=c&&c.lineHeight,g=r.length;g--;)e.removeChild(r[g]);u&&!t.added&&this.box.appendChild(e),""===o[o.length-1]&&o.pop(),ne(o,function(o,r){var p,g=0;o=o.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");p=o.split("|||"),ne(p,function(o){if(""!==o||1===p.length){var v,y={},b=dt.createElementNS(Lt,"tspan");if(a.test(o)&&d(b,"style",v=o.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),l.test(o)&&!s&&(d(b,"onclick",'location.href="'+o.match(l)[1]+'"'),f(b,{cursor:"pointer"}))," "!==(o=(o.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"))&&(b.appendChild(dt.createTextNode(o)),g?y.dx=0:y.x=h,d(b,y),!g&&r&&(!Et&&s&&f(b,{display:"block"}),d(b,"dy",m||n.fontMetrics(/px$/.test(b.style.fontSize)?b.style.fontSize:c.fontSize).h,$t&&b.offsetHeight)),e.appendChild(b),g++,u)){o=o.replace(/([^\^])-/g,"$1- ").split(" "),y=t._clipHeight;for(var x,w=[],_=i(m||16),k=1;o.length||w.length;)delete t.bBox,x=t.getBBox().width,!Et&&n.forExport&&(x=n.measureSpanWidth(b.firstChild.data,t.styles)),x>u&&1!==o.length?(b.removeChild(b.firstChild),w.unshift(o.pop())):(o=w,w=[],o.length&&(y&&++k*_>y?(o=["..."],t.attr("title",t.textStr)):(d(b=dt.createElementNS(Lt,"tspan"),{dy:_,x:h}),v&&d(b,"style",v),e.appendChild(b),x>u&&(u=x)))),o.length&&b.appendChild(dt.createTextNode(o.join(" ").replace(/- /g,"-")))}}})})},button:function(i,n,s,o,r,a,l,h,c){var d,u,p,f,m,g,v=this.label(i,n,s,c,null,null,null,null,"button"),y=0;r=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:i={x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},r);return p=r.style,delete r.style,a=e(r,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#FFF"],[1,"#ACF"]]}},a),f=a.style,delete a.style,l=e(r,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),m=l.style,delete l.style,h=e(r,{style:{color:"#CCC"}},h),g=h.style,delete h.style,ae(v.element,St?"mouseover":"mouseenter",function(){3!==y&&v.attr(a).css(f)}),ae(v.element,St?"mouseout":"mouseleave",function(){3!==y&&(d=[r,a,l][y],u=[p,f,m][y],v.attr(d).css(u))}),v.setState=function(t){(v.state=y=t)?2===t?v.attr(l).css(m):3===t&&v.attr(h).css(g):v.attr(r).css(p)},v.on("click",function(){3!==y&&o.call(v)}).attr(r).css(t({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ft(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=ft(t[2])+e%2/2),t},path:function(e){var i={fill:Ht};return o(e)?i.d=e:s(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){return t=s(t)?t:{x:t,y:e,r:i},this.createElement("circle").attr(t)},arc:function(t,e,i,n,o,r){return s(t)&&(e=t.y,i=t.r,n=t.innerR,o=t.start,r=t.end,t=t.x),(t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:o||0,end:r||0})).r=i,t},rect:function(t,e,i,n,o,r){return o=s(t)?t.r:o,(o=this.createElement("rect").attr({rx:o,ry:o,fill:Ht})).attr(s(t)?t:o.crisp(r,t,e,vt(i,0),vt(n,0)))},setSize:function(t,e,i){var n=this.alignedObjects,s=n.length;for(this.width=t,this.height=e,this.boxWrapper[p(i,!0)?"animate":"attr"]({width:t,height:e});s--;)n[s].align()},g:function(t){var e=this.createElement("g");return c(t)?e.attr({"class":"highcharts-"+t}):e},image:function(e,i,n,s,o){var r={preserveAspectRatio:Ht};return arguments.length>1&&t(r,{x:i,y:n,width:s,height:o}),(r=this.createElement("image").attr(r)).element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):r.element.setAttribute("hc-svg-href",e),r},symbol:function(e,i,n,s,o,r){var a,l,h,c,d=/^url\((.*?)\)$/;return(l=(l=this.symbols[e])&&l(ft(i),ft(n),s,o,r))?(t(a=this.path(l),{symbolName:e,x:i,y:n,width:s,height:o}),r&&t(a,r)):d.test(e)&&(c=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(ft((s-e[0])/2),ft((o-e[1])/2)))},h=e.match(d)[1],e=Ft[h],(a=this.image(h).attr({x:i,y:n})).isImg=!0,e?c(a,e):(a.attr({width:0,height:0}),m("img",{onload:function(){c(a,Ft[h]=[this.width,this.height])},src:h}))),a},symbols:{circle:function(t,e,i,n){var s=.166*i;return["M",t+i/2,e,"C",t+i+s,e,t+i+s,e+n,t+i/2,e+n,"C",t-s,e+n,t-s,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,s){var o=s.start,r=(i=s.r||i||n,s.end-.001),a=(n=s.innerR,s.open),l=xt(o),h=wt(o),c=xt(r);r=wt(r);return["M",t+i*l,e+i*h,"A",i,i,0,s=s.end-o<_t?0:1,1,t+i*c,e+i*r,a?"M":"L",t+n*c,e+n*r,"A",n,n,0,s,0,t+n*l,e+n*h,a?"":"Z"]}},clipRect:function(t,e,i,n){var s="highcharts-"+Ot++,o=this.createElement("clipPath").attr({id:s}).add(this.defs);return(t=this.rect(t,e,i,n,0).add(o)).id=s,t.clipPath=o,t},color:function(t,i,n){var s,r,a,l,h,u,p,f,m=this,g=/^rgba/,v=[];if(t&&t.linearGradient?r="linearGradient":t&&t.radialGradient&&(r="radialGradient"),r){for(f in n=t[r],a=m.gradients,h=t.stops,i=i.radialReference,o(n)&&(t[r]=n={x1:n[0],y1:n[1],x2:n[2],y2:n[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&i&&!c(n.gradientUnits)&&(n=e(n,{cx:i[0]-i[2]/2+n.cx*i[2],cy:i[1]-i[2]/2+n.cy*i[2],r:n.r*i[2],gradientUnits:"userSpaceOnUse"})),n)"id"!==f&&v.push(f,n[f]);for(f in h)v.push(h[f]);return a[v=v.join(",")]?t=a[v].id:(n.id=t="highcharts-"+Ot++,a[v]=l=m.createElement(r).attr(n).add(m.defs),l.stops=[],ne(h,function(t){g.test(t[1])?(s=ye(t[1]),u=s.get("rgb"),p=s.get("a")):(u=t[1],p=1),t=m.createElement("stop").attr({offset:t[0],"stop-color":u,"stop-opacity":p}).add(l),l.stops.push(t)})),"url("+m.url+"#"+t+")"}return g.test(t)?(d(i,n+"-opacity",(s=ye(t)).get("a")),s.get("rgb")):(i.removeAttribute(n+"-opacity"),t)},text:function(t,e,i,n){var s=V.chart.style,o=It||!Et&&this.forExport;return n&&!this.forExport?this.html(t,e,i):(e=ft(p(e,0)),i=ft(p(i,0)),t=this.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:s.fontFamily,fontSize:s.fontSize}),o&&t.css({position:"absolute"}),t.x=e,t.y=i,t)},html:function(e,i,n){var s=V.chart.style,o=this.createElement("span"),r=o.attrSetters,a=o.element,l=o.renderer;return r.text=function(t){return t!==a.innerHTML&&delete this.bBox,a.innerHTML=t,!1},r.x=r.y=r.align=function(t,e){return"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform(),!1},o.attr({text:e,x:ft(i),y:ft(n)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:s.fontFamily,fontSize:s.fontSize}),o.css=o.htmlCss,l.isSVG&&(o.add=function(e){var i,n=l.box.parentNode,s=[];if(this.parentGroup=e){if(!(i=e.div)){for(;e;)s.push(e),e=e.parentGroup;ne(s.reverse(),function(e){var s;i=e.div=e.div||m(Bt,{className:d(e.element,"class")},{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},i||n),s=i.style,t(e.attrSetters,{translateX:function(t){s.left=t+"px"},translateY:function(t){s.top=t+"px"},visibility:function(t,e){s[e]=t}})})}}else i=n;return i.appendChild(a),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o},fontMetrics:function(t){return{h:t=(t=i(t||11))<24?t+4:ft(1.2*t),b:ft(.8*t)}},label:function(i,n,s,o,r,a,l,h,d){function u(){var t,i;t=S.element.style,v=(void 0===y||void 0===b||T.styles.textAlign)&&S.getBBox(),T.width=(y||v.width||0)+2*$+M,T.height=(b||v.height||0)+2*$,_=$+C.fontMetrics(t&&t.fontSize).b,k&&(g||(t=ft(-D*$),i=h?-_:0,T.box=g=o?C.symbol(o,t,i,T.width,T.height,L):C.rect(t,i,T.width,T.height,0,L[Qt]),g.add(T)),g.isImg||g.attr(e({width:T.width,height:T.height},L)),L=null)}function p(){var t,e=(e=T.styles)&&e.textAlign,i=M+$*(1-D);t=h?0:_,!c(y)||"center"!==e&&"right"!==e||(i+={center:.5,right:1}[e]*(y-v.width)),(i!==S.x||t!==S.y)&&S.attr({x:i,y:t}),S.x=i,S.y=t}function f(t,e){g?g.attr(t,e):L[t]=e}function m(){S.add(T),T.attr({text:i,x:n,y:s}),g&&c(r)&&T.attr({anchorX:r,anchorY:a})}var g,v,y,b,x,w,_,k,C=this,T=C.g(d),S=C.text("",0,0,l).attr({zIndex:1}),D=0,$=3,M=0,A=0,L={};l=T.attrSetters;ae(T,"add",m),l.width=function(t){return y=t,!1},l.height=function(t){return b=t,!1},l.padding=function(t){return c(t)&&t!==$&&($=t,p()),!1},l.paddingLeft=function(t){return c(t)&&t!==M&&(M=t,p()),!1},l.align=function(t){return D={left:0,center:.5,right:1}[t],!1},l.text=function(t,e){return S.attr(e,t),u(),p(),!1},l[Qt]=function(t,e){return k=!0,A=t%2/2,f(e,t),!1},l.stroke=l.fill=l.r=function(t,e){return"fill"===e&&(k=!0),f(e,t),!1},l.anchorX=function(t,e){return r=t,f(e,t+A-x),!1},l.anchorY=function(t,e){return a=t,f(e,t-w),!1},l.x=function(t){return T.x=t,t-=D*((y||v.width)+$),x=ft(t),T.attr("translateX",x),!1},l.y=function(t){return w=T.y=ft(t),T.attr("translateY",w),!1};var E=T.css;return t(T,{css:function(t){if(t){var i={};t=e(t);ne("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),function(e){t[e]!==G&&(i[e]=t[e],delete t[e])}),S.css(i)}return E.call(T,t)},getBBox:function(){return{width:v.width+2*$,height:v.height+2*$,x:v.x-$,y:v.y-$}},shadow:function(t){return g&&g.shadow(t),T},destroy:function(){le(T,"add",m),le(T.element,"mouseenter"),le(T.element,"mouseleave"),S&&(S=S.destroy()),g&&(g=g.destroy()),N.prototype.destroy.call(T),T=C=u=p=f=m=null}})}},q=we,!Et&&!It){Highcharts.VMLElement=be={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ","absolute",";"],s=e===Bt;("shape"===e||s)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",s?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),e&&(i=s||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=m(i)),this.renderer=t,this.attrSetters={}},add:function(t){var e=this.renderer,i=this.element,n=e.box;n=t?t.element||t:n;return t&&t.inverted&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),he(this,"add"),this},updateTransform:N.prototype.htmlUpdateTransform,setSpanRotation:function(t,e,i){f(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",i,", M12=",-e,", M21=",e,", M22=",i,", sizingMethod='auto expand')"].join(""):Ht})},pathToVML:function(t){for(var e,i=t.length,n=[];i--;)r(t[i])?n[i]=ft(10*t[i])-5:"Z"===t[i]?n[i]="x":(n[i]=t[i],!t.isArc||"wa"!==t[i]&&"at"!==t[i]||(e="wa"===t[i]?1:-1,n[i+5]===n[i+7]&&(n[i+7]-=e),n[i+6]===n[i+8]&&(n[i+8]-=e)));return n.join(" ")||"x"},attr:function(t,e){var i,s,o,a,l,h=this.element||{},u=h.style,p=h.nodeName,f=this.renderer,g=this.symbolName,v=this.shadows,y=this.attrSetters,b=this;if(n(t)&&c(e)&&(i=t,(t={})[i]=e),n(t))b="strokeWidth"===(i=t)||"stroke-width"===i?this.strokeweight:this[i];else for(i in t)if(s=t[i],l=!1,!1!==(o=y[i]&&y[i].call(this,s,i))&&null!==s){if(o!==G&&(s=o),g&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))a||(this.symbolAttr(t),a=!0),l=!0;else if("d"===i){if(s=s||[],this.d=s.join(" "),h.path=s=this.pathToVML(s),v)for(o=v.length;o--;)v[o].path=v[o].cutOff?this.cutOffPath(s,v[o].cutOff):s;l=!0}else if("visibility"===i){if(v)for(o=v.length;o--;)v[o].style[i]=s;"DIV"===p&&(s="hidden"===s?"-999em":0,Dt||(u[i]=s?"visible":"hidden"),i="top"),u[i]=s,l=!0}else"zIndex"===i?(s&&(u[i]=s),l=!0):-1!==ie(i,["x","y","width","height"])?(this[i]=s,"x"===i||"y"===i?i={x:"left",y:"top"}[i]:s=vt(0,s),this.updateClipping?(this[i]=s,this.updateClipping()):u[i]=s,l=!0):"class"===i&&"DIV"===p?h.className=s:"stroke"===i?(s=f.color(s,h,i),i="strokecolor"):"stroke-width"===i||"strokeWidth"===i?(h.stroked=!!s,this[i="strokeweight"]=s,r(s)&&(s+="px")):"dashstyle"===i?((h.getElementsByTagName("stroke")[0]||m(f.prepVML(["<stroke/>"]),null,null,h))[i]=s||"solid",this.dashstyle=s,l=!0):"fill"===i?"SPAN"===p?u.color=s:"IMG"!==p&&(h.filled=s!==Ht,s=f.color(s,h,i,this),i="fillcolor"):"opacity"===i?l=!0:"shape"===p&&"rotation"===i?(this[i]=h.style[i]=s,h.style.left=-ft(wt(s*kt)+1)+"px",h.style.top=ft(xt(s*kt))+"px"):"translateX"===i||"translateY"===i||"rotation"===i?(this[i]=s,this.updateTransform(),l=!0):"text"===i&&(this.bBox=null,h.innerHTML=s,l=!0);l||(Dt?h[i]=s:d(h,i,s))}return b},clip:function(t){var e,i=this;return t?(h(e=t.members,i),e.push(i),i.destroyClip=function(){h(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:Dt?"inherit":"rect(auto)"}),i.css(t)},css:N.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&A(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),N.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=ut.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n;return 9!==(n=(t=t.split(/[ ,]/)).length)&&11!==n||(t[n-4]=t[n-2]=i(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var s,o,r,a,l,h,c,d=[],u=this.element,f=this.renderer,g=u.style,v=u.path;if(v&&"string"!=typeof v.value&&(v="x"),l=v,t){for(h=p(t.width,3),c=(t.opacity||.15)/h,s=1;s<=3;s++)a=2*h+1-2*s,n&&(l=this.cutOffPath(v.value,a+.5)),r=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',u.style.cssText,'" />'],o=m(f.prepVML(r),null,{left:i(g.left)+p(t.offsetX,1),top:i(g.top)+p(t.offsetY,1)}),n&&(o.cutOff=a+1),r=['<stroke color="',t.color||"black",'" opacity="',c*s,'"/>'],m(f.prepVML(r),null,null,o),e?e.element.appendChild(o):u.parentNode.insertBefore(o,u),d.push(o);this.shadows=d}return this}};var _e={Element:be=g(N,be),isIE8:Ct.indexOf("MSIE 8.0")>-1,init:function(t,e,i){var n,s;if(this.alignedObjects=[],(s=(n=this.createElement(Bt)).element).style.position="relative",t.appendChild(n.element),this.isVML=!0,this.box=s,this.boxWrapper=n,this.setSize(e,i,!1),!dt.namespaces.hcv){dt.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{dt.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(o){dt.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,n,o){var r=this.createElement(),a=s(e);return t(r,{members:[],left:(a?e.x:e)+1,top:(a?e.y:i)+1,width:(a?e.width:n)-1,height:(a?e.height:o)-1,getCSS:function(e){var i=(o=e.element).nodeName,n=(e=e.inverted,this.top-("shape"===i?o.offsetTop:0)),s=this.left,o=s+this.width,r=n+this.height;n={clip:"rect("+ft(e?s:n)+"px,"+ft(e?r:o)+"px,"+ft(e?o:r)+"px,"+ft(e?n:s)+"px)"};return!e&&Dt&&"DIV"===i&&t(n,{width:o+"px",height:r+"px"}),n},updateClipping:function(){ne(r.members,function(t){t.css(r.getCSS(t))})}})},color:function(t,e,i,n){var s,o,r,a=this,l=/^rgba/,h=Ht;if(t&&t.linearGradient?r="gradient":t&&t.radialGradient&&(r="pattern"),r){var c,d,u,p,f,g,v,y,b=t.linearGradient||t.radialGradient,x="",w=(t=t.stops,[]),_=function(){o=['<fill colors="'+w.join(",")+'" opacity="',f,'" o:opacity2="',p,'" type="',r,'" ',x,'focus="100%" method="any" />'],m(a.prepVML(o),null,null,e)};if(u=t[0],y=t[t.length-1],u[0]>0&&t.unshift([0,u[1]]),y[0]<1&&t.push([1,y[1]]),ne(t,function(t,e){l.test(t[1])?(s=ye(t[1]),c=s.get("rgb"),d=s.get("a")):(c=t[1],d=1),w.push(100*t[0]+"% "+c),e?(f=d,g=c):(p=d,v=c)}),"fill"===i)if("gradient"===r)i=b.x1||b[0]||0,t=b.y1||b[1]||0,u=b.x2||b[2]||0,b=b.y2||b[3]||0,x='angle="'+(90-180*pt.atan((b-t)/(u-i))/_t)+'"',_();else{var k,C=2*(h=b.r),T=2*h,S=b.cx,D=b.cy,$=e.radialReference;h=function(){$&&(k=n.getBBox(),S+=($[0]-k.x)/k.width-.5,D+=($[1]-k.y)/k.height-.5,C*=$[2]/k.width,T*=$[2]/k.height),x='src="'+V.global.VMLRadialGradientURL+'" size="'+C+","+T+'" origin="0.5,0.5" position="'+S+","+D+'" color2="'+v+'" ',_()};n.added?h():ae(n,"add",h),h=g}else h=c}else l.test(t)&&"IMG"!==e.tagName?(s=ye(t),o=["<",i,' opacity="',s.get("a"),'"/>'],m(this.prepVML(o),null,null,e),h=s.get("rgb")):((h=e.getElementsByTagName(i)).length&&(h[0].opacity=1,h[0].type="solid"),h=t);return h},prepVML:function(t){var e=this.isIE8;t=t.join("");return e?t=-1===(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);'):t=t.replace("<","<hcv:"),t},text:we.prototype.html,path:function(e){var i={coordsize:"10 10"};return o(e)?i.d=e:s(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){var n=this.symbol("circle");return s(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(Bt).attr(e)},image:function(t,e,i,n,s){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:i,width:n,height:s}),o},rect:function(t,e,i,n,o,r){var a=this.symbol("rect");return a.r=s(t)?t.r:o,a.attr(s(t)?t:a.crisp(r,t,e,vt(i,0),vt(n,0)))},invertChild:function(t,e){var n=e.style;f(t,{flip:"x",left:i(n.width)-1,top:i(n.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,n,s){var o=s.start,r=s.end,a=s.r||i||n,l=(i=s.innerR,n=xt(o),wt(o)),h=xt(r),c=wt(r);return r-o==0?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*n,e+a*l,t+a*h,e+a*c],s.open&&!i&&o.push("e","M",t,e),o.push("at",t-i,e-i,t+i,e+i,t+i*h,e+i*c,t+i*n,e+i*l,"x","e"),o.isArc=!0,o)},circle:function(t,e,i,n,s){return s&&(i=n=2*s.r),s&&s.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,s){var o,r=t+i,a=e+n;return c(s)&&s.r?r=["M",t+(o=yt(s.r,i,n)),e,"L",r-o,e,"wa",r-2*o,e,r,e+2*o,r-o,e,r,e+o,"L",r,a-o,"wa",r-2*o,a-2*o,r,a,r,a-o,r-o,a,"L",t+o,a,"wa",t,a-2*o,t+2*o,a,t+o,a,t,a-o,"L",t,e+o,"wa",t,e,t+2*o,e+2*o,t,e+o,t+o,e,"x","e"]:r=we.prototype.symbols.square.apply(0,arguments),r}}};Highcharts.VMLRenderer=be=function(){this.init.apply(this,arguments)},be.prototype=e(we.prototype,_e),q=be}we.prototype.measureSpanWidth=function(t,e){var i=dt.createElement("span"),n=dt.createTextNode(t);return i.appendChild(n),f(i,e),this.box.appendChild(i),i.offsetWidth},It&&(Highcharts.CanVGRenderer=be=function(){Lt="http://www.w3.org/1999/xhtml"},be.prototype.symbols={},xe=function(){function t(){var t,i=e.length;for(t=0;t<i;t++)e[t]();e=[]}var e=[];return{push:function(i,n){0===e.length&&ee(n,t),e.push(i)}}}(),q=be),F.prototype={addLabel:function(){var e,i=this.axis,n=i.options,s=i.chart,o=i.horiz,a=i.categories,h=i.names,d=this.pos,u=n.labels,f=i.tickPositions,m=(o=o&&a&&!u.step&&!u.staggerLines&&!u.rotation&&s.plotWidth/f.length||!o&&(s.margin[3]||.33*s.chartWidth),d===f[0]),g=d===f[f.length-1],v=(h=a?p(a[d],h[d],d):d,a=this.label,f.info);i.isDatetimeAxis&&v&&(e=n.dateTimeLabelFormats[v.higherRanks[d]||v.unitName]),this.isFirst=m,this.isLast=g,n=i.labelFormatter.call({axis:i,chart:s,isFirst:m,isLast:g,dateTimeLabelFormat:e,value:i.isLog?E(l(h)):h}),d=t(d=o&&{width:vt(1,ft(o-2*(u.padding||10)))+"px"},u.style),c(a)?a&&a.attr({text:n}).css(d):(e={align:i.labelAlign},r(u.rotation)&&(e.rotation=u.rotation),o&&u.ellipsis&&(e._clipHeight=i.len/f.length),this.label=c(n)&&u.enabled?s.renderer.text(n,0,0,u.useHTML).attr(e).css(d).add(i.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?(this.labelBBox=t.getBBox())[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.axis,e=this.labelBBox.width;return[-(t=e*{left:0,center:.5,right:1}[t.labelAlign]-t.options.labels.x),e-t]},handleOverflow:function(t,e){var i=!0,n=this.axis,s=n.chart,o=this.isFirst,r=this.isLast,a=e.x,l=n.reversed,h=n.tickPositions;if(o||r){var c=(d=this.getLabelSides())[0],d=d[1],u=(s=s.plotLeft)+n.len;h=(n=n.ticks[h[t+(o?1:-1)]])&&n.label.xy&&n.label.xy.x+n.getLabelSides()[o?0:1];o&&!l||r&&l?a+c<s&&(a=s-c,n&&a+d>h&&(i=!1)):a+d>u&&(a=u-d,n&&a+c<h&&(i=!1)),e.x=a}return i},getPosition:function(t,e,i,n){var s=this.axis,o=s.chart,r=n&&o.oldChartHeight||o.chartHeight;return{x:t?s.translate(e+i,null,null,n)+s.transB:s.left+s.offset+(s.opposite?(n&&o.oldChartWidth||o.chartWidth)-s.right-s.left:0),y:t?r-s.bottom+s.offset-(s.opposite?s.height:0):r-s.translate(e+i,null,null,n)-s.transB}},getLabelPosition:function(t,e,i,n,s,o,r,a){var l=this.axis,h=l.transA,d=l.reversed,u=l.staggerLines,p=l.chart.renderer.fontMetrics(s.style.fontSize).b,f=s.rotation;t=t+s.x-(o&&n?o*h*(d?-1:1):0),e=e+s.y-(o&&!n?o*h*(d?1:-1):0);return f&&2===l.side&&(e-=p-p*xt(f*kt)),!c(s.y)&&!f&&(e+=p-i.getBBox().height/2),u&&(e+=r/(a||1)%u*(l.labelOffset/u)),{x:t,y:e}},getMarkPath:function(t,e,i,n,s,o){return o.crispLine(["M",t,e,"L",t+(s?0:-i),e+(s?i:0)],n)},render:function(t,e,i){var n=this.axis,s=n.options,o=n.chart.renderer,r=n.horiz,a=this.type,l=this.label,h=this.pos,c=s.labels,d=this.gridLine,u=a?a+"Tick":"tick",f=s[(y=a?a+"Grid":"grid")+"LineWidth"],m=s[y+"LineColor"],g=s[y+"LineDashStyle"],v=s[u+"Length"],y=s[u+"Width"]||0,b=s[u+"Color"],x=s[u+"Position"],w=(u=this.mark,c.step),_=!0,k=n.tickmarkOffset,C=(T=this.getPosition(r,h,k,e)).x,T=T.y,S=r&&C===n.pos+n.len||!r&&T===n.pos?-1:1,D=n.staggerLines;this.isActive=!0,f&&(h=n.getPlotLinePath(h+k,f*S,e,!0),d===G&&(d={stroke:m,"stroke-width":f},g&&(d.dashstyle=g),a||(d.zIndex=1),e&&(d.opacity=0),this.gridLine=d=f?o.path(h).attr(d).add(n.gridGroup):null),!e&&d&&h&&d[this.isNew?"attr":"animate"]({d:h,opacity:i})),y&&v&&("inside"===x&&(v=-v),n.opposite&&(v=-v),e=this.getMarkPath(C,T,v,y*S,r,o),u?u.animate({d:e,opacity:i}):this.mark=o.path(e).attr({stroke:b,"stroke-width":y,opacity:i}).add(n.axisGroup)),l&&!isNaN(C)&&(l.xy=T=this.getLabelPosition(C,T,l,r,c,k,t,w),this.isFirst&&!this.isLast&&!p(s.showFirstLabel,1)||this.isLast&&!this.isFirst&&!p(s.showLastLabel,1)?_=!1:!D&&r&&"justify"===c.overflow&&!this.handleOverflow(t,T)&&(_=!1),w&&t%w&&(_=!1),_&&!isNaN(T.y)?(T.opacity=i,l[this.isNew?"attr":"animate"](T),this.isNew=!1):l.attr("y",-9999))},destroy:function(){M(this,this.axis)}},O.prototype={render:function(){var t,i=this,n=i.axis,s=n.horiz,o=(n.pointRange||0)/2,r=i.options,l=r.label,h=i.label,d=r.width,u=r.to,f=r.from,m=c(f)&&c(u),g=r.value,v=r.dashStyle,y=i.svgElem,b=[],x=r.color,w=r.zIndex,_=r.events,k=n.chart.renderer;if(n.isLog&&(f=a(f),u=a(u),g=a(g)),d)b=n.getPlotLinePath(g,d),o={stroke:x,"stroke-width":d},v&&(o.dashstyle=v);else{if(!m)return;f=vt(f,n.min-o),u=yt(u,n.max+o),b=n.getPlotBandPath(f,u,r),o={fill:x},r.borderWidth&&(o.stroke=r.borderColor,o["stroke-width"]=r.borderWidth)}if(c(w)&&(o.zIndex=w),y)b?y.animate({d:b},null,y.onGetPath):(y.hide(),y.onGetPath=function(){y.show()},h&&(i.label=h=h.destroy()));else if(b&&b.length&&(i.svgElem=y=k.path(b).attr(o).add(),_))for(t in r=function(t){y.on(t,function(e){_[t].apply(i,[e])})},_)r(t);return l&&c(l.text)&&b&&b.length&&n.width>0&&n.height>0?(l=e({align:s&&m&&"center",x:s?!m&&4:10,verticalAlign:!s&&m&&"middle",y:s?m?16:10:m?6:-4,rotation:s&&!m&&90},l),h||(i.label=h=k.text(l.text,0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,zIndex:w}).css(l.style).add()),n=[b[1],b[4],p(b[6],b[1])],b=[b[2],b[5],p(b[7],b[2])],s=D(n),m=D(b),h.align(l,!1,{x:s,y:m,width:$(n)-s,height:$(b)-m}),h.show()):h&&h.hide(),i},destroy:function(){h(this.axis.plotLinesAndBands,this),delete this.axis,M(this)}},R.prototype={destroy:function(){M(this,this.axis)},render:function(t){var e=this.options,i=(i=e.format)?x(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,0,0,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=(r=this.axis).chart,n=i.inverted,s=this.isNegative,o=r.translate(this.percent?100:this.total,0,0,0,1),r=r.translate(0),a=(r=bt(o-r),i.xAxis[0].translate(this.x)+t),l=i.plotHeight;s={x:n?s?o:o-r:a,y:n?l-a-e:s?l-o-r:l-o,width:n?r:e,height:n?e:r};(n=this.label)&&(n.align(this.alignOptions,null,s),s=n.alignAttr,n.attr({visibility:!1===this.options.crop||i.isInsidePlot(s.x,s.y)?Et?"inherit":"visible":"hidden"}))}},j.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Jt,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return v(this.total,-1)},style:Jt.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(t,e){var i=e.isX;this.horiz=t.inverted?!i:i,this.xOrY=(this.isXAxis=i)?"x":"y",this.opposite=e.opposite,this.side=this.horiz?this.opposite?0:2:this.opposite?1:3,this.setOptions(e);var n=(o=this.options).type;this.labelFormatter=o.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.chart=t,this.reversed=o.reversed,this.zoomEnabled=!1!==o.zoomEnabled,this.categories=o.categories||"category"===n,this.names=[],this.isLog="logarithmic"===n,this.isDatetimeAxis="datetime"===n,this.isLinked=c(o.linkedTo),this.tickmarkOffset=this.categories&&"between"===o.tickmarkPlacement?.5:0,this.ticks={},this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=o.minRange||o.maxZoom,this.range=o.range,this.offset=o.offset||0,this.stacks={},this.oldStacks={},this.stackExtremes={},this.min=this.max=null;var s,o=this.options.events;for(s in-1===ie(this,t.axes)&&(t.axes.push(this),t[i?"xAxis":"yAxis"].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===G&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine,o)ae(this,s,o[s]);this.isLog&&(this.val2lin=a,this.lin2val=l)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(V[this.isXAxis?"xAxis":"yAxis"],t))},update:function(i,n){var s=this.chart;i=s.options[this.xOrY+"Axis"][this.options.index]=e(this.userOptions,i);this.destroy(!0),this._addedPlotLB=this.userMin=this.userMax=G,this.init(s,t(i,{events:G})),s.isDirtyBox=!0,p(n,!0)&&s.redraw()},remove:function(t){var e=this.chart,i=this.xOrY+"Axis";ne(this.series,function(t){t.remove(!1)}),h(e.axes,this),h(e[i],this),e.options[i].splice(this.options.index,1),ne(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,p(t,!0)&&e.redraw()},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,n=e.categories,s=this.dateTimeLabelFormat,o=V.lang.numericSymbols,r=o&&o.length,a=e.options.labels.format;e=e.isLog?i:e.tickInterval;if(a)t=x(a,this);else if(n)t=i;else if(s)t=Y(s,i);else if(r&&e>=1e3)for(;r--&&t===G;)e>=(n=Math.pow(1e3,r+1))&&null!==o[r]&&(t=v(i/n,-1)+o[r]);return t===G&&(t=v(i,i>=1e3?0:-1)),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,t.stackExtremes={},t.buildStacks(),ne(t.series,function(i){var n,s;!i.visible&&e.options.chart.ignoreHiddenSeries||(n=i.options.threshold,t.hasVisibleSeries=!0,t.isLog&&n<=0&&(n=null),t.isXAxis?(n=i.xData).length&&(t.dataMin=yt(p(t.dataMin,n[0]),D(n)),t.dataMax=vt(p(t.dataMax,n[0]),$(n))):(i.getExtremes(),s=i.dataMax,c(i=i.dataMin)&&c(s)&&(t.dataMin=yt(p(t.dataMin,i),i),t.dataMax=vt(p(t.dataMax,s),s)),c(n)&&(t.dataMin>=n?(t.dataMin=n,t.ignoreMinPadding=!0):t.dataMax<n&&(t.dataMax=n,t.ignoreMaxPadding=!0))))})},translate:function(t,e,i,n,s,o){var a=this.len,l=1,h=0,c=n?this.oldTransA:this.transA,d=(n=n?this.oldMin:this.min,this.minPixelPadding);s=(this.options.ordinal||this.isLog&&s)&&this.lin2val;return c||(c=this.transA),i&&(l*=-1,h=a),this.reversed&&(h-=(l*=-1)*a),e?(t=t*l+h,t=(t-=d)/c+n,s&&(t=this.lin2val(t))):(s&&(t=this.val2lin(t)),"between"===o&&(o=.5),t=l*(t-n)*c+h+l*d+(r(o)?c*o*this.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n){var s,o,r,a,l=this.chart,h=this.left,c=this.top,d=(t=this.translate(t,null,null,i),i&&l.oldChartHeight||l.chartHeight),u=i&&l.oldChartWidth||l.chartWidth;return s=this.transB,i=o=ft(t+s),s=r=ft(d-t-s),isNaN(t)?a=!0:this.horiz?(s=c,r=d-this.bottom,(i<h||i>h+this.width)&&(a=!0)):(i=h,o=u-this.right,(s<c||s>c+this.height)&&(a=!0)),a&&!n?null:l.renderer.crispLine(["M",i,s,"L",o,r],e||0)},getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),n=this.getPlotLinePath(t);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},getLinearTickPositions:function(t,e,i){e=E(mt(e/t)*t),i=E(gt(i/t)*t);for(var n,s=[];e<=i&&(s.push(e),(e=E(e+t))!==n);)n=e;return s},getLogTickPositions:function(t,e,i,n){var s=this.options,o=this.len,r=[];if(n||(this._minorAutoInterval=null),t>=.5)t=ft(t),r=this.getLinearTickPositions(t,e,i);else if(t>=.08){var h,c,d,u,f;for(o=mt(e),s=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<i+1&&!f;o++)for(c=s.length,h=0;h<c&&!f;h++)(d=a(l(o)*s[h]))>e&&(!n||u<=i)&&r.push(u),u>i&&(f=!0),u=d}else e=l(e),i=l(i),t=_(t=p("auto"===(t=s[n?"minorTickInterval":"tickInterval"])?null:t,this._minorAutoInterval,(i-e)*(s.tickPixelInterval/(n?5:1))/((n?o/this.tickPositions.length:o)||1)),null,w(t)),r=re(this.getLinearTickPositions(t,e,i),a),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),r},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,n=this.minorTickInterval,s=[];if(this.isLog)for(t=i.length,
e=1;e<t;e++)s=s.concat(this.getLogTickPositions(n,i[e-1],i[e],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)(s=s.concat(C(k(n),this.min,this.max,e.startOfWeek)))[0]<this.min&&s.shift();else for(i=this.min+(i[0]-this.min)%n;i<=this.max;i+=n)s.push(i);return s},adjustForMinRange:function(){var t,e,i,n,s,o=this.options,r=this.min,a=this.max,l=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===G&&!this.isLog&&(c(o.min)||c(o.max)?this.minRange=null:(ne(this.series,function(t){for(s=t.xData,i=t.xIncrement?1:s.length-1;i>0;i--)n=s[i]-s[i-1],(e===G||n<e)&&(e=n)}),this.minRange=yt(5*e,this.dataMax-this.dataMin))),a-r<this.minRange){var h=this.minRange;t=[r-(t=(h-a+r)/2),p(o.min,r-t)],l&&(t[2]=this.dataMin),a=[(r=$(t))+h,p(o.max,r+h)],l&&(a[2]=this.dataMax),(a=D(a))-r<h&&(t[0]=a-h,t[1]=p(o.min,a-h),r=$(t))}this.min=r,this.max=a},setAxisTranslation:function(t){var e,i=this.max-this.min,s=0,o=0,r=0,a=this.linkedParent,l=this.transA;this.isXAxis&&(a?(o=a.minPointOffset,r=a.pointRangePadding):ne(this.series,function(t){var a=t.pointRange,l=t.options.pointPlacement,h=t.closestPointRange;a>i&&(a=0),s=vt(s,a),o=vt(o,n(l)?0:a/2),r=vt(r,"on"===l?0:a),!t.noSharedTooltip&&c(h)&&(e=c(e)?yt(e,h):h)}),a=this.ordinalSlope&&e?this.ordinalSlope/e:1,this.minPointOffset=o*=a,this.pointRangePadding=r*=a,this.pointRange=yt(s,i),this.closestPointRange=e),t&&(this.oldTransA=l),this.translationSlope=this.transA=l=this.len/(i+r||1),this.transB=this.horiz?this.left:this.bottom,this.minPixelPadding=l*o},setTickPositions:function(t){var e,i=this,n=i.chart,s=i.options,o=i.isLog,r=i.isDatetimeAxis,l=i.isXAxis,h=i.isLinked,d=i.options.tickPositioner,u=s.maxPadding,f=s.minPadding,m=s.tickInterval,g=s.minTickInterval,v=s.tickPixelInterval,y=i.categories;h?(i.linkedParent=n[l?"xAxis":"yAxis"][s.linkedTo],n=i.linkedParent.getExtremes(),i.min=p(n.min,n.dataMin),i.max=p(n.max,n.dataMax),s.type!==i.linkedParent.options.type&&L(11,1)):(i.min=p(i.userMin,s.min,i.dataMin),i.max=p(i.userMax,s.max,i.dataMax)),o&&(!t&&yt(i.min,p(i.dataMin,i.min))<=0&&L(10,1),i.min=E(a(i.min)),i.max=E(a(i.max))),i.range&&(i.userMin=i.min=vt(i.min,i.max-i.range),i.userMax=i.max,t)&&(i.range=null),i.beforePadding&&i.beforePadding(),i.adjustForMinRange(),!y&&!i.usePercentage&&!h&&c(i.min)&&c(i.max)&&(n=i.max-i.min)&&(c(s.min)||c(i.userMin)||!f||!(i.dataMin<0)&&i.ignoreMinPadding||(i.min-=n*f),c(s.max)||c(i.userMax)||!u||!(i.dataMax>0)&&i.ignoreMaxPadding||(i.max+=n*u)),i.min===i.max||void 0===i.min||void 0===i.max?i.tickInterval=1:h&&!m&&v===i.linkedParent.options.tickPixelInterval?i.tickInterval=i.linkedParent.tickInterval:(i.tickInterval=p(m,y?1:(i.max-i.min)*v/vt(i.len,v)),!c(m)&&i.len<v&&!this.isRadial&&(e=!0,i.tickInterval/=4)),l&&!t&&ne(i.series,function(t){t.processData(i.min!==i.oldMin||i.max!==i.oldMax)}),i.setAxisTranslation(!0),i.beforeSetTickPositions&&i.beforeSetTickPositions(),i.postProcessTickInterval&&(i.tickInterval=i.postProcessTickInterval(i.tickInterval)),i.pointRange&&(i.tickInterval=vt(i.pointRange,i.tickInterval)),!m&&i.tickInterval<g&&(i.tickInterval=g),r||o||m||(i.tickInterval=_(i.tickInterval,null,w(i.tickInterval),s)),i.minorTickInterval="auto"===s.minorTickInterval&&i.tickInterval?i.tickInterval/5:s.minorTickInterval,i.tickPositions=t=s.tickPositions?[].concat(s.tickPositions):d&&d.apply(i,[i.min,i.max]),t||(!i.ordinalPositions&&(i.max-i.min)/i.tickInterval>vt(2*i.len,200)&&L(19,!0),t=r?(i.getNonLinearTimeTicks||C)(k(i.tickInterval,s.units),i.min,i.max,s.startOfWeek,i.ordinalPositions,i.closestPointRange,!0):o?i.getLogTickPositions(i.tickInterval,i.min,i.max):i.getLinearTickPositions(i.tickInterval,i.min,i.max),e&&t.splice(1,t.length-2),i.tickPositions=t),h||(o=t[0],r=t[t.length-1],h=i.minPointOffset||0,s.startOnTick?i.min=o:i.min-h>o&&t.shift(),s.endOnTick?i.max=r:i.max+h<r&&t.pop(),1===t.length&&(i.min-=.001,i.max+=.001))},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},i=this.tickPositions,n=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(e[n]||0)&&!1!==this.options.alignTicks&&(e[n]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this._maxTicksKey,e=this.tickPositions,i=this.chart.maxTicks;if(i&&i[t]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&!1!==this.options.alignTicks){var n=this.tickAmount,s=e.length;if(this.tickAmount=t=i[t],s<t){for(;e.length<t;)e.push(E(e[e.length-1]+this.tickInterval));this.transA*=(s-1)/(t-1),this.max=e[e.length-1]}c(n)&&t!==n&&(this.isDirty=!0)}},setScale:function(){var t,e,i,n,s=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),n=this.len!==this.oldAxisLength,ne(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),n||i||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(t in s)for(e in s[t])s[t][e].total=null,s[t][e].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=n||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis)for(t in this.oldStacks&&(s=this.stacks=this.oldStacks),s)for(e in s[t])s[t][e].cum=s[t][e].total;this.setMaxTicks()},setExtremes:function(e,i,n,s,o){var r=this,a=r.chart;n=p(n,!0),o=t(o,{min:e,max:i});he(r,"setExtremes",o,function(){r.userMin=e,r.userMax=i,r.eventArgs=o,r.isDirtyExtremes=!0,n&&a.redraw(s)})},zoom:function(t,e){return this.allowZoomOutside||(c(this.dataMin)&&t<=this.dataMin&&(t=G),c(this.dataMax)&&e>=this.dataMax&&(e=G)),this.displayBtn=t!==G||e!==G,this.setExtremes(t,e,!1,G,{trigger:"zoom"}),!0},setAxisSize:function(){var t,e,i=this.chart,n=this.options,s=n.offsetLeft||0,o=n.offsetRight||0,r=this.horiz;this.left=e=p(n.left,i.plotLeft+s),this.top=t=p(n.top,i.plotTop),this.width=s=p(n.width,i.plotWidth-s+o),this.height=n=p(n.height,i.plotHeight),this.bottom=i.chartHeight-n-t,this.right=i.chartWidth-s-e,this.len=vt(r?s:n,0),this.pos=r?e:t},getExtremes:function(){var t=this.isLog;return{min:t?E(l(this.min)):this.min,max:t?E(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=(i=this.isLog)?l(this.min):this.min,i=i?l(this.max):this.max;return e>t||null===t?t=e:i<t&&(t=i),this.translate(t,0,1,0,1)},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new O(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},autoLabelAlign:function(t){return(t=(p(t,0)-90*this.side+720)%360)>15&&t<165?"right":t>195&&t<345?"left":"center"},getOffset:function(){var t,e,i,n,s,o,r,a=this,l=a.chart,h=l.renderer,d=a.options,u=a.tickPositions,f=a.ticks,m=a.horiz,g=a.side,v=l.inverted?[1,0,3,2][g]:g,y=0,b=0,x=d.title,w=d.labels,_=0,k=l.axisOffset,C=l.clipOffset,T=[-1,1,1,-1][g],S=1,D=p(w.maxStaggerLines,5);if(a.hasData=t=a.hasVisibleSeries||c(a.min)&&c(a.max)&&!!u,a.showAxis=l=t||p(d.showEmpty,!0),a.staggerLines=a.horiz&&w.staggerLines,a.axisGroup||(a.gridGroup=h.g("grid").attr({zIndex:d.gridZIndex||1}).add(),a.axisGroup=h.g("axis").attr({zIndex:d.zIndex||2}).add(),a.labelGroup=h.g("axis-labels").attr({zIndex:w.zIndex||7}).add()),t||a.isLinked){if(a.labelAlign=p(w.align||a.autoLabelAlign(w.rotation)),ne(u,function(t){f[t]?f[t].addLabel():f[t]=new F(a,t)}),a.horiz&&!a.staggerLines&&D&&!w.rotation){for(i=a.reversed?[].concat(u).reverse():u;S<D;){for(t=[],n=!1,w=0;w<i.length;w++)s=i[w],r=w%S,(o=(o=f[s].label&&f[s].label.getBBox())?o.width:0)&&(s=a.translate(s),t[r]!==G&&s<t[r]&&(n=!0),t[r]=s+o);if(!n)break;S++}S>1&&(a.staggerLines=S)}ne(u,function(t){0!==g&&2!==g&&{1:"left",3:"right"}[g]!==a.labelAlign||(_=vt(f[t].getLabelSize(),_))}),a.staggerLines&&(_*=a.staggerLines,a.labelOffset=_)}else for(i in f)f[i].destroy(),delete f[i];x&&x.text&&!1!==x.enabled&&(a.axisTitle||(a.axisTitle=h.text(x.text,0,0,x.useHTML).attr({zIndex:7,rotation:x.rotation||0,align:x.textAlign||{low:"left",middle:"center",high:"right"}[x.align]}).css(x.style).add(a.axisGroup),a.axisTitle.isNew=!0),l&&(y=a.axisTitle.getBBox()[m?"height":"width"],b=p(x.margin,m?5:10),e=x.offset),a.axisTitle[l?"show":"hide"]()),a.offset=T*p(d.offset,k[g]),a.axisTitleMargin=p(e,_+b+(2!==g&&_&&T*d.labels[m?"y":"x"])),k[g]=vt(k[g],a.axisTitleMargin+y+T*a.offset),C[v]=vt(C[v],2*mt(d.lineWidth/2))},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,s=this.horiz,o=this.left+(i?this.width:0)+n;n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",s?this.left:o,s?n:this.top,"L",s?e.chartWidth-this.right:o,s?n:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,s=this.len,o=this.options.title,r=t?e:n,a=this.opposite,l=this.offset,h=i(o.style.fontSize||12);s={low:r+(t?0:s),middle:r+s/2,high:r+(t?s:0)}[o.align],e=(t?n+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?h:0);return{x:t?s:e+(a?this.width:0)+l+(o.x||0),y:t?e-(a?this.height:0)+l:s+(o.y||0)}},render:function(){var t,e=this,i=e.chart,n=i.renderer,s=e.options,o=e.isLog,r=e.isLinked,a=e.tickPositions,h=e.axisTitle,d=e.stacks,u=e.ticks,p=e.minorTicks,f=e.alternateBands,m=s.stackLabels,g=s.alternateGridColor,v=e.tickmarkOffset,y=s.lineWidth,b=i.hasRendered&&c(e.oldMin)&&!isNaN(e.oldMin);t=e.hasData;var x,w,_=e.showAxis;if(ne([u,p,f],function(t){for(var e in t)t[e].isActive=!1}),(t||r)&&(e.minorTickInterval&&!e.categories&&ne(e.getMinorTickPositions(),function(t){p[t]||(p[t]=new F(e,t,"minor")),b&&p[t].isNew&&p[t].render(null,!0),p[t].render(null,!1,1)}),a.length&&(ne(a.slice(1).concat([a[0]]),function(t,i){i=i===a.length-1?0:i+1,(!r||t>=e.min&&t<=e.max)&&(u[t]||(u[t]=new F(e,t)),b&&u[t].isNew&&u[t].render(i,!0),u[t].render(i,!1,1))}),v&&0===e.min&&(u[-1]||(u[-1]=new F(e,-1,null,!0)),u[-1].render(-1))),g&&ne(a,function(t,i){i%2==0&&t<e.max&&(f[t]||(f[t]=new O(e)),x=t+v,w=a[i+1]!==G?a[i+1]+v:e.max,f[t].options={from:o?l(x):x,to:o?l(w):w,color:g},f[t].render(),f[t].isActive=!0)}),e._addedPlotLB||(ne((s.plotLines||[]).concat(s.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0)),ne([u,p,f],function(t){var e,n,s=[],o=X?X.duration||500:0,r=function(){for(n=s.length;n--;)t[s[n]]&&!t[s[n]].isActive&&(t[s[n]].destroy(),delete t[s[n]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,s.push(e));t!==f&&i.hasRendered&&o?o&&setTimeout(r,o):r()}),y&&(t=e.getLinePath(y),e.axisLine?e.axisLine.animate({d:t}):e.axisLine=n.path(t).attr({stroke:s.lineColor,"stroke-width":y,zIndex:7}).add(e.axisGroup),e.axisLine[_?"show":"hide"]()),h&&_&&(h[h.isNew?"attr":"animate"](e.getTitlePosition()),h.isNew=!1),m&&m.enabled){var k,C;s=e.stackTotalGroup;for(k in s||(e.stackTotalGroup=s=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(i.plotLeft,i.plotTop),d)for(C in n=d[k])n[C].render(s)}e.isDirty=!1},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,s=e.length;s--;)e[s].id===t&&e[s].destroy();ne([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(s=e.length;s--;)e[s].id===t&&h(e,e[s])})},setTitle:function(t,e){this.update({title:t},e)},redraw:function(){var t=this.chart.pointer;t.reset&&t.reset(!0),this.render(),ne(this.plotLinesAndBands,function(t){t.render()}),ne(this.series,function(t){t.isDirty=!0})},buildStacks:function(){var t=this.series,e=t.length;if(!this.isXAxis){for(;e--;)t[e].setStackedPoints();if(this.usePercentage)for(e=0;e<t.length;e++)t[e].setPercentStacks()}},setCategories:function(t,e){this.update({categories:t},e)},destroy:function(t){var e,i=this,n=i.stacks,s=i.plotLinesAndBands;for(e in t||le(i),n)M(n[e]),n[e]=null;for(ne([i.ticks,i.minorTicks,i.alternateBands],function(t){M(t)}),t=s.length;t--;)s[t].destroy();ne("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(t){i[t]&&(i[t]=i[t].destroy())})}},B.prototype={init:function(t,e){var n=e.borderWidth,s=e.style,o=i(s.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":n,r:e.borderRadius,zIndex:8}).css(s).css({padding:0}).add().attr({y:-999}),It||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){ne(this.crosshairs,function(t){t&&t.destroy()}),this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,i,n,s){var o=this,r=o.now,a=!1!==o.options.animation&&!o.isHidden;t(r,{x:a?(2*r.x+e)/3:e,y:a?(r.y+i)/2:i,anchorX:a?(2*r.anchorX+n)/3:n,anchorY:a?(r.anchorY+s)/2:s}),o.label.attr(r),a&&(bt(e-r.x)>1||bt(i-r.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(e,i,n,s)},32))},hide:function(){var t,e=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},p(this.options.hideDelay,500)),t&&ne(t,function(t){t.setState()}),this.chart.hoverPoints=null)},hideCrosshairs:function(){ne(this.crosshairs,function(t){t&&t.hide()})},getAnchor:function(t,e){var i,n,s=this.chart,o=s.inverted,r=s.plotTop,a=0,l=0;return i=(t=u(t))[0].tooltipPos,this.followPointer&&e&&(e.chartX===G&&(e=s.pointer.normalize(e)),i=[e.chartX-s.plotLeft,e.chartY-r]),i||(ne(t,function(t){n=t.series.yAxis,a+=t.plotX,l+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&n?n.top-r:0)}),a/=t.length,l/=t.length,i=[o?s.plotWidth-l:a,this.shared&&!o&&t.length>1&&e?e.chartY-r:o?s.plotHeight-a:l]),re(i,ft)},getPosition:function(t,e,i){var n,s,o=(n=this.chart).plotLeft,r=n.plotTop,a=n.plotWidth,l=n.plotHeight,h=p(this.options.distance,12),c=i.plotX,d=(i=i.plotY)-e+r+15;return(n=c+o+(n.inverted?h:-t-h))<7&&(n=o+vt(c,0)+h),n+t>o+a&&(n-=n+t-(o+a),d=i-e+r-h,s=!0),d<r+5&&(d=r+5,s&&i>=d&&i<=d+e&&(d=i+r+h)),d+e>r+l&&(d=vt(r,r+l-e-h)),{x:n,y:d}},defaultFormatter:function(t){var e,i=this.points||u(this),n=i[0].series;return e=[n.tooltipHeaderFormatter(i[0])],ne(i,function(t){n=t.series,e.push(n.tooltipFormatter&&n.tooltipFormatter(t)||t.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var i,n,s,o=this.chart,r=this.label,l=this.options,h={},c=[];s=l.formatter||this.defaultFormatter;h=o.hoverPoints;var d,f=l.crosshairs,m=this.shared;if(clearTimeout(this.hideTimer),this.followPointer=u(t)[0].series.tooltipOptions.followPointer,i=(n=this.getAnchor(t,e))[0],n=n[1],!m||t.series&&t.series.noSharedTooltip?h=t.getLabelConfig():(o.hoverPoints=t,h&&ne(h,function(t){t.setState()}),ne(t,function(t){t.setState("hover"),c.push(t.getLabelConfig())}),(h={x:t[0].category,y:t[0].y}).points=c,t=t[0]),s=s.call(h,this),h=t.series,!1===s?this.hide():(this.isHidden&&(ue(r),r.attr("opacity",1).show()),r.attr({text:s}),d=l.borderColor||t.color||h.color||"#606060",r.attr({stroke:d}),this.updatePosition({plotX:i,plotY:n}),this.isHidden=!1),f)for(r=(f=u(f)).length;r--;)l=(m=t.series)[r?"yAxis":"xAxis"],f[r]&&l&&(h=r?p(t.stackY,t.y):t.x,l.isLog&&(h=a(h)),1===r&&m.modifyValue&&(h=m.modifyValue(h)),l=l.getPlotLinePath(h,1),this.crosshairs[r]?this.crosshairs[r].attr({d:l,visibility:"visible"}):(h={"stroke-width":f[r].width||1,stroke:f[r].color||"#C0C0C0",zIndex:f[r].zIndex||2},f[r].dashStyle&&(h.dashstyle=f[r].dashStyle),this.crosshairs[r]=o.renderer.path(l).attr(h).add()));he(o,"tooltipRefresh",{text:s,x:i+o.plotLeft,y:n+o.plotTop,borderColor:d})},updatePosition:function(t){var e=this.chart,i=this.label;i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(ft(i.x),ft(i.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)}},H.prototype={init:function(t,e){var i,n=(o=e.chart).events,s=It?"":o.zoomType,o=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(s),this.zoomY=s=/y/.test(s),this.zoomHor=i&&!o||s&&o,this.zoomVert=s&&!o||i&&o,this.runChartClick=n&&!!n.click,this.pinchDown=[],this.lastValidTouch={},e.tooltip.enabled&&(t.tooltip=new B(t,e.tooltip)),this.setDOMEvents()},normalize:function(e,i){var n,s;return(e=e||ut.event).target||(e.target=e.srcElement),s=(e=ce(e)).touches?e.touches.item(0):e,i||(this.chartPosition=i=oe(this.chart.container)),s.pageX===G?(n=vt(e.x,e.clientX-i.left),s=e.y):(n=s.pageX-i.left,s=s.pageY-i.top),t(e,{chartX:ft(n),chartY:ft(s)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return ne(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e,i,n,s=this.chart,o=s.series,r=s.tooltip,a=s.hoverPoint,l=s.hoverSeries,h=s.chartWidth,c=this.getIndex(t);if(r&&this.options.tooltip.shared&&(!l||!l.noSharedTooltip)){for(e=[],i=o.length,n=0;n<i;n++)o[n].visible&&!1!==o[n].options.enableMouseTracking&&!o[n].noSharedTooltip&&o[n].tooltipPoints.length&&(s=o[n].tooltipPoints[c])&&s.series&&(s._dist=bt(c-s.clientX),h=yt(h,s._dist),e.push(s));for(i=e.length;i--;)e[i]._dist>h&&e.splice(i,1);e.length&&e[0].clientX!==this.hoverX&&(r.refresh(e,t),this.hoverX=e[0].clientX)}l&&l.tracker?(s=l.tooltipPoints[c])&&s!==a&&s.onMouseOver(t):r&&r.followPointer&&!r.isHidden&&(t=r.getAnchor([{}],t),r.updatePosition({plotX:t[0],plotY:t[1]}))},reset:function(t){var e=(s=this.chart).hoverSeries,i=s.hoverPoint,n=s.tooltip,s=n&&n.shared?s.hoverPoints:i;(t=t&&n&&s)&&u(s)[0].plotX===G&&(t=!1),t?n.refresh(s):(i&&i.onMouseOut(),e&&e.onMouseOut(),n&&(n.hide(),n.hideCrosshairs()),this.hoverX=null)},scaleGroups:function(t,e){var i,n=this.chart;ne(n.series,function(s){i=t||s.getPlotBox(),s.xAxis&&s.xAxis.zoomEnabled&&(s.group.attr(i),s.markerGroup&&(s.markerGroup.attr(i),s.markerGroup.clip(e?n.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},pinchTranslate:function(t,e,i,n,s,o,r,a){t&&this.pinchTranslateDirection(!0,i,n,s,o,r,a),e&&this.pinchTranslateDirection(!1,i,n,s,o,r,a)},pinchTranslateDirection:function(t,e,i,n,s,o,r,a){var l,h,c,d=this.chart,u=t?"x":"y",p=t?"X":"Y",f="chart"+p,m=t?"width":"height",g=d["plot"+(t?"Left":"Top")],v=a||1,y=d.inverted,b=d.bounds[t?"h":"v"],x=1===e.length,w=e[0][f],_=i[0][f],k=!x&&e[1][f],C=!x&&i[1][f];(i=function(){!x&&bt(w-k)>20&&(v=a||bt(_-C)/bt(w-k)),h=(g-_)/v+w,l=d["plot"+(t?"Width":"Height")]/v})(),(e=h)<b.min?(e=b.min,c=!0):e+l>b.max&&(e=b.max-l,c=!0),c?(_-=.8*(_-r[u][0]),x||(C-=.8*(C-r[u][1])),i()):r[u]=[_,C],y||(o[u]=h-g,o[m]=l),o=y?1/v:v,s[m]=l,s[u]=e,n[y?t?"scaleY":"scaleX":"scale"+p]=v,n["translate"+p]=o*g+(_-o*w)},pinch:function(e){var i=this,n=i.chart,s=i.pinchDown,o=n.tooltip&&n.tooltip.options.followTouchMove,r=e.touches,a=r.length,l=i.lastValidTouch,h=i.zoomHor||i.pinchHor,c=i.zoomVert||i.pinchVert,d=h||c,u=i.selectionMarker,p={},f=1===a&&(i.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||n.runChartClick),m={};(d||o)&&!f&&e.preventDefault(),re(r,function(t){return i.normalize(t)}),"touchstart"===e.type?(ne(r,function(t,e){s[e]={chartX:t.chartX,chartY:t.chartY}}),l.x=[s[0].chartX,s[1]&&s[1].chartX],l.y=[s[0].chartY,s[1]&&s[1].chartY],ne(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,s=t.toPixels(t.dataMin),o=t.toPixels(t.dataMax),r=yt(s,o);s=vt(s,o);e.min=yt(t.pos,r-i),e.max=vt(t.pos+t.len,s+i)}})):s.length&&(u||(i.selectionMarker=u=t({destroy:Rt},n.plotBox)),i.pinchTranslate(h,c,s,r,p,u,m,l),i.hasPinched=d,i.scaleGroups(p,m),!d&&o&&1===a&&this.runPointActions(i.normalize(e)))},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,s=t.chartX,o=t.chartY,r=this.zoomHor,a=this.zoomVert,l=i.plotLeft,h=i.plotTop,c=i.plotWidth,d=i.plotHeight,u=this.mouseDownX,p=this.mouseDownY;s<l?s=l:s>l+c&&(s=l+c),o<h?o=h:o>h+d&&(o=h+d),this.hasDragged=Math.sqrt(Math.pow(u-s,2)+Math.pow(p-o,2)),this.hasDragged>10&&(e=i.isInsidePlot(u-l,p-h),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!this.selectionMarker&&(this.selectionMarker=i.renderer.rect(l,h,r?1:c,a?1:d,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&r&&(s-=u,this.selectionMarker.attr({width:bt(s),x:(s>0?0:s)+u})),this.selectionMarker&&a&&(s=o-p,this.selectionMarker.attr({height:bt(s),y:(s>0?0:s)+p})),e&&!this.selectionMarker&&n.panning&&i.pan(t,n.panning))},drop:function(e){var i=this.chart,n=this.hasPinched;if(this.selectionMarker){var s,o={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},r=this.selectionMarker,a=r.x,l=r.y;(this.hasDragged||n)&&(ne(i.axes,function(t){if(t.zoomEnabled){var e=t.horiz,i=t.toValue(e?a:l);e=t.toValue(e?a+r.width:l+r.height);!isNaN(i)&&!isNaN(e)&&(o[t.xOrY+"Axis"].push({axis:t,min:yt(i,e),max:vt(i,e)}),s=!0)}}),s&&he(i,"selection",o,function(e){i.zoom(t(e,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(f(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){(t=this.normalize(t)).preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){this.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,n=e.hoverSeries;t=this.normalize(t,i);i&&n&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(t){var e=this.chart;(t=this.normalize(t)).returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=d(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;!e||e.options.stickyTracking||this.inClass(t.toElement||t.relatedTarget,"highcharts-tooltip")||e.onMouseOut()},onContainerClick:function(e){var i,n,s,o=this.chart,r=o.hoverPoint,a=o.plotLeft,l=o.plotTop,h=o.inverted;(e=this.normalize(e)).cancelBubble=!0,o.cancelClick||(r&&this.inClass(e.target,"highcharts-tracker")?(i=this.chartPosition,n=r.plotX,s=r.plotY,t(r,{pageX:i.left+a+(h?o.plotWidth-s:n),pageY:i.top+l+(h?o.plotHeight-n:s)}),he(r.series,"click",t(e,{point:r})),o.hoverPoint&&r.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),o.isInsidePlot(e.chartX-a,e.chartY-l)&&he(o,"click",e)))},onContainerTouchStart:function(t){var e=this.chart;1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){(1===t.touches.length||2===t.touches.length)&&this.pinch(t)},onDocumentTouchEnd:function(t){this.drop(t)},setDOMEvents:function(){var t,e=this,i=e.chart.container;this._events=t=[[i,"onmousedown","onContainerMouseDown"],[i,"onmousemove","onContainerMouseMove"],[i,"onclick","onContainerClick"],[i,"mouseleave","onContainerMouseLeave"],[dt,"mousemove","onDocumentMouseMove"],[dt,"mouseup","onDocumentMouseUp"]],Nt&&t.push([i,"ontouchstart","onContainerTouchStart"],[i,"ontouchmove","onContainerTouchMove"],[dt,"touchend","onDocumentTouchEnd"]),ne(t,function(t){e["_"+t[2]]=function(i){e[t[2]](i)},0===t[1].indexOf("on")?t[0][t[1]]=e["_"+t[2]]:ae(t[0],t[1],e["_"+t[2]])})},destroy:function(){var t=this;ne(t._events,function(e){0===e[1].indexOf("on")?e[0][e[1]]=null:le(e[0],e[1],t["_"+e[2]])}),delete t._events,clearInterval(t.tooltipTimeout)}},z.prototype={init:function(t,n){var s=this,o=n.itemStyle,r=p(n.padding,8),a=n.itemMarginTop||0;this.options=n,n.enabled&&(s.baseline=i(o.fontSize)+3+a,s.itemStyle=o,s.itemHiddenStyle=e(o,n.itemHiddenStyle),s.itemMarginTop=a,s.padding=r,s.initialItemX=r,s.initialItemY=r-5,s.maxItemWidth=0,s.chart=t,s.itemHeight=0,s.lastLineHeight=0,s.render(),ae(s.chart,"endResize",function(){s.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n=this.options,s=t.legendItem,o=t.legendLine,r=t.legendSymbol,a=this.itemHiddenStyle.color,l=(n=e?n.itemStyle.color:a,e?t.color:a),h=(a=t.options&&t.options.marker,{stroke:l,fill:l});if(s&&s.css({fill:n,color:n}),o&&o.attr({stroke:l}),r){if(a&&r.isMarker)for(i in a=t.convertAttribs(a))(s=a[i])!==G&&(h[i]=s);r.attr(h)}},positionItem:function(t){var e=(i=this.options).symbolPadding,i=!i.rtl,n=(s=t._legendItemPos)[0],s=s[1],o=t.checkbox;t.legendGroup&&t.legendGroup.translate(i?n:this.legendWidth-n-2*e-4,s),o&&(o.x=n,o.y=s)},destroyItem:function(t){var e=t.checkbox;ne(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&A(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(e=i.translateY,ne(this.allItems,function(s){var o,r=s.checkbox;r&&(o=e+r.y+(t||0)+3,f(r,{left:i.translateX+s.legendItemWidth+r.x-20+"px",top:o+"px",display:o>e-6&&o<e+n-6?"":Ht}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),i=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},renderItem:function(t){var i=this,n=i.chart,s=n.renderer,o=i.options,r="horizontal"===o.layout,a=o.symbolWidth,l=o.symbolPadding,h=i.itemStyle,c=i.itemHiddenStyle,d=i.padding,u=r?p(o.itemDistance,8):0,f=!o.rtl,g=o.width,v=o.itemMarginBottom||0,y=i.itemMarginTop,b=i.initialItemX,w=t.legendItem,_=t.series||t,k=_.options,C=k.showCheckbox,T=o.useHTML;!w&&(t.legendGroup=s.g("legend-item").attr({zIndex:1}).add(i.scrollGroup),_.drawLegendSymbol(i,t),t.legendItem=w=s.text(o.labelFormat?x(o.labelFormat,t):o.labelFormatter.call(t),f?a+l:-l,i.baseline,T).css(e(t.visible?h:c)).attr({align:f?"left":"right",zIndex:2}).add(t.legendGroup),(T?w:t.legendGroup).on("mouseover",function(){t.setState("hover"),w.css(i.options.itemHoverStyle)}).on("mouseout",function(){w.css(t.visible?h:c),t.setState()}).on("click",function(e){var i=function(){t.setVisible()};e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):he(t,"legendItemClick",e,i)}),i.colorizeItem(t,t.visible),k&&C)&&(t.checkbox=m("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},o.itemCheckboxStyle,n.container),ae(t.checkbox,"click",function(e){he(t,"checkboxClick",{checked:e.target.checked},function(){t.select()})})),s=w.getBBox(),o=t.legendItemWidth=o.itemWidth||a+l+s.width+u+(C?20:0),i.itemHeight=a=s.height,r&&i.itemX-b+o>(g||n.chartWidth-2*d-b)&&(i.itemX=b,i.itemY+=y+i.lastLineHeight+v,i.lastLineHeight=0),i.maxItemWidth=vt(i.maxItemWidth,o),i.lastItemY=y+i.itemY+v,i.lastLineHeight=vt(a,i.lastLineHeight),t._legendItemPos=[i.itemX,i.itemY],r?i.itemX+=o:(i.itemY+=y+a+v,i.lastLineHeight=a),i.offsetWidth=g||vt((r?i.itemX-b-u:o)+d,i.offsetWidth)},render:function(){var e,i,n,s,o=this,r=o.chart,a=r.renderer,l=o.group,h=o.box,c=o.options,d=o.padding,u=c.borderWidth,f=c.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,l||(o.group=l=a.g("legend").attr({zIndex:7}).add(),o.contentGroup=a.g().attr({zIndex:1}).add(l),o.scrollGroup=a.g().add(o.contentGroup)),o.renderTitle(),e=[],ne(r.series,function(t){var i=t.options;p(i.showInLegend,i.linkedTo===G&&G,!0)&&(e=e.concat(t.legendItems||("point"===i.legendType?t.data:t)))}),S(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&e.reverse(),o.allItems=e,o.display=i=!!e.length,ne(e,function(t){o.renderItem(t)}),n=c.width||o.offsetWidth,s=o.lastItemY+o.lastLineHeight+o.titleHeight,s=o.handleOverflow(s),(u||f)&&(n+=d,s+=d,h?n>0&&s>0&&(h[h.isNew?"attr":"animate"](h.crisp(null,null,null,n,s)),h.isNew=!1):(o.box=h=a.rect(0,0,n,s,c.borderRadius,u||0).attr({stroke:c.borderColor,"stroke-width":u||0,fill:f||Ht}).add(l).shadow(c.shadow),h.isNew=!0),h[i?"show":"hide"]()),o.legendWidth=n,o.legendHeight=s,ne(e,function(t){o.positionItem(t)}),i&&l.align(t({width:n,height:s},c),!0,"spacingBox"),r.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e=this,i=this.chart,n=i.renderer,s=this.options,o=s.y,r=(o=i.spacingBox.height+("top"===s.verticalAlign?-o:o)-this.padding,s.maxHeight),a=this.clipRect,l=s.navigation,h=p(l.animation,!0),c=l.arrowSize||12,d=this.nav;return"horizontal"===s.layout&&(o/=2),r&&(o=yt(o,r)),t>o&&!s.useHTML?(this.clipHeight=i=o-20-this.titleHeight,this.pageCount=gt(t/i),this.currentPage=p(this.currentPage,1),this.fullHeight=t,a||(a=e.clipRect=n.clipRect(0,0,9999,0),e.contentGroup.clip(a)),a.attr({height:i}),d||(this.nav=d=n.g().attr({zIndex:1}).add(this.group),this.up=n.symbol("triangle",0,0,c,c).on("click",function(){e.scroll(-1,h)}).add(d),this.pager=n.text("",15,10).css(l.style).add(d),this.down=n.symbol("triangle-down",0,0,c,c).on("click",function(){e.scroll(1,h)}).add(d)),e.scroll(0),t=o):d&&(a.attr({height:i.chartHeight}),d.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pageCount,n=this.currentPage+t,s=this.clipHeight,o=(a=this.options.navigation).activeColor,r=a.inactiveColor,a=this.pager,l=this.padding;n>i&&(n=i),n>0&&(e!==G&&P(e,this.chart),this.nav.attr({translateX:l,translateY:s+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===n?r:o}).css({cursor:1===n?"default":"pointer"}),a.attr({text:n+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:n===i?r:o}).css({cursor:n===i?"default":"pointer"}),s=1-yt(s*(n-1),this.fullHeight-s+l),this.scrollGroup.animate({translateY:s}),a.attr({text:n+"/"+i}),this.currentPage=n,this.positionCheckboxes(s))}},/Trident\/7\.0/.test(Ct)&&b(z.prototype,"positionItem",function(t,e){var i=this,n=function(){t.call(i,e)};i.chart.renderer.forExport?n():setTimeout(n)}),U.prototype={init:function(t,i){var n,s=t.series;t.series=null,(n=e(V,t)).series=t.series=s,s=n.chart,this.margin=this.splashArray("margin",s),this.spacing=this.splashArray("spacing",s);var o=s.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=s.showAxes;var r,a=this;if(a.index=jt.length,jt.push(a),!1!==s.reflow&&ae(a,"load",function(){a.initReflow()}),o)for(r in o)ae(a,r,o[r]);a.xAxis=[],a.yAxis=[],a.animation=!It&&p(s.animation,!0),a.pointCount=0,a.counters=new T,a.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=Zt[t.type||e.type||e.defaultSeriesType])||L(17,!0),(e=new e).init(this,t),e},addSeries:function(t,e,i){var n,s=this;return t&&(e=p(e,!0),he(s,"addSeries",{options:t},function(){n=s.initSeries(t),s.isDirtyLegend=!0,s.linkSeries(),e&&s.redraw(i)})),n},addAxis:function(t,i,n,s){var o=i?"xAxis":"yAxis",r=this.options;new j(this,e(t,{index:this[o].length,isX:i})),r[o]=u(r[o]||{}),r[o].push(t),p(n,!0)&&this.redraw(s)},isInsidePlot:function(t,e,i){var n=i?e:t;t=i?t:e;return n>=0&&n<=this.plotWidth&&t>=0&&t<=this.plotHeight},adjustTickAmounts:function(){!1!==this.options.chart.alignTicks&&ne(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var i,n,s=this.axes,o=this.series,r=this.pointer,a=this.legend,l=this.isDirtyLegend,h=this.isDirtyBox,c=o.length,d=c,u=this.renderer,p=u.isHidden(),f=[];for(P(e,this),p&&this.cloneRenderTo(),this.layOutTitles();d--;)if((e=o[d]).options.stacking&&(i=!0,e.isDirty)){n=!0;break}if(n)for(d=c;d--;)(e=o[d]).options.stacking&&(e.isDirty=!0);ne(o,function(t){t.isDirty&&"point"===t.options.legendType&&(l=!0)}),l&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),i&&this.getStacks(),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,ne(s,function(t){t.setScale()})),this.adjustTickAmounts(),this.getMargins(),ne(s,function(t){t.isDirty&&(h=!0)}),ne(s,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,f.push(function(){he(e,"afterSetExtremes",t(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(h||i)&&e.redraw()})),h&&this.drawChartBox(),
ne(o,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),r&&r.reset&&r.reset(!0),u.draw(),he(this,"redraw"),p&&this.cloneRenderTo(!0),ne(f,function(t){t.call()})},showLoading:function(e){var i=this.options,n=this.loadingDiv,s=i.loading;n||(this.loadingDiv=n=m(Bt,{className:"highcharts-loading"},t(s.style,{zIndex:10,display:Ht}),this.container),this.loadingSpan=m("span",null,s.labelStyle,n)),this.loadingSpan.innerHTML=e||i.lang.loading,this.loadingShown||(f(n,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),de(n,{opacity:s.style.opacity},{duration:s.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&de(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){f(e,{display:Ht})}}),this.loadingShown=!1},get:function(t){var e,i,n=this.axes,s=this.series;for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(i=s[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t=this,e=(i=this.options).xAxis=u(i.xAxis||{}),i=i.yAxis=u(i.yAxis||{});ne(e,function(t,e){t.index=e,t.isX=!0}),ne(i,function(t,e){t.index=e}),e=e.concat(i),ne(e,function(e){new j(t,e)}),t.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return ne(this.series,function(e){t=t.concat(se(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return se(this.series,function(t){return t.selected})},getStacks:function(){var t=this;ne(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),ne(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+p(e.options.stack,""))})},showResetZoom:function(){var t=this,e=V.lang,i=t.options.chart.resetZoomButton,n=i.theme,s=n.states,o="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,s&&s.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,o)},zoomOut:function(){var t=this;he(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this.pointer,o=!1;!t||t.resetSelection?ne(this.axes,function(t){e=t.zoom()}):ne(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,s=i.isXAxis;(n[s?"zoomX":"zoomY"]||n[s?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(o=!0))}),i=this.resetZoomButton,o&&!i?this.showResetZoom():!o&&s(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(p(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,n=this,s=n.hoverPoints;s&&ne(s,function(t){t.setState()}),ne("xy"===e?[1,0]:[1],function(e){var s=t[e?"chartX":"chartY"],o=n[e?"xAxis":"yAxis"][0],r=n[e?"mouseDownX":"mouseDownY"],a=(o.pointRange||0)/2,l=o.getExtremes(),h=o.toValue(r-s,!0)+a;r=o.toValue(r+n[e?"plotWidth":"plotHeight"]-s,!0)-a;o.series.length&&h>yt(l.dataMin,l.min)&&r<vt(l.dataMax,l.max)&&(o.setExtremes(h,r,!1,!1,{trigger:"pan"}),i=!0),n[e?"mouseDownX":"mouseDownY"]=s}),i&&n.redraw(!1),f(n.container,{cursor:"move"})},setTitle:function(t,i){var n,s,o=this,r=o.options;s=r.title=e(r.title,t),n=r.subtitle=e(r.subtitle,i),ne([["title",t,s],["subtitle",i,r=n]],function(t){var e=t[0],i=o[e],n=t[1];t=t[2];i&&n&&(o[e]=i=i.destroy()),t&&t.text&&!i&&(o[e]=o.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),o.layOutTitles()},layOutTitles:function(){var e=0,i=this.title,n=this.subtitle,s=(o=this.options).title,o=o.subtitle,r=this.spacingBox.width-44;!i||(i.css({width:(s.width||r)+"px"}).align(t({y:15},s),!1,"spacingBox"),s.floating||s.verticalAlign)||(e=i.getBBox().height)>=18&&e<=25&&(e=15),n&&(n.css({width:(o.width||r)+"px"}).align(t({y:e+s.margin},o),!1,"spacingBox"),!o.floating&&!o.verticalAlign&&(e=gt(e+n.getBBox().height))),this.titleOffset=e},getChartSize:function(){var t=this.options.chart,e=this.renderToClone||this.renderTo;this.containerWidth=te(e,"width"),this.containerHeight=te(e,"height"),this.chartWidth=vt(0,t.width||this.containerWidth||600),this.chartHeight=vt(0,p(t.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),A(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),f(e,{position:"absolute",top:"-9999px",display:"block"}),dt.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,s,o,r,a=this.options.chart;this.renderTo=e=a.renderTo,r="highcharts-"+Ot++,n(e)&&(this.renderTo=e=dt.getElementById(e)),e||L(13,!0),s=i(d(e,"data-highcharts-chart")),!isNaN(s)&&jt[s]&&jt[s].destroy(),d(e,"data-highcharts-chart",this.index),e.innerHTML="",e.offsetWidth||this.cloneRenderTo(),this.getChartSize(),s=this.chartWidth,o=this.chartHeight,this.container=e=m(Bt,{className:"highcharts-container"+(a.className?" "+a.className:""),id:r},t({position:"relative",overflow:"hidden",width:s+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=a.forExport?new we(e,s,o,!0):new q(e,s,o),It&&this.renderer.create(this,e,s,o)},getMargins:function(){var t,e=this.spacing,i=this.legend,n=this.margin,s=this.options.legend,o=p(s.margin,10),r=s.x,a=s.y,l=s.align,h=s.verticalAlign,d=this.titleOffset;this.resetMargins(),t=this.axisOffset,d&&!c(n[0])&&(this.plotTop=vt(this.plotTop,d+this.options.title.margin+e[0])),i.display&&!s.floating&&("right"===l?c(n[1])||(this.marginRight=vt(this.marginRight,i.legendWidth-r+o+e[1])):"left"===l?c(n[3])||(this.plotLeft=vt(this.plotLeft,i.legendWidth+r+o+e[3])):"top"===h?c(n[0])||(this.plotTop=vt(this.plotTop,i.legendHeight+a+o+e[0])):"bottom"!==h||c(n[2])||(this.marginBottom=vt(this.marginBottom,i.legendHeight-a+o+e[2]))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&ne(this.axes,function(t){t.getOffset()}),c(n[3])||(this.plotLeft+=t[3]),c(n[0])||(this.plotTop+=t[0]),c(n[2])||(this.marginBottom+=t[2]),c(n[1])||(this.marginRight+=t[1]),this.setChartSize()},initReflow:function(){function t(t){var o=n.width||te(s,"width"),r=n.height||te(s,"height");t=t?t.target:ut;i.hasUserSize||!o||!r||t!==ut&&t!==dt||(o===i.containerWidth&&r===i.containerHeight||(clearTimeout(e),i.reflowTimeout=e=setTimeout(function(){i.container&&(i.setSize(o,r,!1),i.hasUserSize=null)},100)),i.containerWidth=o,i.containerHeight=r)}var e,i=this,n=i.options.chart,s=i.renderTo;i.reflow=t,ae(ut,"resize",t),ae(i,"destroy",function(){le(ut,"resize",t)})},setSize:function(t,e,i){var n,s,o,r=this;r.isResizing+=1,o=function(){r&&he(r,"endResize",null,function(){r.isResizing-=1})},P(i,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,c(t)&&(r.chartWidth=n=vt(0,ft(t)),r.hasUserSize=!!n),c(e)&&(r.chartHeight=s=vt(0,ft(e))),f(r.container,{width:n+"px",height:s+"px"}),r.setChartSize(!0),r.renderer.setSize(n,s,i),r.maxTicks=null,ne(r.axes,function(t){t.isDirty=!0,t.setScale()}),ne(r.series,function(t){t.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.getMargins(),r.redraw(i),r.oldChartHeight=null,he(r,"resize"),!1===X?o():setTimeout(o,X&&X.duration||500)},setChartSize:function(t){var e,i,n,s,o=this.inverted,r=this.renderer,a=this.chartWidth,l=this.chartHeight,h=this.options.chart,c=this.spacing,d=this.clipOffset;this.plotLeft=e=ft(this.plotLeft),this.plotTop=i=ft(this.plotTop),this.plotWidth=n=vt(0,ft(a-e-this.marginRight)),this.plotHeight=s=vt(0,ft(l-i-this.marginBottom)),this.plotSizeX=o?s:n,this.plotSizeY=o?n:s,this.plotBorderWidth=h.plotBorderWidth||0,this.spacingBox=r.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=r.plotBox={x:e,y:i,width:n,height:s},a=2*mt(this.plotBorderWidth/2),o=gt(vt(a,d[3])/2),r=gt(vt(a,d[0])/2),this.clipBox={x:o,y:r,width:mt(this.plotSizeX-vt(a,d[1])/2-o),height:mt(this.plotSizeY-vt(a,d[2])/2-r)},t||ne(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this.spacing,e=this.margin;this.plotTop=p(e[0],t[0]),this.marginRight=p(e[1],t[1]),this.marginBottom=p(e[2],t[2]),this.plotLeft=p(e[3],t[3]),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,n=this.chartWidth,s=this.chartHeight,o=this.chartBackground,r=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,h=e.borderWidth||0,c=e.backgroundColor,d=e.plotBackgroundColor,u=e.plotBackgroundImage,p=e.plotBorderWidth||0,f=this.plotLeft,m=this.plotTop,g=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,x=this.clipBox;t=h+(e.shadow?8:0),(h||c)&&(o?o.animate(o.crisp(null,null,null,n-t,s-t)):(o={fill:c||Ht},h&&(o.stroke=e.borderColor,o["stroke-width"]=h),this.chartBackground=i.rect(t/2,t/2,n-t,s-t,e.borderRadius,h).attr(o).add().shadow(e.shadow))),d&&(r?r.animate(y):this.plotBackground=i.rect(f,m,g,v,0).attr({fill:d}).add().shadow(e.plotShadow)),u&&(l?l.animate(y):this.plotBGImage=i.image(u,f,m,g,v).add()),b?b.animate({width:x.width,height:x.height}):this.clipRect=i.clipRect(x),p&&(a?a.animate(a.crisp(null,f,m,g,v)):this.plotBorder=i.rect(f,m,g,v,0,-p).attr({stroke:e.plotBorderColor,"stroke-width":p,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,s=n.options.chart,o=n.options.series;ne(["inverted","angular","polar"],function(r){for(t=Zt[s.type||s.defaultSeriesType],i=n[r]||s[r]||t&&t.prototype[r],e=o&&o.length;!i&&e--;)(t=Zt[o[e].type])&&t.prototype[r]&&(i=!0);n[r]=i})},linkSeries:function(){var t=this,e=t.series;ne(e,function(t){t.linkedSeries.length=0}),ne(e,function(e){var i=e.options.linkedTo;n(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i)})},render:function(){var e,n=this,s=n.axes,o=n.renderer,r=n.options,a=r.labels,l=r.credits;n.setTitle(),n.legend=new z(n,r.legend),n.getStacks(),ne(s,function(t){t.setScale()}),n.getMargins(),n.maxTicks=null,ne(s,function(t){t.setTickPositions(!0),t.setMaxTicks()}),n.adjustTickAmounts(),n.getMargins(),n.drawChartBox(),n.hasCartesianSeries&&ne(s,function(t){t.render()}),n.seriesGroup||(n.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),ne(n.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),a.items&&ne(a.items,function(e){var s=t(a.style,e.style),r=i(s.left)+n.plotLeft,l=i(s.top)+n.plotTop+12;delete s.left,delete s.top,o.text(e.html,r,l).attr({zIndex:2}).css(s).add()}),l.enabled&&!n.credits&&(e=l.href,n.credits=o.text(l.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),n.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,n=e.series,s=e.container,o=s&&s.parentNode;for(he(e,"destroy"),jt[e.index]=G,e.renderTo.removeAttribute("data-highcharts-chart"),le(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();for(t in ne("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),s&&(s.innerHTML="",le(s),o&&A(s)),e)delete e[t]},isReadyToRender:function(){var t=this;return!(!Et&&ut==ut.top&&"complete"!==dt.readyState||It&&!ut.canvg)||(It?xe.push(function(){t.firstRender()},t.options.global.canvasToolsURL):dt.attachEvent("onreadystatechange",function(){dt.detachEvent("onreadystatechange",t.firstRender),"complete"===dt.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),he(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),ne(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),he(t,"beforeRender"),t.pointer=new H(t,e),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),ne(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),he(t,"load"))},splashArray:function(t,e){var i=s(i=e[t])?i:[i,i,i,i];return[p(e[t+"Top"],i[0]),p(e[t+"Right"],i[1]),p(e[t+"Bottom"],i[2]),p(e[t+"Left"],i[3])]}},U.prototype.callbacks=[];var ke=function(){};ke.prototype={init:function(t,e,i){return this.series=t,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(e,i){var n=this.series,s=n.pointValKey;return t(this,e=ke.prototype.optionsToObject.call(this,e)),this.options=this.options?t(this.options,e):e,s&&(this.y=this[s]),this.x===G&&n&&(this.x=i===G?n.autoIncrement():i),this},optionsToObject:function(t){var e={},i=this.series,n=i.pointArrayMap||["y"],s=n.length,r=0,a=0;if("number"==typeof t||null===t)e[n[0]]=t;else if(o(t))for(t.length>s&&("string"===(i=typeof t[0])?e.name=t[0]:"number"===i&&(e.x=t[0]),r++);a<s;)e[n[a++]]=t[r++];else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;for(t in e.pointCount--,i&&(this.setState(),h(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(le(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),i=6;i--;)this[t=e[i]]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(t,e){var i=this,n=i.series,s=n.chart;t=p(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[ie(i,n.data)]=i.options,i.setState(t&&"select"),e||ne(s.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[ie(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series,i=e.chart,n=i.tooltip,s=i.hoverPoint;s&&s!==this&&s.onMouseOut(),this.firePointEvent("mouseOver"),n&&(!n.shared||e.noSharedTooltip)&&n.refresh(this,t),this.setState("hover"),i.hoverPoint=this},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&-1!==ie(this,e)||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=p(i.valueDecimals,""),s=i.valuePrefix||"",o=i.valueSuffix||"";return ne(e.pointArrayMap||["y"],function(e){e="{point."+e,(s||o)&&(t=t.replace(e+"}",s+e+"}"+o)),t=t.replace(e+"}",e+":,."+n+"f}")}),x(t,{point:this,series:this.series})},update:function(t,e,i){var n,o=this,r=o.series,a=o.graphic,l=r.data,h=r.chart,c=r.options;e=p(e,!0);o.firePointEvent("update",{options:t},function(){o.applyOptions(t),s(t)&&(r.getAttribs(),a)&&(t&&t.marker&&t.marker.symbol?o.graphic=a.destroy():a.attr(o.pointAttr[o.state||""])),n=ie(o,l),r.xData[n]=o.x,r.yData[n]=r.toYData?r.toYData(o):o.y,r.zData[n]=o.z,c.data[n]=o.options,r.isDirty=r.isDirtyData=!0,!r.fixedBox&&r.hasCartesianSeries&&(h.isDirtyBox=!0),"point"===c.legendType&&h.legend.destroyItem(o),e&&h.redraw(i)})},remove:function(t,e){var i,n=this,s=n.series,o=s.points,r=s.chart,a=s.data;P(e,r),t=p(t,!0),n.firePointEvent("remove",null,function(){i=ie(n,a),a.length===o.length&&o.splice(i,1),a.splice(i,1),s.options.data.splice(i,1),s.xData.splice(i,1),s.yData.splice(i,1),s.zData.splice(i,1),n.destroy(),s.isDirty=!0,s.isDirtyData=!0,t&&r.redraw()})},firePointEvent:function(t,e,i){var n=this,s=this.series.options;(s.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&s.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),he(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t,i=e(this.series.options.point,this.options).events;for(t in this.events=i,i)ae(this,t,i[t]);this.hasImportedEvents=!0}},setState:function(t){var i=this.plotX,n=this.plotY,s=this.series,o=s.options.states,r=pe[s.type].marker&&s.options.marker,a=r&&!r.enabled,l=r&&r.states[t],h=l&&!1===l.enabled,c=s.stateMarkerGraphic,d=this.marker||{},u=s.chart,p=this.pointAttr;(t=t||"")===this.state||this.selected&&"select"!==t||o[t]&&!1===o[t].enabled||t&&(h||a&&!l.enabled)||t&&d.states&&d.states[t]&&!1===d.states[t].enabled||(this.graphic?(o=r&&this.graphic.symbolName&&p[t].r,this.graphic.attr(e(p[t],o?{x:i-o,y:n-o,width:2*o,height:2*o}:{}))):(t&&l&&(o=l.radius,d=d.symbol||s.symbol,c&&c.currentSymbol!==d&&(c=c.destroy()),c?c.attr({x:i-o,y:n-o}):(s.stateMarkerGraphic=c=u.renderer.symbol(d,i-o,n-o,2*o,2*o).attr(p[t]).add(s.markerGroup),c.currentSymbol=d)),c&&c[t&&u.isInsidePlot(i,n)?"show":"hide"]()),this.state=t)}};var Ce=function(){};Ce.prototype={isCartesian:!0,type:"line",pointClass:ke,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(e,i){var n,s,o=e.series;for(n in this.chart=e,this.options=i=this.setOptions(i),this.linkedSeries=[],this.bindAxes(),t(this,{name:i.name,state:"",pointAttr:{},visible:!1!==i.visible,selected:!0===i.selected}),It&&(i.animation=!1),s=i.events)ae(this,n,s[n]);(s&&s.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.setData(i.data,!1),this.isCartesian&&(e.hasCartesianSeries=!0),o.push(this),this._i=o.length-1,S(o,function(t,e){return p(t.options.index,t._i)-p(e.options.index,t._i)}),ne(o,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;e.isCartesian&&ne(["xAxis","yAxis"],function(s){ne(n[s],function(n){t=n.options,(i[s]===t.index||i[s]!==G&&i[s]===t.id||i[s]===G&&0===t.index)&&(n.series.push(e),e[s]=n,n.isDirty=!0)}),e[s]||L(18,!0)})},autoIncrement:function(){var t=this.options,e=p(e=this.xIncrement,t.pointStart,0);return this.pointInterval=p(this.pointInterval,t.pointInterval,1),this.xIncrement=e+this.pointInterval,e},getSegments:function(){var t,e=-1,i=[],n=this.points,s=n.length;if(s)if(this.options.connectNulls){for(t=s;t--;)null===n[t].y&&n.splice(t,1);n.length&&(i=[n])}else ne(n,function(t,o){null===t.y?(o>e+1&&i.push(n.slice(e+1,o)),e=o):o===s-1&&i.push(n.slice(e+1,o+1))});this.segments=i},setOptions:function(t){var i=this.chart.options,n=i.plotOptions,s=n[this.type];return this.userOptions=t,t=e(s,n.series,t),this.tooltipOptions=e(i.tooltip,t.tooltip),null===s.marker&&delete t.marker,t},getColor:function(){var t,e=this.options,i=this.userOptions,n=this.chart.options.colors,s=this.chart.counters;(t=e.color||pe[this.type].color)||e.colorByPoint||(c(i._colorIndex)?e=i._colorIndex:(i._colorIndex=s.color,e=s.color++),t=n[e]),this.color=t,s.wrapColor(n.length)},getSymbol:function(){var t=this.userOptions,e=this.options.marker,i=(n=this.chart).options.symbols,n=n.counters;this.symbol=e.symbol,this.symbol||(c(t._symbolIndex)?t=t._symbolIndex:(t._symbolIndex=n.symbol,t=n.symbol++),this.symbol=i[t]),/^url/.test(this.symbol)&&(e.radius=0),n.wrapSymbol(i.length)},drawLegendSymbol:function(t){var e,i=this.options,n=i.marker,s=t.options;e=s.symbolWidth;var o=this.chart.renderer,r=this.legendGroup;t=t.baseline-ft(.3*o.fontMetrics(s.itemStyle.fontSize).b);i.lineWidth&&(s={"stroke-width":i.lineWidth},i.dashStyle&&(s.dashstyle=i.dashStyle),this.legendLine=o.path(["M",0,t,"L",e,t]).attr(s).add(r)),n&&n.enabled&&(i=n.radius,this.legendSymbol=e=o.symbol(this.symbol,e/2-i,t-i,2*i,2*i).add(r),e.isMarker=!0)},addPoint:function(t,e,i,n){var s,o=this.options,r=this.data,a=this.graph,l=this.area,h=this.chart,c=this.xData,d=this.yData,u=this.zData,f=this.xAxis&&this.xAxis.names,m=a&&a.shift||0,g=o.data;if(P(n,h),i&&ne([a,l,this.graphNeg,this.areaNeg],function(t){t&&(t.shift=m+1)}),l&&(l.isArea=!0),e=p(e,!0),n={series:this},this.pointClass.prototype.applyOptions.apply(n,[t]),a=n.x,l=c.length,this.requireSorting&&a<c[l-1])for(s=!0;l&&c[l-1]>a;)l--;c.splice(l,0,a),d.splice(l,0,this.toYData?this.toYData(n):n.y),u.splice(l,0,n.z),f&&(f[a]=n.name),g.splice(l,0,t),s&&(this.data.splice(l,0,null),this.processData()),"point"===o.legendType&&this.generatePoints(),i&&(r[0]&&r[0].remove?r[0].remove(!1):(r.shift(),c.shift(),d.shift(),u.shift(),g.shift())),this.isDirtyData=this.isDirty=!0,e&&(this.getAttribs(),h.redraw())},setData:function(t,e){var i,s=this.points,a=this.options,l=this.chart,h=null,c=this.xAxis,d=c&&c.names;this.xIncrement=null,this.pointRange=c&&c.categories?1:a.pointRange,this.colorCounter=0;var u=[],f=[],m=[],g=t?t.length:[];i=p(a.turboThreshold,1e3);var v=(v=this.pointArrayMap)&&v.length,y=!!this.toYData;if(i&&g>i){for(i=0;null===h&&i<g;)h=t[i],i++;if(r(h)){for(d=p(a.pointStart,0),a=p(a.pointInterval,1),i=0;i<g;i++)u[i]=d,f[i]=t[i],d+=a;this.xIncrement=d}else if(o(h))if(v)for(i=0;i<g;i++)a=t[i],u[i]=a[0],f[i]=a.slice(1,v+1);else for(i=0;i<g;i++)a=t[i],u[i]=a[0],f[i]=a[1];else L(12)}else for(i=0;i<g;i++)t[i]!==G&&(a={series:this},this.pointClass.prototype.applyOptions.apply(a,[t[i]]),u[i]=a.x,f[i]=y?this.toYData(a):a.y,m[i]=a.z,d&&a.name)&&(d[a.x]=a.name);for(n(f[0])&&L(14,!0),this.data=[],this.options.data=t,this.xData=u,this.yData=f,this.zData=m,i=s&&s.length||0;i--;)s[i]&&s[i].destroy&&s[i].destroy();c&&(c.minRange=c.userMinRange),this.isDirty=this.isDirtyData=l.isDirtyBox=!0,p(e,!0)&&l.redraw(!1)},remove:function(t,e){var i=this,n=i.chart;t=p(t,!0);i.isRemoving||(i.isRemoving=!0,he(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),t&&n.redraw(e)})),i.isRemoving=!1},processData:function(t){var e,i=this.xData,n=this.yData,s=i.length;e=0;var o,r,a=this.xAxis,l=this.options,h=l.cropThreshold,c=this.isCartesian;if(c&&!this.isDirty&&!a.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(c&&this.sorted&&(!h||s>h||this.forceCrop)&&(t=a.min,a=a.max,i[s-1]<t||i[0]>a?(i=[],n=[]):(i[0]<t||i[s-1]>a)&&(i=(e=this.cropData(this.xData,this.yData,t,a)).xData,n=e.yData,e=e.start,o=!0)),a=i.length-1;a>=0;a--)(s=i[a]-i[a-1])>0&&(r===G||s<r)?r=s:s<0&&this.requireSorting&&L(15);this.cropped=o,this.cropStart=e,this.processedXData=i,this.processedYData=n,null===l.pointRange&&(this.pointRange=r||1),this.closestPointRange=r},cropData:function(t,e,i,n){var s,o=t.length,r=0,a=o,l=p(this.cropShoulder,1);for(s=0;s<o;s++)if(t[s]>=i){r=vt(0,s-l);break}for(;s<o;s++)if(t[s]>n){a=s+l;break}return{xData:t.slice(r,a),yData:e.slice(r,a),start:r,end:a}},generatePoints:function(){var t,e,i,n,s=this.options.data,o=this.data,r=this.processedXData,a=this.processedYData,l=this.pointClass,h=r.length,c=this.cropStart||0,d=this.hasGroupedData,p=[];for(o||d||((o=[]).length=s.length,o=this.data=o),n=0;n<h;n++)e=c+n,d?p[n]=(new l).init(this,[r[n]].concat(u(a[n]))):(o[e]?i=o[e]:s[e]!==G&&(o[e]=i=(new l).init(this,s[e],r[n])),p[n]=i);if(o&&(h!==(t=o.length)||d))for(n=0;n<t;n++)n===c&&!d&&(n+=h),o[n]&&(o[n].destroyElements(),o[n].plotX=G);this.data=o,this.points=p},setStackedPoints:function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,e,i,n,s,o=this.processedXData,r=this.processedYData,a=[],l=r.length,h=(d=this.options).threshold,c=d.stack,d=d.stacking,u=this.stackKey,p="-"+u,f=this.negStacks,m=this.yAxis,g=m.stacks,v=m.oldStacks;for(i=0;i<l;i++)n=o[i],s=r[i],g[e=(t=f&&s<h)?p:u]||(g[e]={}),g[e][n]||(v[e]&&v[e][n]?(g[e][n]=v[e][n],g[e][n].total=null):g[e][n]=new R(m,m.options.stackLabels,t,n,c,d)),(e=g[e][n]).points[this.index]=[e.cum||0],"percent"===d?(t=t?u:p,f&&g[t]&&g[t][n]?(t=g[t][n],e.total=t.total=vt(t.total,e.total)+bt(s)||0):e.total+=bt(s)||0):e.total+=s||0,e.cum=(e.cum||0)+(s||0),e.points[this.index].push(e.cum),a[i]=e.cum;"percent"===d&&(m.usePercentage=!0),this.stackedYData=a,m.oldStacks={}}},setPercentStacks:function(){var t=this,e=t.stackKey,i=t.yAxis.stacks;ne([e,"-"+e],function(e){for(var n,s,o=t.xData.length;o--;)n=t.xData[o],(n=(s=i[e]&&i[e][n])&&s.points[t.index])&&(s=s.total?100/s.total:0,n[0]=E(n[0]*s),n[1]=E(n[1]*s),t.stackedYData[o]=n[1])})},getExtremes:function(){var t,e,i,n,s=this.yAxis,o=this.processedXData,r=this.stackedYData||this.processedYData,a=r.length,l=[],h=0,c=(d=this.xAxis.getExtremes()).min,d=d.max;for(n=0;n<a;n++)if(e=o[n],t=null!==(i=r[n])&&i!==G&&(!s.isLog||i.length||i>0),e=this.getExtremesFromAll||this.cropped||(o[n+1]||e)>=c&&(o[n-1]||e)<=d,t&&e)if(t=i.length)for(;t--;)null!==i[t]&&(l[h++]=i[t]);else l[h++]=i;this.dataMin=p(void 0,D(l)),this.dataMax=p(void 0,$(l))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t=(u=this.options).stacking,e=this.xAxis,i=e.categories,n=this.yAxis,s=this.points,o=s.length,a=!!this.modifyValue,l=u.pointPlacement,h="between"===l||r(l),d=u.threshold,u=0;u<o;u++){var f=s[u],m=f.x,g=f.y,v=f.low,y=n.stacks[(this.negStacks&&g<d?"-":"")+this.stackKey];n.isLog&&g<=0&&(f.y=g=null),f.plotX=e.translate(m,0,0,0,1,l,"flags"===this.type),t&&this.visible&&y&&y[m]&&(v=(g=(y=y[m]).points[this.index])[0],g=g[1],0===v&&(v=p(d,n.min)),n.isLog&&v<=0&&(v=null),f.total=f.stackTotal=y.total,f.percentage="percent"===t&&f.y/y.total*100,f.stackY=g,y.setOffset(this.pointXOffset||0,this.barW||0)),f.yBottom=c(v)?n.translate(v,0,1,0,1):null,a&&(g=this.modifyValue(g,f)),f.plotY="number"==typeof g&&g!==Infinity?n.translate(g,0,1,0,1):G,f.clientX=h?e.translate(m,0,0,0,1):f.plotX,f.negative=f.y<(d||0),f.category=i&&i[f.x]!==G?i[f.x]:f.x}this.getSegments()},setTooltipPoints:function(t){var e,i,n,s,o=[],r=this.xAxis,a=r&&r.getExtremes(),l=r?r.tooltipLen||r.len:this.chart.plotSizeX,h=[];if(!1!==this.options.enableMouseTracking){for(t&&(this.tooltipPoints=null),ne(this.segments||this.points,function(t){o=o.concat(t)}),r&&r.reversed&&(o=o.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(o),t=o.length,s=0;s<t;s++)if((e=(r=o[s]).x)>=a.min&&e<=a.max)for(n=o[s+1],e=i===G?0:i+1,i=o[s+1]?yt(vt(0,mt((r.clientX+(n?n.wrappedClientX||n.clientX:l))/2)),l):l;e>=0&&e<=i;)h[e++]=r;this.tooltipPoints=h}},tooltipHeaderFormatter:function(t){var e,i=(o=this.tooltipOptions).xDateFormat,n=o.dateTimeLabelFormats,s=(a=this.xAxis)&&"datetime"===a.options.type,o=o.headerFormat,a=a&&a.closestPointRange;if(s&&!i)if(a){for(e in Q)if(Q[e]>=a){i=n[e];break}}else i=n.day;return s&&i&&r(t.key)&&(o=o.replace("{point.key}","{point.key:"+i+"}")),x(o,{point:t,series:this})},onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&he(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;n&&n.onMouseOut(),this&&t.events.mouseOut&&he(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState(),e.hoverSeries=null},animate:function(e){var i,n=this,o=n.chart,r=o.renderer;i=n.options.animation;var a,l=o.clipBox,h=o.inverted;i&&!s(i)&&(i=pe[n.type].animation),a="_sharedClip"+i.duration+i.easing,e?(e=o[a],i=o[a+"m"],e||(o[a]=e=r.clipRect(t(l,{width:0})),o[a+"m"]=i=r.clipRect(-99,h?-o.plotLeft:-o.plotTop,99,h?o.chartWidth:o.chartHeight)),n.group.clip(e),n.markerGroup.clip(i),n.sharedClipKey=a):((e=o[a])&&(e.animate({width:o.plotSizeX},i),o[a+"m"].animate({width:o.plotSizeX+99},i)),n.animate=null,n.animationTimeout=setTimeout(function(){n.afterAnimate()},i.duration))},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group;i&&!1!==this.options.clip&&(i.clip(t.clipRect),this.markerGroup.clip()),setTimeout(function(){e&&t[e]&&(t[e]=t[e].destroy(),t[e+"m"]=t[e+"m"].destroy())},100)},drawPoints:function(){var e,i,n,s,o,r,a,l,h,c,d=this.points,u=this.chart,f=this.options.marker,m=this.markerGroup;if(f.enabled||this._hasPointMarkers)for(s=d.length;s--;)o=d[s],i=mt(o.plotX),n=o.plotY,h=o.graphic,a=o.marker||{},e=f.enabled&&a.enabled===G||a.enabled,c=u.isInsidePlot(ft(i),n,u.inverted),e&&n!==G&&!isNaN(n)&&null!==o.y?(r=(e=o.pointAttr[o.selected?"select":""]).r,l=0===(a=p(a.symbol,this.symbol)).indexOf("url"),h?h.attr({visibility:c?Et?"inherit":"visible":"hidden"}).animate(t({x:i-r,y:n-r},h.symbolName?{width:2*r,height:2*r}:{})):c&&(r>0||l)&&(o.graphic=u.renderer.symbol(a,i-r,n-r,2*r,2*r).attr(e).add(m))):h&&(o.graphic=h.destroy())},convertAttribs:function(t,e,i,n){var s,o,r=this.pointAttrToOptions,a={};t=t||{},e=e||{},i=i||{},n=n||{};for(s in r)o=r[s],a[s]=p(t[o],e[s],i[s],n[s]);return a},getAttribs:function(){var e,i,n,s=this,o=s.options,r=pe[s.type].marker?o.marker:o,a=r.states,l=a.hover,h=s.color,d={stroke:h,fill:h},u=s.points||[],p=[],f=s.pointAttrToOptions,m=o.negativeColor,g=r.lineColor;for(o.marker?(l.radius=l.radius||r.radius+2,l.lineWidth=l.lineWidth||r.lineWidth+1):l.color=l.color||ye(l.color||h).brighten(l.brightness).get(),p[""]=s.convertAttribs(r,d),ne(["hover","select"],function(t){p[t]=s.convertAttribs(a[t],p[""])}),s.pointAttr=p,h=u.length;h--;){if((r=(d=u[h]).options&&d.options.marker||d.options)&&!1===r.enabled&&(r.radius=0),d.negative&&m&&(d.color=d.fillColor=m),e=o.colorByPoint||d.color,d.options)for(n in f)c(r[f[n]])&&(e=!0);e?(i=[],e=(a=(r=r||{}).states||{}).hover=a.hover||{},o.marker||(e.color=ye(e.color||d.color).brighten(e.brightness||l.brightness).get()),i[""]=s.convertAttribs(t({color:d.color,fillColor:d.color,lineColor:null===g?d.color:G},r),p[""]),i.hover=s.convertAttribs(a.hover,p.hover,i[""]),i.select=s.convertAttribs(a.select,p.select,i[""])):i=p,d.pointAttr=i}},update:function(i,n){var s,o=this.chart,r=this.type,a=Zt[r].prototype;i=e(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i);for(s in this.remove(!1),a)a.hasOwnProperty(s)&&(this[s]=G);t(this,Zt[i.type||r].prototype),this.init(o,i),p(n,!0)&&o.redraw(!1)},destroy:function(){var t,e,i,n,s,o=this,r=o.chart,a=/AppleWebKit\/533/.test(Ct),l=o.data||[];for(he(o,"destroy"),le(o),ne(["xAxis","yAxis"],function(t){(s=o[t])&&(h(s.series,o),s.isDirty=s.forceRedraw=!0,s.stacks={})}),o.legendItem&&o.chart.legend.destroyItem(o),e=l.length;e--;)(i=l[e])&&i.destroy&&i.destroy();for(n in o.points=null,clearTimeout(o.animationTimeout),ne("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(e){o[e]&&(t=a&&"group"===e?"hide":"destroy",o[e][t]())}),r.hoverSeries===o&&(r.hoverSeries=null),h(r.series,o),o)delete o[n]},drawDataLabels:function(){var i,n,s,o,r=this,a=(h=r.options).cursor,l=h.dataLabels,h=r.points;(l.enabled||r._hasPointLabels)&&(r.dlProcessOptions&&r.dlProcessOptions(l),o=r.plotGroup("dataLabelsGroup","data-labels",r.visible?"visible":"hidden",l.zIndex||6),n=l,ne(h,function(h){var d,u,f,m=h.dataLabel,g=h.connector,v=!0;if(d=p((i=h.options&&h.options.dataLabels)&&i.enabled,n.enabled),m&&!d)h.dataLabel=m.destroy();else if(d){if(d=(l=e(n,i)).rotation,u=h.getLabelConfig(),s=l.format?x(l.format,u):l.formatter.call(u,l),l.style.color=p(l.color,l.style.color,r.color,"black"),m)c(s)?(m.attr({text:s}),v=!1):(h.dataLabel=m=m.destroy(),g&&(h.connector=g.destroy()));else if(c(s)){for(f in m={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:d,padding:l.padding,zIndex:1})m[f]===G&&delete m[f];m=h.dataLabel=r.chart.renderer[d?"text":"label"](s,0,-999,null,null,null,l.useHTML).attr(m).css(t(l.style,a&&{cursor:a})).add(o).shadow(l.shadow)}m&&r.alignDataLabel(h,m,l,null,v)}}))},alignDataLabel:function(e,i,n,s,o){var r=this.chart,a=r.inverted,l=p(e.plotX,-999),h=p(e.plotY,-999),c=i.getBBox();(e=this.visible&&r.isInsidePlot(e.plotX,e.plotY,a))&&(s=t({x:a?r.plotWidth-h:l,y:ft(a?r.plotHeight-l:h),width:0,height:0},s),t(n,{width:c.width,height:c.height}),n.rotation?(a={align:n.align,x:s.x+n.x+s.width/2,y:s.y+n.y+s.height/2},i[o?"attr":"animate"](a)):(i.align(n,null,s),a=i.alignAttr,"justify"===p(n.overflow,"justify")?this.justifyDataLabel(i,n,a,c,s,o):p(n.crop,!0)&&(e=r.isInsidePlot(a.x,a.y)&&r.isInsidePlot(a.x+c.width,a.y+c.height)))),e||i.attr({y:-999})},justifyDataLabel:function(t,e,i,n,s,o){var r,a,l=this.chart,h=e.align,c=e.verticalAlign;(r=i.x)<0&&("right"===h?e.align="left":e.x=-r,a=!0),(r=i.x+n.width)>l.plotWidth&&("left"===h?e.align="right":e.x=l.plotWidth-r,a=!0),(r=i.y)<0&&("bottom"===c?e.verticalAlign="top":e.y=-r,a=!0),(r=i.y+n.height)>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-r,a=!0),
a&&(t.placed=!o,t.align(e,null,s))},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return ne(t,function(s,o){var r,a=s.plotX,l=s.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,s,o)):(i.push(o?"L":"M"),n&&o&&(r=t[o-1],"right"===n?i.push(r.plotX,l):"center"===n?i.push((r.plotX+a)/2,r.plotY,(r.plotX+a)/2,l):i.push(a,r.plotY)),i.push(s.plotX,s.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return ne(e.segments,function(s){t=e.getSegmentPath(s),s.length>1?i=i.concat(t):n.push(s[0])}),e.singlePoints=n,e.graphPath=i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color]],n=e.lineWidth,s=e.dashStyle,o="square"!==e.linecap,r=this.getGraphPath(),a=e.negativeColor;a&&i.push(["graphNeg",a]),ne(i,function(i,a){var l=i[0],h=t[l];h?(ue(h),h.animate({d:r})):n&&r.length&&(h={stroke:i[1],"stroke-width":n,zIndex:1},s?h.dashstyle=s:o&&(h["stroke-linecap"]=h["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(r).attr(h).add(t.group).shadow(!a&&e.shadow))})},clipNeg:function(){var t,e=this.options,i=this.chart,n=i.renderer,s=e.negativeColor||e.negativeFillColor,o=this.graph,r=this.area,a=this.posClip,l=this.negClip;t=i.chartWidth;var h=i.chartHeight,c=vt(t,h),d=this.yAxis;s&&(o||r)&&(e={x:0,y:0,width:c,height:s=ft(d.toPixels(e.threshold||0,!0))},c={x:0,y:s,width:c,height:c},i.inverted&&(e.height=c.y=i.plotWidth-s,n.isVML&&(e={x:i.plotWidth-s-i.plotLeft,y:0,width:t,height:h},c={x:s+i.plotLeft-t,y:0,width:i.plotLeft+s,height:t})),d.reversed?(i=c,t=e):(i=e,t=c),a?(a.animate(i),l.animate(t)):(this.posClip=a=n.clipRect(i),this.negClip=l=n.clipRect(t),o&&this.graphNeg&&(o.clip(a),this.graphNeg.clip(l)),r&&(r.clip(a),this.areaNeg.clip(l))))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};ne(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(ae(i,"resize",t),ae(e,"destroy",function(){le(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,s){var o=this[t],r=!o;return r&&(this[t]=o=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(s)),o[r?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this.chart,i=this.options,n=i.animation&&!!this.animate&&e.renderer.isSVG,s=this.visible?"visible":"hidden",o=i.zIndex,r=this.hasRendered,a=e.seriesGroup;t=this.plotGroup("group","series",s,o,a),this.markerGroup=this.plotGroup("markerGroup","markers",s,o,a),n&&this.animate(!0),this.getAttribs(),t.inverted=!!this.isCartesian&&e.inverted,this.drawGraph&&(this.drawGraph(),this.clipNeg()),this.drawDataLabels(),this.drawPoints(),!1!==this.options.enableMouseTracking&&this.drawTracker(),e.inverted&&this.invertGroups(),!1!==i.clip&&!this.sharedClipKey&&!r&&t.clip(e.clipRect),n?this.animate():r||this.afterAnimate(),this.isDirty=this.isDirtyData=!1,this.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,i=this.group,n=this.xAxis,s=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:p(n&&n.left,t.plotLeft),translateY:p(s&&s.top,t.plotTop)})),this.translate(),this.setTooltipPoints(!0),this.render(),e&&he(this,"updatedData")},setState:function(t){var e=this.options,i=this.graph,n=this.graphNeg,s=e.states;e=e.lineWidth,t=t||"";this.state!==t&&(this.state=t,s[t]&&!1===s[t].enabled||(t&&(e=s[t].lineWidth||e+1),i&&!i.dashstyle&&(t={"stroke-width":e},i.attr(t),n&&n.attr(t))))},setVisible:function(t,e){var i,n=this,s=n.chart,o=n.legendItem,r=s.options.chart.ignoreHiddenSeries,a=n.visible;i=(n.visible=t=n.userOptions.visible=t===G?!a:t)?"show":"hide",ne(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),s.hoverSeries===n&&n.onMouseOut(),o&&s.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&ne(s.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),ne(n.linkedSeries,function(e){e.setVisible(t,!1)}),r&&(s.isDirtyBox=!0),!1!==e&&s.redraw(),he(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===G?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),he(this,t?"select":"unselect")},drawTracker:function(){var t,e=this,i=e.options,n=i.trackByArea,s=[].concat(n?e.areaPath:e.graphPath),o=s.length,r=e.chart,a=r.pointer,l=r.renderer,h=r.options.tooltip.snap,c=e.tracker,d=(u=i.cursor)&&{cursor:u},u=e.singlePoints,p=function(){r.hoverSeries!==e&&e.onMouseOver()};if(o&&!n)for(t=o+1;t--;)"M"===s[t]&&s.splice(t+1,0,s[t+1]-h,s[t+2],"L"),(t&&"M"===s[t]||t===o)&&s.splice(t,0,"L",s[t-2]+h,s[t-1]);for(t=0;t<u.length;t++)o=u[t],s.push("M",o.plotX-h,o.plotY,"L",o.plotX+h,o.plotY);c?c.attr({d:s}):(e.tracker=l.path(s).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:zt,fill:n?zt:Ht,"stroke-width":i.lineWidth+(n?0:2*h),zIndex:2}).add(e.group),ne([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}).css(d),Nt&&t.on("touchstart",p)}))}},Jt=g(Ce),Zt.line=Jt,pe.area=e(fe,{threshold:0}),Jt=g(Ce,{type:"area",getSegments:function(){var t,e,i,n,s,o=[],r=[],a=[],l=this.xAxis,h=this.yAxis,c=h.stacks[this.stackKey],d={},u=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<u.length;n++)d[u[n].x]=u[n];for(s in c)null!==c[s].total&&a.push(+s);a.sort(function(t,e){return t-e}),ne(a,function(n){(!p||d[n]&&null!==d[n].y)&&(d[n]?r.push(d[n]):(t=l.translate(n),i=c[n].percent?c[n].total?100*c[n].cum/c[n].total:0:c[n].cum,e=h.toPixels(i,!0),r.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:Rt})))}),r.length&&o.push(r)}else Ce.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(t){var e,i=Ce.prototype.getSegmentPath.call(this,t),n=[].concat(i),s=this.options;e=i.length;var o,r=this.yAxis.getThreshold(s.threshold);if(3===e&&n.push("L",i[1],i[2]),s.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)o=p(t[e].yBottom,r),e<t.length-1&&s.step&&n.push(t[e+1].plotX,o),n.push(t[e].plotX,o);else this.closeSegment(n,t,r);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(t,e,i){t.push("L",e[e.length-1].plotX,i,"L",e[0].plotX,i)},drawGraph:function(){this.areaPath=[],Ce.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=i.negativeColor,s=i.negativeFillColor,o=[["area",this.color,i.fillColor]];(n||s)&&o.push(["areaNeg",n,s]),ne(o,function(n){var s=n[0],o=t[s];o?o.animate({d:e}):t[s]=t.chart.renderer.path(e).attr({fill:p(n[2],ye(n[1]).setOpacity(p(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:function(t,e){e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,t.options.symbolWidth,12,2).attr({zIndex:3}).add(e.legendGroup)}}),Zt.area=Jt,pe.spline=e(fe),be=g(Ce,{type:"spline",getPointSpline:function(t,e,i){var n,s,o,r,a,l=e.plotX,h=e.plotY,c=t[i-1],d=t[i+1];c&&d&&(t=c.plotY,o=d.plotX,r=(1.5*h+(d=d.plotY))/2.5,r+=a=(r-(s=(1.5*h+t)/2.5))*((o=(1.5*l+o)/2.5)-l)/(o-(n=(1.5*l+c.plotX)/2.5))+h-r,(s+=a)>t&&s>h?r=2*h-(s=vt(t,h)):s<t&&s<h&&(r=2*h-(s=yt(t,h))),r>d&&r>h?s=2*h-(r=vt(d,h)):r<d&&r<h&&(s=2*h-(r=yt(d,h))),e.rightContX=o,e.rightContY=r);return i?(e=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,n||l,s||h,l,h],c.rightContX=c.rightContY=null):e=["M",l,h],e}}),Zt.spline=be,pe.areaspline=e(pe.area),be=g(be,{type:"areaspline",closedStacks:!0,getSegmentPath:(_e=Jt.prototype).getSegmentPath,closeSegment:_e.closeSegment,drawGraph:_e.drawGraph,drawLegendSymbol:_e.drawLegendSymbol}),Zt.areaspline=be,pe.column=e(fe,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0}),be=g(Ce,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Ce.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&ne(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,n=i.options,s=i.xAxis,o=i.yAxis,r=s.reversed,a={},l=0;!1===n.grouping?l=1:ne(i.chart.series,function(n){var s=n.options,r=n.yAxis;n.type===i.type&&n.visible&&o.len===r.len&&o.pos===r.pos&&(s.stacking?(t=n.stackKey,a[t]===G&&(a[t]=l++),e=a[t]):!1!==s.grouping&&(e=l++),n.columnIndex=e)});var h=(s=yt(bt(s.transA)*(s.ordinalSlope||n.pointRange||s.closestPointRange||1),s.len))*n.groupPadding,d=(s-2*h)/l,u=p(u=n.pointWidth,d-2*(n=c(u)?(d-u)/2:d*n.pointPadding));return i.columnMetrics={width:u,offset:n+(h+((r?l-(i.columnIndex||0):i.columnIndex)||0)*d-s/2)*(r?-1:1)}},translate:function(){var t,e=this.chart,i=(t=this.options).borderWidth,n=this.yAxis,s=this.translatedThreshold=n.getThreshold(t.threshold),o=p(t.minPointLength,5),r=(t=this.getColumnMetrics()).width,a=this.barW=gt(vt(r,1+2*i)),l=this.pointXOffset=t.offset,h=-(i%2?.5:0),c=i%2?.5:1;e.renderer.isVML&&e.inverted&&(c+=1),Ce.prototype.translate.apply(this),ne(this.points,function(t){var e,i=p(t.yBottom,s),d=yt(vt(-999-i,t.plotY),n.len+999+i),u=t.plotX+l,f=a,m=yt(d,i);d=vt(d,i)-m;bt(d)<o&&o&&(d=o,m=ft(bt(m-s)>o?i-o:s-(n.translate(t.y,0,1,0,1)<=s?o:0))),t.barX=u,t.pointWidth=r,i=bt(u)<.5,f=ft(u+f)+h,f-=u=ft(u)+h,e=bt(m)<.5,d=ft(m+d)+c,d-=m=ft(m)+c,i&&(u+=1,f-=1),e&&(m-=1,d+=1),t.shapeType="rect",t.shapeArgs={x:u,y:m,width:f,height:d}})},getSymbol:Rt,drawLegendSymbol:Jt.prototype.drawLegendSymbol,drawGraph:Rt,drawPoints:function(){var t,i=this,n=i.options,s=i.chart.renderer;ne(i.points,function(o){var r=o.plotY,a=o.graphic;r===G||isNaN(r)||null===o.y?a&&(o.graphic=a.destroy()):(t=o.shapeArgs,a?(ue(a),a.animate(e(t))):o.graphic=s[o.shapeType](t).attr(o.pointAttr[o.selected?"select":""]).add(i.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius))})},drawTracker:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,s=n&&{cursor:n},o=function(i){var n,s=i.target;for(e.hoverSeries!==t&&t.onMouseOver();s&&!n;)n=s.point,s=s.parentNode;n!==G&&n!==e.hoverPoint&&n.onMouseOver(i)};ne(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(ne(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(s),Nt)&&t[e].on("touchstart",o)}),t._hasTracking=!0)},alignDataLabel:function(t,i,n,s,o){var r=this.chart,a=r.inverted,l=t.dlBox||t.shapeArgs,h=t.below||t.plotY>p(this.translatedThreshold,r.plotSizeY),c=p(n.inside,!!this.options.stacking);l&&(s=e(l),a&&(s={x:r.plotWidth-s.y-s.height,y:r.plotHeight-s.x-s.width,width:s.height,height:s.width}),!c)&&(a?(s.x+=h?0:s.width,s.width=0):(s.y+=h?s.height:0,s.height=0)),n.align=p(n.align,!a||c?"center":h?"right":"left"),n.verticalAlign=p(n.verticalAlign,a||c?"middle":h?"top":"bottom"),Ce.prototype.alignDataLabel.call(this,t,i,n,s,o)},animate:function(t){var e=this.yAxis,i=this.options,n=this.chart.inverted,s={};Et&&(t?(s.scaleY=.001,t=yt(e.pos+e.len,vt(e.pos,e.toPixels(i.threshold))),n?s.translateX=t-e.len:s.translateY=t,this.group.attr(s)):(s.scaleY=1,s[n?"translateX":"translateY"]=e.pos,this.group.animate(s,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&ne(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Ce.prototype.remove.apply(t,arguments)}}),Zt.column=be,pe.bar=e(pe.column),_e=g(be,{type:"bar",inverted:!0}),Zt.bar=_e,pe.scatter=e(fe,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1}),_e=g(Ce,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,drawTracker:be.prototype.drawTracker,setTooltipPoints:Rt}),Zt.scatter=_e,pe.pie=e(fe,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),fe={type:"pie",isCartesian:!1,pointClass:g(ke,{init:function(){ke.prototype.init.apply(this,arguments);var e,i=this;return i.y<0&&(i.y=null),t(i,{visible:!1!==i.visible,name:p(i.name,"Slice")}),ae(i,"select",e=function(t){i.slice("select"===t.type)}),ae(i,"unselect",e),i},setVisible:function(t){var e,i=this,n=i.series,s=n.chart;i.visible=i.options.visible=t=t===G?!i.visible:t,n.options.data[ie(i,n.data)]=i.options,e=t?"show":"hide",ne(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e]()}),i.legendItem&&s.legend.colorizeItem(i,t),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,s.redraw())},slice:function(t,e,i){var n=this.series;P(i,n.chart),p(e,!0),this.sliced=this.options.sliced=t=c(t)?t:!this.sliced,n.options.data[ie(this,n.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:Rt,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(ne(i,function(t){var i=t.graphic;t=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:n,end:n}),i.animate({r:t.r,start:t.start,end:t.end},e.options.animation))}),e.animate=null)},setData:function(t,e){Ce.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),p(e,!0)&&this.chart.redraw()},generatePoints:function(){var t,e,i,n,s=0,o=this.options.ignoreHiddenPoint;for(Ce.prototype.generatePoints.call(this),i=(e=this.points).length,t=0;t<i;t++)n=e[t],s+=o&&!n.visible?0:n.y;for(this.total=s,t=0;t<i;t++)(n=e[t]).percentage=s>0?n.y/s*100:0,n.total=s},getCenter:function(){var t,e,n=this.options,s=this.chart,o=2*(n.slicedOffset||0),r=s.plotWidth-2*o,a=s.plotHeight-2*o,l=(n=[p((s=n.center)[0],"50%"),p(s[1],"50%"),n.size||"100%",n.innerSize||0],yt(r,a));return re(n,function(n,s){return e=/%$/.test(n),t=s<2||2===s&&e,(e?[r,a,l,l][s]*i(n)/100:n)+(t?o:0)})},translate:function(t){this.generatePoints();var e,i,n,s,o,r=0,a=(p=this.options).slicedOffset,l=a+p.borderWidth,h=p.startAngle||0,c=this.startAngleRad=_t/180*(h-90),d=(h=(this.endAngleRad=_t/180*((p.endAngle||h+360)-90))-c,this.points),u=p.dataLabels.distance,p=p.ignoreHiddenPoint,f=d.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return n=pt.asin((e-t[1])/(t[2]/2+u)),t[0]+(i?-1:1)*xt(n)*(t[2]/2+u)},s=0;s<f;s++)o=d[s],e=c+r*h,p&&!o.visible||(r+=o.percentage/100),i=c+r*h,o.shapeType="arc",o.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:ft(1e3*e)/1e3,end:ft(1e3*i)/1e3},(n=(i+e)/2)>.75*h&&(n-=2*_t),o.slicedTranslation={translateX:ft(xt(n)*a),translateY:ft(wt(n)*a)},e=xt(n)*t[2]/2,i=wt(n)*t[2]/2,o.tooltipPos=[t[0]+.7*e,t[1]+.7*i],o.half=n<-_t/2||n>_t/2?1:0,o.angle=n,l=yt(l,u/2),o.labelPos=[t[0]+e+xt(n)*u,t[1]+i+wt(n)*u,t[0]+e+xt(n)*l,t[1]+i+wt(n)*l,t[0]+e,t[1]+i,u<0?"center":o.half?"right":"left",n]},setTooltipPoints:Rt,drawGraph:null,drawPoints:function(){var e,i,n,s,o=this,r=o.chart.renderer,a=o.options.shadow;a&&!o.shadowGroup&&(o.shadowGroup=r.g("shadow").add(o.group)),ne(o.points,function(l){i=l.graphic,s=l.shapeArgs,n=l.shadowGroup,a&&!n&&(n=l.shadowGroup=r.g("shadow").add(o.shadowGroup)),e=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(e),i?i.animate(t(s,e)):l.graphic=i=r.arc(s).setRadialReference(o.center).attr(l.pointAttr[l.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(e).add(o.group).shadow(a,n),!1===l.visible&&l.setVisible(!1)})},sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawDataLabels:function(){var t,e,i,n,s,o,r,a,l,h,c,d,u=this,f=u.data,m=u.chart,g=u.options.dataLabels,v=p(g.connectorPadding,10),y=p(g.connectorWidth,1),b=m.plotWidth,x=(m=m.plotHeight,p(g.softConnector,!0)),w=g.distance,_=u.center,k=_[2]/2,C=_[1],T=w>0,S=[[],[]],D=[0,0,0,0],M=function(t,e){return e.y-t.y};if(u.visible&&(g.enabled||u._hasPointLabels)){for(Ce.prototype.drawDataLabels.apply(u),ne(f,function(t){t.dataLabel&&S[t.half].push(t)}),c=0;!r&&f[c];)r=f[c]&&f[c].dataLabel&&(f[c].dataLabel.getBBox().height||21),c++;for(c=2;c--;){f=[];var A,L=[],E=S[c],P=E.length;if(u.sortByAngle(E,c-.5),w>0){for(d=C-k-w;d<=C+k+w;d+=r)f.push(d);if(P>(s=f.length)){for((t=[].concat(E)).sort(M),d=P;d--;)t[d].rank=d;for(d=P;d--;)E[d].rank>=s&&E.splice(d,1);P=E.length}for(d=0;d<P;d++){var I,N;for(t=E[d],o=t.labelPos,t=9999,N=0;N<s;N++)(I=bt(f[N]-o[1]))<t&&(t=I,A=N);if(A<d&&null!==f[d])A=d;else for(s<P-d+A&&null!==f[d]&&(A=s-P+d);null===f[A];)A++;L.push({i:A,y:f[A]}),f[A]=null}L.sort(M)}for(d=0;d<P;d++)t=E[d],o=t.labelPos,n=t.dataLabel,h=!1===t.visible?"hidden":"visible",t=o[1],w>0?(A=(s=L.pop()).i,(t>(l=s.y)&&null!==f[A+1]||t<l&&null!==f[A-1])&&(l=t)):l=t,a=g.justify?_[0]+(c?-1:1)*(k+w):u.getX(0===A||A===f.length-1?t:l,c),n._attr={visibility:h,align:o[6]},n._pos={x:a+g.x+({left:v,right:-v}[o[6]]||0),y:l+g.y-10},n.connX=a,n.connY=l,null===this.options.size&&(s=n.width,a-s<v?D[3]=vt(ft(s-a+v),D[3]):a+s>b-v&&(D[1]=vt(ft(a+s-b+v),D[1])),l-r/2<0?D[0]=vt(ft(r/2-l),D[0]):l+r/2>m&&(D[2]=vt(ft(l+r/2-m),D[2])))}(0===$(D)||this.verifyDataLabelOverflow(D))&&(this.placeDataLabels(),T&&y&&ne(this.points,function(t){e=t.connector,o=t.labelPos,(n=t.dataLabel)&&n._pos?(h=n._attr.visibility,a=n.connX,l=n.connY,i=x?["M",a+("left"===o[6]?5:-5),l,"C",a,l,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",a+("left"===o[6]?5:-5),l,"L",o[2],o[3],"L",o[4],o[5]],e?(e.animate({d:i}),e.attr("visibility",h)):t.connector=e=u.chart.renderer.path(i).attr({"stroke-width":y,stroke:g.connectorColor||t.color||"#606060",visibility:h}).add(u.group)):e&&(t.connector=e.destroy())}))}},verifyDataLabelOverflow:function(t){var e,i=this.center,n=this.options,s=n.center,o=n=n.minSize||80;return null!==s[0]?o=vt(i[2]-vt(t[1],t[3]),n):(o=vt(i[2]-t[1]-t[3],n),i[0]+=(t[3]-t[1])/2),null!==s[1]?o=vt(yt(o,i[2]-vt(t[0],t[2])),n):(o=vt(yt(o,i[2]-t[0]-t[2]),n),i[1]+=(t[0]-t[2])/2),o<i[2]?(i[2]=o,this.translate(i),ne(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels()):e=!0,e},placeDataLabels:function(){ne(this.points,function(t){var e;(t=t.dataLabel)&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))})},alignDataLabel:Rt,drawTracker:be.prototype.drawTracker,drawLegendSymbol:Jt.prototype.drawLegendSymbol,getSymbol:Rt},fe=g(Ce,fe),Zt.pie=fe,t(Highcharts,{Axis:j,Chart:U,Color:ye,Legend:z,Pointer:H,Point:ke,Tick:F,Tooltip:B,Renderer:q,Series:Ce,SVGElement:N,SVGRenderer:we,arrayMin:D,arrayMax:$,charts:jt,dateFormat:Y,format:x,pathAnim:K,getOptions:function(){return V},hasBidiBug:Pt,isTouchDevice:At,numberFormat:v,seriesTypes:Zt,setOptions:function(t){return V=e(V,t),I(),V},addEvent:ae,removeEvent:le,createElement:m,discardElement:A,css:f,each:ne,extend:t,map:re,merge:e,pick:p,splat:u,extendClass:g,pInt:i,wrap:b,svg:Et,canvas:It,vml:!Et&&!It,product:"Highcharts",version:"3.0.7"})}(),function(t){var e=t.each,i=function(t,e){this.init(t,e)};t.extend(i.prototype,{init:function(t,e){this.options=t,this.chartOptions=e,this.columns=t.columns||this.rowsToColumns(t.rows)||[],this.columns.length?this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},getColumnDistribution:function(){var i=this.chartOptions,n=i&&i.chart&&i.chart.type,s=[];e(i&&i.series||[],function(e){s.push((t.seriesTypes[e.type||n||"line"].prototype.pointArrayMap||[0]).length)}),this.valueCount={global:(t.seriesTypes[n||"line"].prototype.pointArrayMap||[0]).length,individual:s}},dataFound:function(){this.parseTypes(),this.findHeaderRow(),this.parsed(),this.complete()},parseCSV:function(){var t=this,i=this.options,n=i.csv,s=this.columns,o=i.startRow||0,r=i.endRow||Number.MAX_VALUE,a=i.startColumn||0,l=i.endColumn||Number.MAX_VALUE,h=0;n&&(n=n.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(i.lineDelimiter||"\n"),e(n,function(n,c){var d=t.trim(n),u=0===d.indexOf("#");c>=o&&c<=r&&!u&&""!==d&&(d=n.split(i.itemDelimiter||","),e(d,function(t,e){e>=a&&e<=l&&(s[e-a]||(s[e-a]=[]),s[e-a][h]=t)}),h+=1)}),this.dataFound())},parseTable:function(){var t,i=this.options,n=i.table,s=this.columns,o=i.startRow||0,r=i.endRow||Number.MAX_VALUE,a=i.startColumn||0,l=i.endColumn||Number.MAX_VALUE;n&&("string"==typeof n&&(n=document.getElementById(n)),e(n.getElementsByTagName("tr"),function(i,n){t=0,n>=o&&n<=r&&e(i.childNodes,function(e){("TD"===e.tagName||"TH"===e.tagName)&&t>=a&&t<=l&&(s[t]||(s[t]=[]),s[t][n-o]=e.innerHTML,t+=1)})}),this.dataFound())},parseGoogleSpreadsheet:function(){var t,e,i=this,n=this.options,s=n.googleSpreadsheetKey,o=this.columns,r=n.startRow||0,a=n.endRow||Number.MAX_VALUE,l=n.startColumn||0,h=n.endColumn||Number.MAX_VALUE;s&&jQuery.getJSON("https://spreadsheets.google.com/feeds/cells/"+s+"/"+(n.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",function(n){var s,c,d=(n=n.feed.entry).length,u=0,p=0;for(c=0;c<d;c++)s=n[c],u=Math.max(u,s.gs$cell.col),p=Math.max(p,s.gs$cell.row);for(c=0;c<u;c++)c>=l&&c<=h&&(o[c-l]=[],o[c-l].length=Math.min(p,a-r));for(c=0;c<d;c++)s=n[c],t=s.gs$cell.row-1,(e=s.gs$cell.col-1)>=l&&e<=h&&t>=r&&t<=a&&(o[e-l][t-r]=s.content.$t);i.dataFound()})},findHeaderRow:function(){e(this.columns,function(){}),this.headerRow=0},trim:function(t){return"string"==typeof t?t.replace(/^\s+|\s+$/g,""):t},parseTypes:function(){for(var t,e,i,n,s=this.columns,o=s.length;o--;)for(t=s[o].length;t--;)e=s[o][t],i=parseFloat(e),(n=this.trim(e))==i?(s[o][t]=i,i>31536e6?s[o].isDatetime=!0:s[o].isNumeric=!0):(e=this.parseDate(e),0!==o||"number"!=typeof e||isNaN(e)?s[o][t]=""===n?null:n:(s[o][t]=e,s[o].isDatetime=!0))},dateFormats:{"YYYY-mm-dd":{regex:"^([0-9]{4})-([0-9]{2})-([0-9]{2})$",parser:function(t){return Date.UTC(+t[1],t[2]-1,+t[3])}}},parseDate:function(t){var e,i,n,s=this.options.parseDate;if(s&&(e=s(t)),"string"==typeof t)for(i in this.dateFormats)s=this.dateFormats[i],(n=t.match(s.regex))&&(e=s.parser(n));return e},rowsToColumns:function(t){var e,i,n,s,o;if(t)for(o=[],i=t.length,e=0;e<i;e++)for(s=t[e].length,n=0;n<s;n++)o[n]||(o[n]=[]),o[n][e]=t[e][n];return o},parsed:function(){this.options.parsed&&this.options.parsed.call(this,this.columns)},complete:function(){var e,i,n,s,o,r,a,l,h=this.columns,c=this.options;if(c.complete){for(this.getColumnDistribution(),h.length>1&&(e=h.shift(),0===this.headerRow&&e.shift(),e.isDatetime?i="datetime":e.isNumeric||(i="category")),r=0;r<h.length;r++)0===this.headerRow&&(h[r].name=h[r].shift());for(s=[],r=0,l=0;r<h.length;l++){for(n=t.pick(this.valueCount.individual[l],this.valueCount.global),o=[],a=0;a<h[r].length;a++)o[a]=[e[a],void 0!==h[r][a]?h[r][a]:null],n>1&&o[a].push(void 0!==h[r+1][a]?h[r+1][a]:null),n>2&&o[a].push(void 0!==h[r+2][a]?h[r+2][a]:null),n>3&&o[a].push(void 0!==h[r+3][a]?h[r+3][a]:null),n>4&&o[a].push(void 0!==h[r+4][a]?h[r+4][a]:null);s[l]={name:h[r].name,data:o},r+=n}c.complete({xAxis:{type:i},series:s})}}}),t.Data=i,t.data=function(t,e){return new i(t,e)},t.wrap(t.Chart.prototype,"init",function(i,n,s){var o=this;n&&n.data?t.data(t.extend(n.data,{complete:function(r){n.series&&e(n.series,function(e,i){n.series[i]=t.merge(e,r.series[i])}),n=t.merge(r,n),i.call(o,n,s)}}),n):i.call(o,n,s)})}(Highcharts),function(){this.Tree={init:function(){var t;return t=window.history&&window.history.pushState&&window.history.replaceState&&void 0!==window.history.state,$(".tree-holder").length>0&&(t&&Tree.initTreeSlide(),Tree.initTreeCommit()),Tree.highlightBlobLines(),Tree.initLineJump("#modal-linejump"),$(window).on("hashchange",Tree.highlightBlobLines),$(document).on("click",".line-numbers a",Tree.multiSelectLines)},initLineJump:function(t){return $(document).on("keypress",function(e){var i,n,s,o;if(n=$(t),i=n.find("input"),s=function(t){return t&&(location.hash="#L"+t,Tree.highlightBlobLines()),n.modal("hide"),i.val("")},i.on("keydown",function(t){return 13===t.which&&s(i.val()),t.stopPropagation()}),n.find(".ui.button").on("click",function(){return s(i.val())}),o=e.target.tagName.toLowerCase(),e.which==="l".charCodeAt(0)&&"input"!==o&&"textarea"!==o&&$("#tree-content-holder .file_content").hasClass("code"))return n.modal("show"),e.preventDefault()})},fetchReplacement:function(t){return $.ajax({url:t,dataType:"script",beforeSend:function(){return $(".tree_progress").show()},complete:function(){return $(".tree_progress").hide(),$(document).trigger("tree.complete")}})},initTreeSlide:function(){return $(".tree-holder, .breadcrumb_path").on("click",".section, .tree-item-file-name a",function(t){return t.preventDefault(),window.history.pushState({cache:!0},null,$(this).attr("href")),Tree.fetchReplacement(window.location.href)}),window.history.replaceState({cache:!0},null,window.location.href),$(document).ready(function(){return window.addEventListener("popstate",function(t){var e;return-1===location.hash.indexOf("#")&&((null!=(e=t.state)?e.cache:void 0)?Tree.fetchReplacement(window.location.href):void 0)},!1)})},initTreeCommit:function(){var t;if(t=$("#tree-content-holder .tree_progress").data("logs-path"))return $.ajax({url:t,dataType:"script",complete:function(){return $("#tree-content-holder .tree_progress").removeData("logs-path")}})},highlightBlobLines:function(t){var e,i,n,s,o,r,a;if(""!==window.location.hash&&(o=window.location.hash.match(/\#L(\d+)(\-L?(\d+))?/),e=parseInt(null!=o?o[1]:void 0),n=parseInt(null!=o?o[3]:void 0),!isNaN(e))){for(isNaN(n)&&(n=e),$(".tree-content-holder .highlight .line.hll").removeClass("hll"),s=i=r=e,a=n;r<=a?i<=a:i>=a;s=r<=a?++i:--i)$("#LC"+s).addClass("hll");if(!t)return $.scrollTo("#L"+e,500,{offset:-128})}},multiSelectLines:function(t){var e,i,n,s,o,r,a;if(event.shiftKey&&$("pre div[class='line hll']")&&(s=window.location.hash.match(/\#L(\d+)(?:\-L?(\d+))?/),a=parseInt(null!=s?s[1]:void 0),n=parseInt(null!=s?s[2]:void 0),i=parseInt(null!=(r=$(this).attr("href").match(/\#L(\d+)$/))?r[1]:void 0),!(isNaN(a)&&isNaN(i)||(e=isNaN(n)?a:Math.min(a,n))===i)))return o=i>e?"#L"+e+"-"+i:"#L"+i+"-"+e,window.location.hash=o,t.preventDefault()},initHighlightTheme:function(t){return $(".highlight").not(".is-diff").each(function(){var e,i;return e=(i=$(this).parent("div")).hasClass("lines")?"lines "+t:t,i.attr("class",e)})}}}.call(this),function(t){"use strict";t.scoped=function(){function e(e){return t(e).attr("scoped")!==undefined}function i(){t("style").each(function(i,n){if(e(n)){var s=t(n);s.data("original-style",s.html())}})}function n(i){t("style").each(function(n,s){if(e(s)&&!i.hasClass("depends_on_"+n))try{s.innerHTML=""}catch(o){t(s).attr("disabled","disabled")}})}function s(){t("style").each(function(i,n){var s=t(n);if(e(n))try{n.innerHTML=s.data("original-style")}catch(o){t(this).removeAttr("disabled")}})}function o(t){var e,i,n,s;if(t.currentStyle)return l(50),t.currentStyle;for(n in i="",e=document.defaultView.getComputedStyle(t,null))parseInt(n,10)&&e[s=a(e[n])]!==undefined&&(i+=e[n]+":"+e[s]+";\n");return i}function r(){t("style").each(function(e,i){var n=t(i),s=t(this).parent();if(s.find("*").add(s).each(function(){var e=t(this);"STYLE"!==this.nodeName&&e.data("scopedprocessed")&&(e.attr("style",e.data("originalInline")||""),e.data("scopedprocessed",!0))}),n.attr("scoped")!==undefined){try{n.data("scopedprocessed")&&(this.innerHTML=n.data("original-style"))}catch(o){n.removeAttr("disabled")}n.data("scopedprocessed",!0)}})}function a(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})}function l(e){var i=new Date;for(i.setTime(i.getTime()+e);(new Date).getTime()<i.getTime();)t.noop()}if(!("scoped"in document.createElement("style"))){var h=!0;try{document.createElement("div").style.setProperty("opacity",0,"")}catch(d){h=!1}r(),i();var c=t("style");c.each(function(i){var n=t(this);e(n)&&(n.addClass("this_is_"+i),n.parent().find("style").each(function(){t(this).addClass("depends_on_"+i)}))}),c.each(function(){var i=t(this);if(e(i)){n(i);var r=[],a=i.parent(),l=a.find("*");l.add(a).each(function(){t(this).css("cssText",""),"STYLE"!==this.nodeName&&r.push(o(this))}),l.add(a).each(function(){var e,i;if("STYLE"!==this.nodeName)if(t(this).data("originalInline")||t(this).data("originalInline",t(this).attr("style")),"string"==typeof(e=r.shift()))t(this).css("cssText",e);else if(h){for(i in e)if("content"!==i||"none"!==e[i])try{this.style.setProperty(i,e[i])}catch(n){}}else for(i in e)try{this&&this.style&&i&&e[i]&&""!==i&&""!==e[i]&&(this.style[i]=e[i])}catch(n){}}),s()}}),t("style").each(function(i,n){if(e(n))try{n.innerHTML=""}catch(d){t(n).attr("disabled","disabled")}})}}}(jQuery),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.JsDiff=e():t.JsDiff=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.canonicalize=e.convertChangesToXML=e.convertChangesToDMP=e.merge=e.parsePatch=e.applyPatches=e.applyPatch=e.createPatch=e.createTwoFilesPatch=e.structuredPatch=e.diffArrays=e.diffJson=e.diffCss=e.diffSentences=e.diffTrimmedLines=e.diffLines=e.diffWordsWithSpace=e.diffWords=e.diffChars=e.Diff=void 0;var s=n(i(1)),o=i(2),r=i(3),a=i(5),l=i(6),h=i(7),c=i(8),d=i(9),u=i(10),p=i(11),f=i(13),m=i(14),g=i(16),v=i(17);e.Diff=s["default"],e.diffChars=o.diffChars,e.diffWords=r.diffWords,e.diffWordsWithSpace=r.diffWordsWithSpace,e.diffLines=a.diffLines,e.diffTrimmedLines=a.diffTrimmedLines,e.diffSentences=l.diffSentences,e.diffCss=h.diffCss,e.diffJson=c.diffJson,e.diffArrays=d.diffArrays,e.structuredPatch=m.structuredPatch,e.createTwoFilesPatch=m.createTwoFilesPatch,e.createPatch=m.createPatch,e.applyPatch=u.applyPatch,e.applyPatches=u.applyPatches,e.parsePatch=p.parsePatch,e.merge=f.merge,e.convertChangesToDMP=g.convertChangesToDMP,e.convertChangesToXML=v.convertChangesToXML,e.canonicalize=c.canonicalize},function(t,e){"use strict";function i(){}function n(t,e,i,n,s){for(var o=0,r=e.length,a=0,l=0;o<r;o++){var h=e[o];if(h.removed){if(h.value=t.join(n.slice(l,l+h.count)),l+=h.count,o&&e[o-1].added){var c=e[o-1];e[o-1]=e[o],e[o]=c}}else{if(!h.added&&s){var d=i.slice(a,a+h.count);d=d.map(function(t,e){var i=n[l+e];return i.length>t.length?i:t}),h.value=t.join(d)}else h.value=t.join(i.slice(a,a+h.count));a+=h.count,h.added||(l+=h.count)}}var u=e[r-1];return r>1&&"string"==typeof u.value&&(u.added||u.removed)&&t.equals("",u.value)&&(e[r-2].value+=u.value,e.pop()),e}function s(t){return{newPos:t.newPos,components:t.components.slice(0)}}e.__esModule=!0,e["default"]=i,i.prototype={diff:function(t,e){function i(t){return a?(setTimeout(function(){a(void 0,t)},0),!0):t}function o(){for(var o=-1*d;o<=d;o+=2){var r=void 0,a=p[o-1],u=p[o+1],f=(u?u.newPos:0)-o;a&&(p[o-1]=void 0);var m=a&&a.newPos+1<h,g=u&&0<=f&&f<c;if(m||g){if(!m||g&&a.newPos<u.newPos?(r=s(u),l.pushComponent(r.components,void 0,!0)):((r=a).newPos++,l.pushComponent(r.components,!0,void 0)),f=l.extractCommon(r,e,t,o),r.newPos+1>=h&&f+1>=c)return i(n(l,r.components,e,t,l.useLongestToken));p[o]=r}else p[o]=void 0}d++}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.callback;"function"==typeof r&&(a=r,r={}),this.options=r;var l=this;t=this.castInput(t),e=this.castInput(e),t=this.removeEmpty(this.tokenize(t));var h=(e=this.removeEmpty(this.tokenize(e))).length,c=t.length,d=1,u=h+c,p=[{newPos:-1,components:[]}],f=this.extractCommon(p[0],e,t,0);if(p[0].newPos+1>=h&&f+1>=c)return i([{value:this.join(e),count:e.length}]);if(a)!function g(){setTimeout(function(){return d>u?a():void(o()||g())},0)}();else for(;d<=u;){var m=o();if(m)return m}},pushComponent:function(t,e,i){var n=t[t.length-1];n&&n.added===e&&n.removed===i?t[t.length-1]={count:n.count+1,added:e,removed:i}:t.push({count:1,added:e,removed:i})},extractCommon:function(t,e,i,n){for(var s=e.length,o=i.length,r=t.newPos,a=r-n,l=0;r+1<s&&a+1<o&&this.equals(e[r+1],i[a+1]);)r++,a++,l++
;return l&&t.components.push({count:l}),t.newPos=r,a},equals:function(t,e){return this.options.comparator?this.options.comparator(t,e):t===e||this.options.ignoreCase&&t.toLowerCase()===e.toLowerCase()},removeEmpty:function(t){for(var e=[],i=0;i<t.length;i++)t[i]&&e.push(t[i]);return e},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,e,i){return r.diff(t,e,i)}e.__esModule=!0,e.characterDiff=void 0,e.diffChars=s;var o=n(i(1)),r=e.characterDiff=new o["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,e,i){return i=(0,a.generateOptions)(i,{ignoreWhitespace:!0}),c.diff(t,e,i)}function o(t,e,i){return c.diff(t,e,i)}e.__esModule=!0,e.wordDiff=void 0,e.diffWords=s,e.diffWordsWithSpace=o;var r=n(i(1)),a=i(4),l=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,h=/\S/,c=e.wordDiff=new r["default"];c.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!h.test(t)&&!h.test(e)},c.tokenize=function(t){for(var e=t.split(/(\s+|\b)/),i=0;i<e.length-1;i++)!e[i+1]&&e[i+2]&&l.test(e[i])&&l.test(e[i+2])&&(e[i]+=e[i+2],e.splice(i+1,2),i--);return e}},function(t,e){"use strict";function i(t,e){if("function"==typeof t)e.callback=t;else if(t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}e.__esModule=!0,e.generateOptions=i},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,e,i){return l.diff(t,e,i)}function o(t,e,i){var n=(0,a.generateOptions)(i,{ignoreWhitespace:!0});return l.diff(t,e,n)}e.__esModule=!0,e.lineDiff=void 0,e.diffLines=s,e.diffTrimmedLines=o;var r=n(i(1)),a=i(4),l=e.lineDiff=new r["default"];l.tokenize=function(t){var e=[],i=t.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(var n=0;n<i.length;n++){var s=i[n];n%2&&!this.options.newlineIsToken?e[e.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),e.push(s))}return e}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,e,i){return r.diff(t,e,i)}e.__esModule=!0,e.sentenceDiff=void 0,e.diffSentences=s;var o=n(i(1)),r=e.sentenceDiff=new o["default"];r.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,e,i){return r.diff(t,e,i)}e.__esModule=!0,e.cssDiff=void 0,e.diffCss=s;var o=n(i(1)),r=e.cssDiff=new o["default"];r.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,e,i){return c.diff(t,e,i)}function o(t,e,i,n,s){e=e||[],i=i||[],n&&(t=n(s,t));var a=void 0;for(a=0;a<e.length;a+=1)if(e[a]===t)return i[a];var l=void 0;if("[object Array]"===h.call(t)){for(e.push(t),l=new Array(t.length),i.push(l),a=0;a<t.length;a+=1)l[a]=o(t[a],e,i,n,s);return e.pop(),i.pop(),l}if(t&&t.toJSON&&(t=t.toJSON()),"object"===(void 0===t?"undefined":r(t))&&null!==t){e.push(t),l={},i.push(l);var c=[],d=void 0;for(d in t)t.hasOwnProperty(d)&&c.push(d);for(c.sort(),a=0;a<c.length;a+=1)l[d=c[a]]=o(t[d],e,i,n,d);e.pop(),i.pop()}else l=t;return l}e.__esModule=!0,e.jsonDiff=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.diffJson=s,e.canonicalize=o;var a=n(i(1)),l=i(5),h=Object.prototype.toString,c=e.jsonDiff=new a["default"];c.useLongestToken=!0,c.tokenize=l.lineDiff.tokenize,c.castInput=function(t){var e=this.options,i=e.undefinedReplacement,n=e.stringifyReplacer,s=void 0===n?function(t,e){return void 0===e?i:e}:n;return"string"==typeof t?t:JSON.stringify(o(t,null,null,s),s,"  ")},c.equals=function(t,e){return a["default"].prototype.equals.call(c,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,e,i){return r.diff(t,e,i)}e.__esModule=!0,e.arrayDiff=void 0,e.diffArrays=s;var o=n(i(1)),r=e.arrayDiff=new o["default"];r.tokenize=function(t){return t.slice()},r.join=r.removeEmpty=function(t){return t}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){function i(t,e){for(var i=0;i<t.lines.length;i++){var n=t.lines[i],o=n.length>0?n[0]:" ",r=n.length>0?n.substr(1):n;if(" "===o||"-"===o){if(!h(e+1,s[e],o,r)&&++c>d)return!1;e++}}return!0}var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e&&(e=(0,r.parsePatch)(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}for(var s=t.split(/\r\n|[\n\v\f\r\x85]/),o=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],l=e.hunks,h=n.compareLine||function(t,e,i,n){return e===n},c=0,d=n.fuzzFactor||0,u=0,p=0,f=void 0,m=void 0,g=0;g<l.length;g++){for(var v=l[g],y=s.length-v.oldLines,b=0,x=p+v.oldStart-1,w=(0,a["default"])(x,u,y);void 0!==b;b=w())if(i(v,x+b)){v.offset=p+=b;break}if(void 0===b)return!1;u=v.offset+v.oldStart+v.oldLines}for(var _=0,k=0;k<l.length;k++){var C=l[k],T=C.oldStart+C.offset+_-1;_+=C.newLines-C.oldLines,T<0&&(T=0);for(var S=0;S<C.lines.length;S++){var D=C.lines[S],$=D.length>0?D[0]:" ",M=D.length>0?D.substr(1):D,A=C.linedelimiters[S];if(" "===$)T++;else if("-"===$)s.splice(T,1),o.splice(T,1);else if("+"===$)s.splice(T,0,M),o.splice(T,0,A),T++;else if("\\"===$){var L=C.lines[S-1]?C.lines[S-1][0]:null;"+"===L?f=!0:"-"===L&&(m=!0)}}}if(f)for(;!s[s.length-1];)s.pop(),o.pop();else m&&(s.push(""),o.push("\n"));for(var E=0;E<s.length-1;E++)s[E]=s[E]+o[E];return s.join("")}function o(t,e){function i(){var o=t[n++];return o?void e.loadFile(o,function(t,n){if(t)return e.complete(t);var r=s(n,o,e);e.patched(o,r,function(t){return t?e.complete(t):void i()})}):e.complete()}"string"==typeof t&&(t=(0,r.parsePatch)(t));var n=0;i()}e.__esModule=!0,e.applyPatch=s,e.applyPatches=o;var r=i(11),a=n(i(12))},function(t,e){"use strict";function i(t){function e(){var t={};for(a.push(t);l<o.length;){var e=o[l];if(/^(\-\-\-|\+\+\+|@@)\s/.test(e))break;var r=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(e);r&&(t.index=r[1]),l++}for(i(t),i(t),t.hunks=[];l<o.length;){var h=o[l];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(h))break;if(/^@@/.test(h))t.hunks.push(n());else{if(h&&s.strict)throw new Error("Unknown line "+(l+1)+" "+JSON.stringify(h));l++}}}function i(t){var e=/^(---|\+\+\+)\s+(.*)$/.exec(o[l]);if(e){var i="---"===e[1]?"old":"new",n=e[2].split("\t",2),s=n[0].replace(/\\\\/g,"\\");/^".*"$/.test(s)&&(s=s.substr(1,s.length-2)),t[i+"FileName"]=s,t[i+"Header"]=(n[1]||"").trim(),l++}}function n(){for(var t=l,e=o[l++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),i={oldStart:+e[1],oldLines:+e[2]||1,newStart:+e[3],newLines:+e[4]||1,lines:[],linedelimiters:[]},n=0,a=0;l<o.length&&!(0===o[l].indexOf("--- ")&&l+2<o.length&&0===o[l+1].indexOf("+++ ")&&0===o[l+2].indexOf("@@"));l++){var h=0==o[l].length&&l!=o.length-1?" ":o[l][0];if("+"!==h&&"-"!==h&&" "!==h&&"\\"!==h)break;i.lines.push(o[l]),i.linedelimiters.push(r[l]||"\n"),"+"===h?n++:"-"===h?a++:" "===h&&(n++,a++)}if(n||1!==i.newLines||(i.newLines=0),a||1!==i.oldLines||(i.oldLines=0),s.strict){if(n!==i.newLines)throw new Error("Added line count did not match for hunk at line "+(t+1));if(a!==i.oldLines)throw new Error("Removed line count did not match for hunk at line "+(t+1))}return i}for(var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.split(/\r\n|[\n\v\f\r\x85]/),r=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=[],l=0;l<o.length;)e();return a}e.__esModule=!0,e.parsePatch=i},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e,i){var n=!0,s=!1,o=!1,r=1;return function a(){if(n&&!o){if(s?r++:n=!1,t+r<=i)return r;o=!0}if(!s)return o||(n=!0),e<=t-r?-r++:(s=!0,a())}}},function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function s(t){var e=w(t.lines),i=e.oldLines,n=e.newLines;void 0!==i?t.oldLines=i:delete t.oldLines,void 0!==n?t.newLines=n:delete t.newLines}function o(t,e,i){t=r(t,i),e=r(e,i);var n={};(t.index||e.index)&&(n.index=t.index||e.index),(t.newFileName||e.newFileName)&&(a(t)?a(e)?(n.oldFileName=l(n,t.oldFileName,e.oldFileName),n.newFileName=l(n,t.newFileName,e.newFileName),n.oldHeader=l(n,t.oldHeader,e.oldHeader),n.newHeader=l(n,t.newHeader,e.newHeader)):(n.oldFileName=t.oldFileName,n.newFileName=t.newFileName,n.oldHeader=t.oldHeader,n.newHeader=t.newHeader):(n.oldFileName=e.oldFileName||t.oldFileName,n.newFileName=e.newFileName||t.newFileName,n.oldHeader=e.oldHeader||t.oldHeader,n.newHeader=e.newHeader||t.newHeader)),n.hunks=[];for(var s=0,o=0,u=0,p=0;s<t.hunks.length||o<e.hunks.length;){var f=t.hunks[s]||{oldStart:1/0},m=e.hunks[o]||{oldStart:1/0};if(h(f,m))n.hunks.push(c(f,u)),s++,p+=f.newLines-f.oldLines;else if(h(m,f))n.hunks.push(c(m,p)),o++,u+=m.newLines-m.oldLines;else{var g={oldStart:Math.min(f.oldStart,m.oldStart),oldLines:0,newStart:Math.min(f.newStart+u,m.oldStart+p),newLines:0,lines:[]};d(g,f.oldStart,f.lines,m.oldStart,m.lines),o++,s++,n.hunks.push(g)}}return n}function r(t,e){if("string"==typeof t){if(/^@@/m.test(t)||/^Index:/m.test(t))return(0,k.parsePatch)(t)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return(0,_.structuredPatch)(void 0,void 0,e,t)}return t}function a(t){return t.newFileName&&t.newFileName!==t.oldFileName}function l(t,e,i){return e===i?e:(t.conflict=!0,{mine:e,theirs:i})}function h(t,e){return t.oldStart<e.oldStart&&t.oldStart+t.oldLines<e.oldStart}function c(t,e){return{oldStart:t.oldStart,oldLines:t.oldLines,newStart:t.newStart+e,newLines:t.newLines,lines:t.lines}}function d(t,e,i,o,r){var a={offset:e,lines:i,index:0},l={offset:o,lines:r,index:0};for(m(t,a,l),m(t,l,a);a.index<a.lines.length&&l.index<l.lines.length;){var h=a.lines[a.index],c=l.lines[l.index];if("-"!==h[0]&&"+"!==h[0]||"-"!==c[0]&&"+"!==c[0])if("+"===h[0]&&" "===c[0]){var d;(d=t.lines).push.apply(d,n(v(a)))}else if("+"===c[0]&&" "===h[0]){var y;(y=t.lines).push.apply(y,n(v(l)))}else"-"===h[0]&&" "===c[0]?p(t,a,l):"-"===c[0]&&" "===h[0]?p(t,l,a,!0):h===c?(t.lines.push(h),a.index++,l.index++):f(t,v(a),v(l));else u(t,a,l)}g(t,a),g(t,l),s(t)}function u(t,e,i){var s=v(e),o=v(i);if(b(s)&&b(o)){var r,a;if((0,C.arrayStartsWith)(s,o)&&x(i,s,s.length-o.length))return void(r=t.lines).push.apply(r,n(s));if((0,C.arrayStartsWith)(o,s)&&x(e,o,o.length-s.length))return void(a=t.lines).push.apply(a,n(o))}else if((0,C.arrayEqual)(s,o)){var l;return void(l=t.lines).push.apply(l,n(s))}f(t,s,o)}function p(t,e,i,s){var o,r=v(e),a=y(i,r);a.merged?(o=t.lines).push.apply(o,n(a.merged)):f(t,s?a:r,s?r:a)}function f(t,e,i){t.conflict=!0,t.lines.push({conflict:!0,mine:e,theirs:i})}function m(t,e,i){for(;e.offset<i.offset&&e.index<e.lines.length;){var n=e.lines[e.index++];t.lines.push(n),e.offset++}}function g(t,e){for(;e.index<e.lines.length;){var i=e.lines[e.index++];t.lines.push(i)}}function v(t){for(var e=[],i=t.lines[t.index][0];t.index<t.lines.length;){var n=t.lines[t.index];if("-"===i&&"+"===n[0]&&(i="+"),i!==n[0])break;e.push(n),t.index++}return e}function y(t,e){for(var i=[],n=[],s=0,o=!1,r=!1;s<e.length&&t.index<t.lines.length;){var a=t.lines[t.index],l=e[s];if("+"===l[0])break;if(o=o||" "!==a[0],n.push(l),s++,"+"===a[0])for(r=!0;"+"===a[0];)i.push(a),a=t.lines[++t.index];l.substr(1)===a.substr(1)?(i.push(a),t.index++):r=!0}if("+"===(e[s]||"")[0]&&o&&(r=!0),r)return i;for(;s<e.length;)n.push(e[s++]);return{merged:n,changes:i}}function b(t){return t.reduce(function(t,e){return t&&"-"===e[0]},!0)}function x(t,e,i){for(var n=0;n<i;n++){var s=e[e.length-i+n].substr(1);if(t.lines[t.index+n]!==" "+s)return!1}return t.index+=i,!0}function w(t){var e=0,i=0;return t.forEach(function(t){if("string"!=typeof t){var n=w(t.mine),s=w(t.theirs);void 0!==e&&(n.oldLines===s.oldLines?e+=n.oldLines:e=void 0),void 0!==i&&(n.newLines===s.newLines?i+=n.newLines:i=void 0)}else void 0===i||"+"!==t[0]&&" "!==t[0]||i++,void 0===e||"-"!==t[0]&&" "!==t[0]||e++}),{oldLines:e,newLines:i}}e.__esModule=!0,e.calcLineCount=s,e.merge=o;var _=i(14),k=i(11),C=i(15)},function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function s(t,e,i,s,o,r,l){function h(t){return t.map(function(t){return" "+t})}l||(l={}),"undefined"==typeof l.context&&(l.context=4);var c=(0,a.diffLines)(i,s,l);c.push({value:"",lines:[]});for(var d=[],u=0,p=0,f=[],m=1,g=1,v=function(t){var e=c[t],o=e.lines||e.value.replace(/\n$/,"").split("\n");if(e.lines=o,e.added||e.removed){var r;if(!u){var a=c[t-1];u=m,p=g,a&&(f=l.context>0?h(a.lines.slice(-l.context)):[],u-=f.length,p-=f.length)}(r=f).push.apply(r,n(o.map(function(t){return(e.added?"+":"-")+t}))),e.added?g+=o.length:m+=o.length}else{if(u)if(o.length<=2*l.context&&t<c.length-2){var v;(v=f).push.apply(v,n(h(o)))}else{var y,b=Math.min(o.length,l.context);(y=f).push.apply(y,n(h(o.slice(0,b))));var x={oldStart:u,oldLines:m-u+b,newStart:p,newLines:g-p+b,lines:f};if(t>=c.length-2&&o.length<=l.context){var w=/\n$/.test(i),_=/\n$/.test(s);0!=o.length||w?w&&_||f.push("\\ No newline at end of file"):f.splice(x.oldLines,0,"\\ No newline at end of file")}d.push(x),u=0,p=0,f=[]}m+=o.length,g+=o.length}},y=0;y<c.length;y++)v(y);return{oldFileName:t,newFileName:e,oldHeader:o,newHeader:r,hunks:d}}function o(t,e,i,n,o,r,a){var l=s(t,e,i,n,o,r,a),h=[];t==e&&h.push("Index: "+t),h.push("==================================================================="),h.push("--- "+l.oldFileName+("undefined"==typeof l.oldHeader?"":"\t"+l.oldHeader)),h.push("+++ "+l.newFileName+("undefined"==typeof l.newHeader?"":"\t"+l.newHeader));for(var c=0;c<l.hunks.length;c++){var d=l.hunks[c];h.push("@@ -"+d.oldStart+","+d.oldLines+" +"+d.newStart+","+d.newLines+" @@"),h.push.apply(h,d.lines)}return h.join("\n")+"\n"}function r(t,e,i,n,s,r){return o(t,t,e,i,n,s,r)}e.__esModule=!0,e.structuredPatch=s,e.createTwoFilesPatch=o,e.createPatch=r;var a=i(5)},function(t,e){"use strict";function i(t,e){return t.length===e.length&&n(t,e)}function n(t,e){if(e.length>t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}e.__esModule=!0,e.arrayEqual=i,e.arrayStartsWith=n},function(t,e){"use strict";function i(t){for(var e=[],i=void 0,n=void 0,s=0;s<t.length;s++)n=(i=t[s]).added?1:i.removed?-1:0,e.push([n,i.value]);return e}e.__esModule=!0,e.convertChangesToDMP=i},function(t,e){"use strict";function i(t){for(var e=[],i=0;i<t.length;i++){var s=t[i];s.added?e.push("<ins>"):s.removed&&e.push("<del>"),e.push(n(s.value)),s.added?e.push("</ins>"):s.removed&&e.push("</del>")}return e.join("")}function n(t){var e=t;return(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}e.__esModule=!0,e.convertChangesToXML=i}])}),function(t){var e={debugOn:!1,markupCreated:!1,markup:"",attachEvents:function(i){t("#gollum-dialog-action-ok").click(function(t){e.eventOK(t,i)}),t("#gollum-dialog-action-cancel").click(e.eventCancel),t('#gollum-dialog-dialog input[type="text"]').keydown(function(t){13==t.keyCode&&e.eventOK(t,i)})},detachEvents:function(){t("#gollum-dialog-action-ok").unbind("click"),t("#gollum-dialog-action-cancel").unbind("click")},createFieldMarkup:function(t){for(var i="<fieldset>",n=0;n<t.length;n++)if("object"==typeof t[n]){switch(i+='<div class="field">',t[n].type){case"text":i+=e.createFieldText(t[n]);break;case"file":i+=e.createFieldFile(t[n])}i+="</div>"}return i+="</fieldset>"},createFieldText:function(t){var e="";return t.name&&(e+="<label",t.id&&(e+=' for="gollum-dialog-dialog-generated-field-'+t.id+'"'),e+=">"+t.name+"</label>"),e+='<input type="text"',t.id&&(e+=' name="'+t.id+'"',"code"==t.type&&(e+=' class="code"'),t.defaultValue&&(e+=' value="'+t.defaultValue.split('"').join("&quot;")+'"'),e+=' id="gollum-dialog-dialog-generated-field-'+t.id+'">'),t.context&&(e+='<span class="context">'+t.context+"</span>"),e},createFieldFile:function(t){var e="",i=t.id||"upload",n=t.name||"file";return e+='<form method=post enctype="multipart/form-data" action="'+(t.action||"/uploadFile")+'" id="'+i+'">',e+='<input type=file name="'+n+'">',e+="</form>",t.context&&(e+='<span class="context">'+t.context+"</span>"),e},createMarkup:function(i,n){return e.markupCreated=!0,t.facebox?'<div id="gollum-dialog-dialog"><div id="gollum-dialog-dialog-title"><h4>'+i+'</h4></div><div id="gollum-dialog-dialog-body">'+n+'</div><div id="gollum-dialog-dialog-buttons"><a href="#" title="Cancel" id="gollum-dialog-action-cancel" class="gollum-minibutton">\u53d6\u6d88</a><a href="#" title="OK" id="gollum-dialog-action-ok" class="gollum-minibutton">\u786e\u5b9a</a></div></div>':'<div id="gollum-dialog-dialog"><div id="gollum-dialog-dialog-inner"><div id="gollum-dialog-dialog-bg"><div id="gollum-dialog-dialog-title"><h4>'+i+'</h4></div><div id="gollum-dialog-dialog-body">'+n+'</div><div id="gollum-dialog-dialog-buttons"><a href="#" title="Cancel" id="gollum-dialog-action-cancel" class="minibutton">\u53d6\u6d88</a><a href="#" title="OK" id="gollum-dialog-action-ok" class="minibutton">\u786e\u5b9a</a></div></div></div></div>'},eventCancel:function(t){t.preventDefault(),i("Cancelled dialog."),e.hide()},eventOK:function(i,n){i.preventDefault();var s=[];t("#gollum-dialog-dialog-body input").each(function(){s[t(this).attr("name")]=t(this).val()}),n&&"function"==typeof n&&n(s),e.hide()},hide:function(){t.facebox?(e.markupCreated=!1,t(document).trigger("close.facebox"),e.detachEvents()):t.browser.msie?(t("#gollum-dialog-dialog").hide().removeClass("active"),t("select").css("visibility","visible")):(t("#gollum-dialog-dialog").css("display","none"),t("#gollum-dialog-dialog").animate({opacity:0},{duration:200,complete:function(){t("#gollum-dialog-dialog").removeClass("active")}}))},init:function(n){var s="",o="";n&&"object"==typeof n?(n.body&&"string"==typeof n.body&&(o="<p>"+n.body+"</p>"),n.fields&&"object"==typeof n.fields&&(o+=e.createFieldMarkup(n.fields)),n.title&&"string"==typeof n.title&&(s=n.title),e.markupCreated&&(t.facebox?t(document).trigger("close.facebox"):t("#gollum-dialog-dialog").remove()),e.markup=e.createMarkup(s,o),t.facebox?t(document).bind("reveal.facebox",function(){n.OK&&"function"==typeof n.OK&&(e.attachEvents(n.OK),t(t('#facebox input[type="text"]').get(0)).focus())}):(t("body").append(e.markup),n.OK&&"function"==typeof n.OK&&e.attachEvents(n.OK)),e.show()):i("Editor Dialog: Cannot init; invalid init object")},show:function(){e.markupCreated?(i("Showing dialog"),t.facebox?t.facebox(e.markup):t.browser.msie?(t("#gollum-dialog.dialog").addClass("active"),e.position(),t("select").css("visibility","hidden")):(t("#gollum-dialog.dialog").css("display","none"),t("#gollum-dialog-dialog").animate({opacity:0},{duration:0,complete:function(){t("#gollum-dialog-dialog").css("display","block"),e.position(),t("#gollum-dialog-dialog").animate({opacity:1},{duration:500}),t(t('#gollum-dialog-dialog input[type="text"]').get(0)).focus()}}))):i("Dialog: No markup to show. Please use init first.")},position:function(){var e=t("#gollum-dialog-dialog-inner").height();t("#gollum-dialog-dialog-inner").css("height",e+"px").css("margin-top",-1*parseInt(e/2))}};t.facebox&&t(document).bind("reveal.facebox",function(){t("#facebox img.close_image").remove()});var i=function(t){e.debugOn&&"undefined"!=typeof console&&console.log(t)};t.GollumDialog=e}(jQuery),$(document).ready(function(){$.GollumEditor()}),function(t){var e={MarkupType:"markdown",EditorMode:"code",NewFile:!1,HasFunctionBar:!0,Debug:!1,NoDefinitionsFor:[]},i={};t.GollumEditor=function(r){if(i=t.extend(e,r),n("GollumEditor loading"),o.baseEditorMarkup()){if(o.titleDisplayed()&&t("#gollum-editor-title-field").addClass("active"),o.editSummaryMarkup()&&(t.GollumEditor.Placeholder.add(t("#gollum-editor-edit-summary input")),t('#gollum-editor form[name="gollum-editor"]').submit(function(e){e.preventDefault(),n("submitting"),t(this).unbind("submit"),t(this).submit()})),o.collapsibleInputs()&&t("#gollum-editor .collapsed a.button, #gollum-editor .expanded a.button").click(function(e){e.preventDefault(),t(this).parent().toggleClass("expanded"),t(this).parent().toggleClass("collapsed")}),o.previewButton())t("#gollum-editor #gollum-editor-preview").click(function(){var e=t("#gollum-editor form").attr("action"),i=t(t("#gollum-editor form").get(0));i.attr("action",this.href||"/preview"),i.attr("target","_blank");var n=window.location.pathname.split("/");return i.attr("page",n[n.length-1]||""),i.submit(),i.attr("action",e),i.removeAttr("target"),!1});if(o.functionBar()){var l=t("#gollum-editor-body").attr("data-markup-lang");l&&(i.MarkupType=l),s.setActiveLanguage(i.MarkupType),o.formatSelector()&&a.init(t("#gollum-editor-format-selector select")),o.help()&&(t("#gollum-editor-help").hide(),t("#gollum-editor-help").removeClass("jaws"))}}},t.GollumEditor.defineLanguage=function(t,e){"object"==typeof e?s.define(t,e):n("GollumEditor.defineLanguage: definition for "+t+" is not an object")};var n=function(t){i.Debug&&"undefined"!=typeof console&&console.log(t)},s={_ACTIVE_LANG:"",_LOADED_LANGS:[],_LANG:{},define:function(e,i){if(s._ACTIVE_LANG=e,s._LOADED_LANGS.push(e),"object"==typeof t.GollumEditor.WikiLanguage){var n={};t.extend(n,t.GollumEditor.WikiLanguage,i),s._LANG[e]=n}else s._LANG[e]=i},getActiveLanguage:function(){return s._ACTIVE_LANG},setActiveLanguage:function(e){null!=s._ACTIVE_LANG&&s._ACTIVE_LANG.length<=0&&a.updateCommitMessage(e),s.getHookFunctionFor("deactivate")&&s.getHookFunctionFor("deactivate")(),s.isLoadedFor(e)?(s._ACTIVE_LANG=e,r.refresh(),s.getHookFunctionFor("activate")&&s.getHookFunctionFor("activate")()):(s._ACTIVE_LANG=null,s.loadFor(e,function(i,l){function h(t,e){t.preventDefault();var i=s.getDefinitionFor(e);return"object"==typeof i&&r.executeAction(i),!1}"success"!=l&&(n("Failed to load language definition for "+e),s.define(e,{})),o.functionBar()&&r.refresh(),s.isValid()&&o.formatSelector()&&a.updateSelected(),s.getHookFunctionFor("activate")&&s.getHookFunctionFor("activate")(),Mousetrap.bind(["command+1","ctrl+1"],function(t){h(t,"function-h1")}),Mousetrap.bind(["command+2","ctrl+2"],function(t){h(t,"function-h2")}),Mousetrap.bind(["command+3","ctrl+3"],function(t){h(t,"function-h3")}),Mousetrap.bind(["command+b","ctrl+b"],function(t){h(t,"function-bold")}),Mousetrap.bind(["command+i","ctrl+i"],function(t){h(t,"function-italic")}),Mousetrap.bind(["command+s","ctrl+s"],function(e){return e.preventDefault(),t("#gollum-editor-submit").trigger("click"),!1})}))},getHookFunctionFor:function(t,e){return e||(e=s._ACTIVE_LANG),s.isLoadedFor(e)&&s._LANG[e][t]&&"function"==typeof s._LANG[e][t]?s._LANG[e][t]:null},getDefinitionFor:function(t,e){return e||(e=s._ACTIVE_LANG),s.isLoadedFor(e)&&s._LANG[e][t]&&"object"==typeof s._LANG[e][t]?s._LANG[e][t]:null},loadFor:function(e,n){if(i.NoDefinitionsFor.length)for(var s=0;s<i.NoDefinitionsFor.length;s++)if(e==i.NoDefinitionsFor[s]&&"function"==typeof n)return void n(null,"error");var o=baseUrl+"/javascript/editor/langs/"+e+".js";t.ajax({url:o,dataType:"script",complete:function(t,e){"function"==typeof n&&n(t,e)}})},isLoadedFor:function(t){if(0===s._LOADED_LANGS.length)return!1;for(var e=0;e<s._LOADED_LANGS.length;e++)if(s._LOADED_LANGS[e]==t)return!0;return!1},isValid:function(){return s._ACTIVE_LANG&&"object"==typeof s._LANG[s._ACTIVE_LANG]}},o={baseEditorMarkup:function(){return t("#gollum-editor").length&&t("#gollum-editor-body").length},collapsibleInputs:function(){return t("#gollum-editor .collapsed, #gollum-editor .expanded").length},formatSelector:function(){return t("#gollum-editor-format-selector select").length},functionBar:function(){return i.HasFunctionBar&&t("#gollum-editor-function-bar").length},ff4Environment:function(){return new RegExp(/Firefox\/4.0b/).test(navigator.userAgent)},editSummaryMarkup:function(){return t("input#gollum-editor-message-field").length>0},help:function(){return t("#gollum-editor #gollum-editor-help").length&&t("#gollum-editor #function-help").length},previewButton:function(){return t("#gollum-editor #gollum-editor-preview").length},titleDisplayed:function(){return i.NewFile}},r={isActive:!1,activate:function(){n("Activating function bar"),t("#gollum-editor-function-bar a.function-button").each(function(){s.getDefinitionFor(t(this).attr("id"))?(t(this).click(r.evtFunctionButtonClick),t(this).removeClass("disabled")):"function-help"!=t(this).attr("id")&&t(this).addClass("disabled")}),t("#gollum-editor-function-bar").addClass("active"),r.isActive=!0},deactivate:function(){t("#gollum-editor-function-bar a.function-button").unbind("click"),t("#gollum-editor-function-bar").removeClass("active"),r.isActive=!1},evtFunctionButtonClick:function(e){e.preventDefault();var i=s.getDefinitionFor(t(this).attr("id"));"object"==typeof i&&r.executeAction(i)},executeAction:function(e){var i=t("#gollum-editor-body").val(),s=(r.getFieldSelectionPosition(t("#gollum-editor-body")),r.getFieldSelection(t("#gollum-editor-body"))),o=s,a=!0,l=null;if(e.exec&&"function"==typeof e.exec)e.exec(i,s,t("#gollum-editor-body"));else{var h=/([^\n]+)/gi;if(e.search&&"object"==typeof e.search&&(n("Replacing search Regex"),h=null,h=new RegExp(e.search),n(h)),n('repText is "'+o+'"'),e.replace&&"string"==typeof e.replace){n("Running replacement - using "+e.replace);var c=e.replace;""===(o=(o=o.replace(h,c)).replace(/\$[\d]/g,""))&&(n("Search string is empty"),l=c.indexOf("$1"),o=c.replace(/\$[\d]/g,""),-1==l&&(l=Math.floor(c.length/2)))}e.append&&"string"==typeof e.append&&(o==s&&(a=!1),o+=e.append),o&&r.replaceFieldSelection(t("#gollum-editor-body"),o,a,l)}},getFieldSelectionPosition:function(t){if(t.length){var e=0,i=0,s=t.get(0);if("number"==typeof s.selectionStart&&"number"==typeof s.selectionEnd)e=s.selectionStart,i=s.selectionEnd;else{var o=document.selection.createRange(),r=o.duplicate();r.moveToElementText(s),r.setEndPoint("EndToEnd",o),i=(e=r.text.length-o.text.length)+o.text.length;var a,l=e,h=0;for(n("IE: start position is currently "+l),a=0;a<l;a++)s.value.charAt(a).match(/\r/)&&++h;h&&(n("IE start: compensating for "+h+" line breaks"),e-=h,h=0);var c=i;for(a=0;a<c;a++)s.value.charAt(a).match(/\r/)&&++h;h&&(n("IE end: compensating for "+h+" line breaks"),i-=h)}return{start:e,end:i}}},getFieldSelection:function(t){var e,i="";return!!t.length&&(e=r.getFieldSelectionPosition(t),i=t.val().substring(e.start,e.end),n("Selected: "+i+" ("+e.start+", "+e.end+")"),i)},isShown:function(){return t("#gollum-editor-function-bar").is(":visible")},refresh:function(){o.functionBar()&&(n("Refreshing function bar"),s.isValid()?(t("#gollum-editor-function-bar a.function-button").unbind("click"),r.activate(),l&&l.setActiveHelp(s.getActiveLanguage())):(n("Language definition is invalid."),r.isShown()&&r.deactivate(),l.isShown()&&l.hide()))},replaceFieldSelection:function(t,e,i,n){var s=r.getFieldSelectionPosition(t),o=t.val(),a=!0;!1===i&&(a=!1);var l=null;if(t[0].scrollTop&&(l=t[0].scrollTop),t.val(o.substring(0,s.start)+e+o.substring(s.end)),t[0].focus(),a)if(t[0].setSelectionRange)n?t[0].setSelectionRange(s.start+n,s.start+n):t[0].setSelectionRange(s.start,s.start+e.length);else if(t[0].createTextRange){var h=t[0].createTextRange();h.collapse(!0),n?(h.moveEnd(s.start+n),h.moveStart(s.start+n)):(h.moveEnd("character",s.start+e.length),h.moveStart("character",s.start)),h.select()}l&&(t[0].scrollTop=l)}},a={$_SELECTOR:null,evtChangeFormat:function(){var e=t(this).val();a.updateCommitMessage(e),s.setActiveLanguage(e)},updateCommitMessage:function(t){var e=document.getElementById("gollum-editor-message-field"),i=e.value;/^(?:created|updated)/i.test(i)&&(e.value=i.replace(/\([^\)]*\)$/,"("+t+")"))},init:function(t){n("Initializing format selector"),a.$_SELECTOR&&"object"==typeof a.$_SELECTOR&&a.$_SELECTOR.unbind("change"),a.$_SELECTOR=t,a.updateSelected(),a.$_SELECTOR.change(a.evtChangeFormat)},updateSelected:function(){var t=s.getActiveLanguage();a.$_SELECTOR.val(t)}},l={_ACTIVE_HELP:"",_LOADED_HELP_LANGS:[],_HELP:{},define:function(e,i){l.isValidHelpFormat(i)?(n("help is a valid format"),l._ACTIVE_HELP_LANG=e,l._LOADED_HELP_LANGS.push(e),l._HELP[e]=i,t("#function-help").length&&(t("#function-help").hasClass("disabled")&&t("#function-help").removeClass("disabled"),t("#function-help").unbind("click"),t("#function-help").click(l.evtHelpButtonClick),l.generateHelpMenuFor(e),t("#gollum-editor-help").length&&void 0!==t("#gollum-editor-help").attr("data-autodisplay")&&"true"===t("#gollum-editor-help").attr("data-autodisplay")&&l.show())):t("#function-help").length&&t("#function-help").addClass("disabled")},generateHelpMenuFor:function(e){if(!l._HELP[e])return n("Help is not defined for "+e.toString()),!1;var i=l._HELP[e];t("#gollum-editor-help-parent").html(""),t("#gollum-editor-help-list").html(""),t("#gollum-editor-help-content").html("");for(var s=0;s<i.length&&"object"==typeof i[s];s++){var o=t('<li><a href="#" rel="'+s+'">'+i[s].menuName+"</a></li>");t("#gollum-editor-help-parent").append(o),0===s&&o.children("a").addClass("selected"),o.children("a").click(l.evtParentMenuClick)}l.generateSubMenu(i[0],0),t(t("#gollum-editor-help-list li a").get(0)).click()},generateSubMenu:function(e,i){t("#gollum-editor-help-list").html(""),t("#gollum-editor-help-content").html("");for(var n=0;n<e.content.length&&"object"==typeof e.content[n];n++){var s=t('<li><a href="#" rel="'+i+":"+n+'">'+e.content[n].menuName+"</a></li>");t("#gollum-editor-help-list").append(s),s.children("a").click(l.evtSubMenuClick)}},hide:function(){t.browser.msie?t("#gollum-editor-help").css("display","none"):t("#gollum-editor-help").animate({opacity:0},200,function(){t("#gollum-editor-help").animate({height:"hide"},200)})},show:function(){t.browser.msie?t("#gollum-editor-help").css("display","block"):t("#gollum-editor-help").animate({height:"show"},200,function(){t("#gollum-editor-help").animate({opacity:1},300)})},showHelpFor:function(e,i){var n=l._HELP[l._ACTIVE_HELP_LANG][e].content[i].data;t("#gollum-editor-help-content").html(n)},isLoadedFor:function(t){for(var e=0;e<l._LOADED_HELP_LANGS.length;e++)if(t==l._LOADED_HELP_LANGS[e])return!0;return!1},isShown:function(){return t("#gollum-editor-help").is(":visible")},isValidHelpFormat:function(t){return"object"==typeof t&&t.length&&"string"==typeof t[0].menuName&&"object"==typeof t[0].content&&t[0].content.length},setActiveHelp:function(e){l.isLoadedFor(e)?(l._ACTIVE_HELP_LANG=e,t("#function-help").length&&(t("#function-help").hasClass("disabled")&&t("#function-help").removeClass("disabled"),t("#function-help").unbind("click"),t("#function-help").click(l.evtHelpButtonClick),l.generateHelpMenuFor(e))):(t("#function-help").length&&t("#function-help").addClass("disabled"),l.isShown()&&l.hide())},evtHelpButtonClick:function(e){e.preventDefault(),l.isShown()?(t("#gollum-editor-help").length&&"undefined"!==t("#gollum-editor-help").attr("data-autodisplay")&&"true"===t("#gollum-editor-help").attr("data-autodisplay")&&(t.post("/wiki/help?_method=delete"),t("#gollum-editor-help").attr("data-autodisplay","")),l.hide()):l.show()},evtParentMenuClick:function(e){if(e.preventDefault(),!t(this).hasClass("selected")){var i=t(this).attr("rel"),n=l._HELP[l._ACTIVE_HELP_LANG][i];t("#gollum-editor-help-parent li a").removeClass("selected"),t(this).addClass("selected"),l.generateSubMenu(n,i),t(t("#gollum-editor-help-list li a").get(0)).click()}},evtSubMenuClick:function(e){if(e.preventDefault(),!t(this).hasClass("selected")){var i=t(this).attr("rel").split(":");t("#gollum-editor-help-list li a").removeClass("selected"),t(this).addClass("selected"),l.showHelpFor(i[0],i[1])}}};t.GollumEditor.defineHelp=l.define,t.GollumEditor.Dialog=t.GollumDialog,t.GollumEditor.replaceSelection=function(e){r.replaceFieldSelection(t("#gollum-editor-body"),e)},t.GollumEditor.Placeholder=t.GollumPlaceholder}(jQuery),$(document).ready(function(){$("#delete-link").click(function(t){if(confirm($(this).data("confirm"))){var e=baseUrl+"/delete/"+pageFullPath;window.location=e}t.preventDefault()}),$(".markdown-body a.menu, .markdown-body a.anchor").click(function(){id=$(decodeURI($(this).attr("href"))),$("html,body").animate({scrollTop:id.offset().top-60},1)});var t={node1:null,node2:null,selectNodeRange:function(){if(t.node1&&t.node2){if($("#wiki-history td.selected").removeClass("selected"),t.node1.addClass("selected"),t.node2.addClass("selected"),t.nodeComesAfter(t.node1,t.node2)){var e=t.node1;t.node1=t.node2,t.node2=e}
for(var i=t.node1.next();i&&(i.addClass("selected"),i[0]!=t.node2[0]);)i=i.next()}},nodeComesAfter:function(t,e){var i=!1;return $(t).prevAll().each(function(){$(this)[0]==$(e)[0]&&(i=!0)}),i},checkNode:function(e){var i=e,n=$(e).parent().parent();i.is(":checked")?t.node1?t.node2?i[0].checked=!1:(t.node2=n,t.node2.addClass("selected"),t.selectNodeRange(t.node1,t.node2)):(t.node1=n,t.node1.addClass("selected")):($("#wiki-history tr.selected").each(function(){$(this).find("td.checkbox input").is(":checked")||$(this).removeClass("selected")}),n[0]==t.node1[0]?(t.node1=null,t.node2&&(t.node1=t.node2,t.node2=null)):n[0]==t.node2[0]&&(t.node2=null))}};if($.browser.mozilla?$("body").addClass("ff"):$.browser.webkit?$("body").addClass("webkit"):$.browser.msie&&($("body").addClass("ie"),"7.0"==$.browser.version?$("body").addClass("ie7"):"8.0"==$.browser.version&&$("body").addClass("ie8")),$("#minibutton-upload-page").length&&($("#minibutton-upload-page").parent().removeClass("jaws"),$("#minibutton-upload-page").click(function(t){t.preventDefault(),$.GollumDialog.init({title:"Upload File",fields:[{type:"file",context:"Your uploaded file will be accessible at /uploads/[filename]"}],OK:function(){$("#upload").submit()}})})),$("#minibutton-rename-page").length&&($("#minibutton-rename-page").parent().removeClass("jaws"),$("#minibutton-rename-page").click(function(t){t.preventDefault();var e=pagePath(),i=pageName(),n="Renamed page will be under <span class='path'>"+htmlEscape("/"+e)+"</span> unless an absolute path is given.";$.GollumDialog.init({title:"Rename Page",fields:[{id:"name",name:"Rename to",type:"text",defaultValue:i||"",context:n}],OK:function(t){var n="Rename Page";t.name&&(n=t.name);var s=abspath(e,n),o=s[0],r="/"+e==o?"Renamed "+i+" to "+n:"Renamed "+i+" to "+s.join("/"),a=$("form[name=rename]");a.children("input[name=rename]").val(s.join("/")),a.children("input[name=message]").val(r),a.submit()}})})),$("#minibutton-new-page").length&&($("#minibutton-new-page").parent().removeClass("jaws"),$("#minibutton-new-page").click(function(t){t.preventDefault();var e=pagePath();e===undefined&&0!=$("#file-browser").length&&(e=(e=(e=""==baseUrl?window.location.pathname.substr(1):window.location.pathname.substr(baseUrl.length+1)).replace(/^pages\/?/,"")).replace(/\/$/,""));var i="Page will be created under <span class='path'>"+htmlEscape("/"+e)+"</span> unless an absolute path is given.";$.GollumDialog.init({title:"Create New Page",fields:[{id:"name",name:"Page Name",type:"text",defaultValue:"",context:i}],OK:function(t){var i="New Page";t.name&&(i=t.name);for(var n=[],s=abspath(e,i).join("/").split("/"),o=0;o<s.length;o++)n.push(encodeURIComponent(s[o]));window.location=baseUrl+n.join("/")}})})),$("#wiki-wrapper").hasClass("history")&&($("#wiki-history td.checkbox input").each(function(){$(this).click(function(){t.checkNode($(this))}),$(this).is(":checked")&&t.checkNode($(this))}),$(".history a.action-compare-revision").length&&$(".history a.action-compare-revision").click(function(){$("#version-form").submit()})),$("#searchbar a#search-submit").length&&($.GollumPlaceholder.add($("#searchbar #search-query")),$("#searchbar a#search-submit").click(function(t){t.preventDefault(),$("#searchbar #search-form")[0].submit()}),$("#searchbar #search-form").submit(function(){$.GollumPlaceholder.clearAll(),$(this).unbind("submit"),$(this).submit()})),$("#gollum-revert-form").length&&$(".gollum-revert-button").length&&$("a.gollum-revert-button").click(function(t){t.preventDefault(),$("#gollum-revert-form").submit()}),$("#wiki-wrapper.edit").length&&($("#gollum-editor-submit").click(function(){window.onbeforeunload=null}),$("#gollum-editor-body").one("change",function(){window.onbeforeunload=function(){return"Leaving will discard all edits!"}}),$.GollumEditor()),$("#wiki-wrapper.create").length&&($("#gollum-editor-submit").click(function(){window.onbeforeunload=null}),$("#gollum-editor-body").one("change",function(){window.onbeforeunload=function(){return"Leaving will not create a new page!"}}),$.GollumEditor({NewFile:!0,MarkupType:default_markup})),$("#wiki-history").length){var e={};$("img.identicon").each(function(t,i){var n=$(i),s=parseInt(n.data("identicon"),10),o=e[s];if(o===undefined){var r=$("<canvas width=16 height=16/>").get(0);render_identicon(r,s,16),o=r.toDataURL("image/png"),e[s]=o}n.attr("src",o)})}}),function(t){var e={_PLACEHOLDERS:[],_p:function(e){this.fieldObject=e,this.placeholderText=e.val();var i=e.val();e.addClass("ph"),e.blur(function(){""==t(this).val()&&(t(this).val(i),t(this).addClass("ph"))}),e.focus(function(){t(this).removeClass("ph"),t(this).val()==i?t(this).val(""):t(this)[0].select()})},add:function(t){e._PLACEHOLDERS.push(new e._p(t))},clearAll:function(){for(var t=0;t<e._PLACEHOLDERS.length;t++)e._PLACEHOLDERS[t].fieldObject.val()==e._PLACEHOLDERS[t].placeholderText&&e._PLACEHOLDERS[t].fieldObject.val("")},exists:function(){return _PLACEHOLDERS.length}};t.GollumPlaceholder=e}(jQuery),
/*
 * jQuery Color Animations
 * Copyright 2007 John Resig
 * Released under the MIT and GPL licenses.
 */
function(t){function e(e){var i;return e&&e.constructor==Array&&3==e.length?e:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3])]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:n[t.trim(e).toLowerCase()]}function i(i,n){var s;do{if(""!=(s=t.curCSS(i,n))&&"transparent"!=s||t.nodeName(i,"body"))break;n="backgroundColor"}while(i=i.parentNode);return e(s)}t.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(n,s){t.fx.step[s]=function(t){0==t.state&&(t.start=i(t.elem,s),t.end=e(t.end)),t.elem.style[s]="rgb("+[Math.max(Math.min(parseInt(t.pos*(t.end[0]-t.start[0])+t.start[0]),255),0),Math.max(Math.min(parseInt(t.pos*(t.end[1]-t.start[1])+t.start[1]),255),0),Math.max(Math.min(parseInt(t.pos*(t.end[2]-t.start[2])+t.start[2]),255),0)].join(",")+")"}});var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(t){var e={"function-bold":{search:/(^[\n]+)([\n\s]*)/g,replace:"*$1*$2"},"function-italic":{search:/(^[\n]+)([\n\s]*)/g,replace:"_$1_$2"},"function-code":{search:/(^[\n]+)([\n\s]*)/g,replace:"+$1+$2"},"function-ul":{search:/(^[\n]+)([\n\s]*)/g,replace:"* $1$2"},"function-ol":{search:/(.+)([\n]?)/g,replace:". $1$2"},"function-blockquote":{search:/(.+)([\n]?)/g,replace:"----\n$1$2\n----\n"},"function-link":{exec:function(e,i){t.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",help:"The text to display to the user.",defaultValue:i},{id:"href",name:"URL",type:"text",help:"The URL to link to."}],OK:function(e){var i="";e.text&&e.href&&(i=e.href+"["+e.text+"]"),t.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){t.GollumEditor.Dialog.init({title:"Insert Image",fields:[{id:"url",name:"Image URL",type:"text"},{id:"alt",name:"Alt Text",type:"text"}],OK:function(e){var i="";e.url&&e.alt&&(i="image::"+e.url+"["+e.alt+"]"),t.GollumEditor.replaceSelection(i)}})}}};t.GollumEditor.defineLanguage("asciidoc",e);var i=[{menuName:"Text Formatting",content:[{menuName:"Headers",data:"<p>ASCIIDoc headers can be written in two ways: with differing underlines or with different indentation using <code>=</code> (equals sign). ASCIIDoc supports headings 1-4. The editor will automatically use the <code>=</code> notation. To create a level one header, prefix your line with one <code>=</code>. Level two headers are created with <code>==</code> and so on.</p>"},{menuName:"Bold / Italic",data:"<p>To display text as <strong>bold</strong>, wrap the text in <code>*</code> (asterisks). To display text as <em>italic</em>, wrap the text in <code>_</code> (underscores). To create <code>monospace</code> text, wrap the text in <code>+</code> (plus signs)."},{menuName:"Scripts",data:"<p>Superscript and subscript is created the same way as other inline formats. To create superscript text, wrap your text in <code>^</code> (carats). To create subscript text, wrap your text in <code>~</code> (tildes).</p>"},{menuName:"Special Characters",data:"<p>ASCIIDoc will automatically convert textual representations of commonly-used special characters. For example, <code>(R)</code> becomes &reg;, <code>(C)</code> becomes &copy; and <code>(TM)</code> becomes &trade;.</p>"}]},{menuName:"Blocks",content:[{menuName:"Paragraphs",data:"<p>ASCIIDoc allows paragraphs to have optional titles or icons to denote special sections. To make a normal paragraph, simply add a line between blocks and a new paragraph will start. If you want to title your paragraphs, adda line prefixed by <code>.</code> (full stop). An example paragraph with optional title is displayed below:<br><br><code>.Optional Title<br><br>This is my paragraph. It is two sentences long.</code></p>"},{menuName:"Source Blocks",data:"<p>To create source blocks (long blocks of code), follow the same syntax as above but with an extra line denoting the inline source and lines of four dashes (<code>----</code>) delimiting the source block.. An example of Python source is below:<br><br><code>.python.py<br>[source,python]<br>----<br># i just wrote a comment in python<br># and maybe one more<br>----</code></p>"},{menuName:"Comment Blocks",data:"<p>Comment blocks are useful if you want to keep notes for yourself inline but do not want them displayed to the public. To create a comment block, simply wrap the paragraph in dividers with four slashes (<code>////</code>). An example comment block is below:<br><br><code>////<br>My comment block is here now<br><br>It can be multiple paragraphs. Really.<br>////</p>"},{menuName:"Quote Blocks",data:"<p>Quote blocks work much like comment blocks &mdash; simply create dividers using four underscores (<code>____</code>) around your quote. An example quote block is displayed below:<br><code>____<br>This is my quote block. Quote something nice here, otherwise there is no point in quoting.<br>____</code></p>"}]},{menuName:"Macros",content:[{menuName:"Links",data:'<p>To create links to external pages, you can simply write the URI if you want the URI to link to itself. (i.e., <code>http://github.com/</code> will automatically be parsed to <a href="javascript:void(0);">http://github.com/</a>. If you want different text to be displayed, simply append it to the end of the URI in between <code>[</code> (brackets.) For example, <code>http://github.com/[GitHub]</code> will be parsed as <a href="javascript:void(0);">GitHub</a>, with the URI pointing to <code>http://github.com</code>.</p>'},{menuName:"Images",data:"<p>Images in ASCIIDoc work much like hyperlinks, but image URLs are prefixed with <code>image:</code>. For example, to link to an image at <code>images/icons/home.png</code>, write <code>image:images/icons/home.png</code>. Alt text can be added by appending the text to the URI in <code>[</code> (brackets).</p>"}]}];t.GollumEditor.defineHelp("asciidoc",i)}(jQuery),function(t){var e={"function-bold":{search:/([^\n]+)([\n]*)/gi,replace:"**$1**$2"},"function-italic":{search:/([^\n]+)([\n]*)/gi,replace:"//$1//$2"},"function-code":{search:/([^\n]+)([\n]*)/gi,replace:"{{{$1}}}$2"},"function-hr":{append:"\n\n----\n\n"},"function-ul":{search:/(.+)([\n]?)/gi,replace:"* $1$2"},"function-ol":{search:/(.+)([\n]?)/gi,replace:"# $1$2"},"function-link":{exec:function(e,i){t.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",help:"The text to display to the user.",defaultValue:i},{id:"href",name:"URL",type:"text",help:"The URL to link to."}],OK:function(e){var i="[["+e.href+"|"+e.text+"]]";t.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){t.GollumEditor.Dialog.init({title:"Insert Image",fields:[{id:"url",name:"Image URL",type:"text"},{id:"alt",name:"Alt Text",type:"text"}],OK:function(e){var i="";e.url&&e.alt&&(i="{{"+e.url,""!=e.alt&&(i+="|"+e.alt+"}}")),t.GollumEditor.replaceSelection(i)}})}}};t.GollumEditor.defineLanguage("creole",e)}(jQuery),function(t){var e={"function-bold":{search:/([^\n]+)([\n\s]*)/g,replace:"**$1**$2"},"function-italic":{search:/([^\n]+)([\n\s]*)/g,replace:"_$1_$2"},"function-code":{search:/([^\n]+)([\n\s]*)/g,replace:"`$1`$2"},"function-hr":{append:"\n***\n"},"function-ul":{search:/(.+)([\n]?)/g,replace:"* $1$2"},"function-ol":{exec:function(e,i){for(var n="",s=i.split("\n"),o=/[\w]+/,r=0;r<s.length;r++)o.test(s[r])&&(n+=(r+1).toString()+". "+s[r]+"\n");t.GollumEditor.replaceSelection(n)}},"function-blockquote":{search:/(.+)([\n]?)/g,replace:"> $1$2"},"function-h1":{search:/(.+)([\n]?)/g,replace:"# $1$2"},"function-h2":{search:/(.+)([\n]?)/g,replace:"## $1$2"},"function-h3":{search:/(.+)([\n]?)/g,replace:"### $1$2"},"function-link":{exec:function(e,i){t.GollumEditor.Dialog.init({title:"\u63d2\u5165\u94fe\u63a5",fields:[{id:"text",name:"\u94fe\u63a5\u6587\u5b57",type:"text",defaultValue:i},{id:"href",name:"URL",type:"text"}],OK:function(e){var i="";e.text&&e.href&&(i="["+e.text+"]("+e.href+")"),t.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){t.GollumEditor.Dialog.init({title:"\u63d2\u5165\u56fe\u7247",fields:[{id:"url",name:"\u56fe\u7247\u8def\u5f84",type:"text"},{id:"alt",name:"Alt\u6587\u5b57",type:"text"}],OK:function(e){var i="";e.url&&e.alt&&(i="!["+e.alt+"]("+e.url+")"),t.GollumEditor.replaceSelection(i)}})}}},i=[{menuName:"\u533a\u5757\u5143\u7d20",content:[{menuName:"\u6bb5\u843d\u4e0e\u6362\u884c",data:"<p>\u521b\u5efa\u4e00\u4e2a\u6bb5\u843d, \u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u8fde\u7eed\u7684\u6587\u672c\u884c\u7ec4\u6210\u3002</p><p>\u6362\u884c\u53ea\u9700\u8f93\u5165\u4e24\u4e2a\u4ee5\u4e0a\u7684\u7a7a\u683c\u5373\u53ef\u3002</p>"},{menuName:"\u6807\u9898",data:"<p>\u4e00\u4e2a<code>#</code> \u4ee3\u8868h1\uff0c<code>##</code> \u4ee3\u8868h2\uff0c<code>###</code> \u4ee3\u8868h3\u3002</p><p>\u4f8b\u5982\uff1a</p><p># \u4f60\u597dh1</p><p>\u6ce8\u610f# \u540e\u9762\u7684\u7a7a\u683c\uff01</p>"},{menuName:"\u533a\u5757\u5f15\u7528",data:"<p>\u533a\u5757\u7528 <code>&gt;</code> \u8868\u793a\u3002\u6bcf\u884c\u4e00\u4e2a <code>&gt; </code>\u7b26\u53f7\u3002</p><p>\u4f8b\u5982\uff1a</p><p>&gt; Hello,</p><p>&gt; \u6b22\u8fce\u6765\u5230\u7801\u4e91</p><p>\u6ce8\u610f<code>&gt;</code> \u540e\u9762\u6709\u7a7a\u683c\u3002</p>"},{menuName:"\u5217\u8868",data:"<p>\u652f\u6301\u6709\u5e8f\u6216\u8005\u65e0\u5e8f\u7684\u5217\u8868. \u4f60\u53ef\u4ee5\u4f7f\u7528 <code>*</code>, <code>+</code> or <code>-</code>.</p> \u7b26\u53f7\u540e\u9762\u6700\u591a\u67094\u4e2a\u7a7a\u683c\u6216\u8005\u4e00\u4e2atab."},{menuName:"\u4ee3\u7801\u5757",data:"<p>\u5efa\u7acb\u4ee3\u7801\u533a\u5757\u5f88\u7b80\u5355\uff0c\u53ea\u8981\u7b80\u5355\u5730\u7f29\u8fdb 4 \u4e2a\u7a7a\u683c\u6216\u662f 1 \u4e2a\u5236\u8868\u7b26\u5c31\u53ef\u4ee5</p>"},{menuName:"\u5206\u9694\u7ebf",data:"<p>\u4f60\u53ef\u4ee5\u5728\u4e00\u884c\u4e2d\u7528\u4e09\u4e2a\u4ee5\u4e0a\u7684\u661f\u53f7\u3001\u51cf\u53f7\u3001\u5e95\u7ebf\u6765\u5efa\u7acb\u4e00\u4e2a\u5206\u9694\u7ebf\uff0c\u884c\u5185\u4e0d\u80fd\u6709\u5176\u4ed6\u4e1c\u897f\u3002\u4f60\u4e5f\u53ef\u4ee5\u5728\u661f\u53f7\u6216\u662f\u51cf\u53f7\u4e2d\u95f4\u63d2\u5165\u7a7a\u683c\u3002\u4e0b\u9762\u6bcf\u79cd\u5199\u6cd5\u90fd\u53ef\u4ee5\u5efa\u7acb\u5206\u9694\u7ebf\uff1a</p><p>* * *</p><p>***</p><p>*****</p><p>- - -</p><p>---------------------------------------</p>"}]},{menuName:"\u533a\u6bb5\u5143\u7d20",content:[{menuName:"\u94fe\u63a5",data:"<p>\u521b\u5efa\u94fe\u63a5\u7684\u65b9\u5f0f\u5f88\u7b80\u5355\uff0c\u5982\u4e0b\u683c\u5f0f\uff1a</p><p>[\u8c37\u6b4c](http://www.google.com)</p>\u4f60\u4e5f\u53ef\u4ee5\u5728\u7f16\u8f91\u5668\u4e2d\u76f4\u63a5\u70b9\u51fb\u94fe\u63a5\u6309\u94ae\u521b\u5efa\u3002"},{menuName:"\u5f3a\u8c03",data:"<p>\u4f7f\u7528\u661f\u53f7\uff08*\uff09\u548c\u5e95\u7ebf\uff08_\uff09\u4f5c\u4e3a\u6807\u8bb0\u5f3a\u8c03\u5b57\u8bcd\u7684\u7b26\u53f7\uff0c\u88ab * \u6216 _ \u5305\u56f4\u7684\u5b57\u8bcd\u4f1a\u88ab\u8f6c\u6210\u7528 &lt;em&gt; \u6807\u7b7e\u5305\u56f4\uff0c\u7528\u4e24\u4e2a * \u6216 _ \u5305\u8d77\u6765\u7684\u8bdd\uff0c\u5219\u4f1a\u88ab\u8f6c\u6210 <code>&lt;strong&gt;</code></p><p>\u4f8b\u5982\uff1a</p><p>*single asterisks*</p><p>_single underscores_</p><p>**double asterisks**</p><p>__double underscores__</p></p>"},{menuName:"\u4ee3\u7801",data:"<p>\u9700\u8981\u5305\u542b\u4ee3\u7801\u65f6\uff0c\u4f7f\u7528 (<code>`</code>)\u7b26\u53f7\u5305\u56f4. \u4f8b\u5982\uff1a <code>`myFunction`</code></p>"},{menuName:"\u56fe\u7247",data:"<p>\u6dfb\u52a0\u56fe\u7247\u975e\u5e38\u7b80\u5355\uff0c\u683c\u5f0f\u5982\u4e0b\uff1a<p><code>![\u8c37\u6b4clogo](http://www.google.com/logo.jpg)</code></p></p>"}]},{menuName:"\u5176\u4ed6",content:[{menuName:"\u81ea\u52a8\u94fe\u63a5",data:'<p>\u5982\u679c\u4f60\u8981\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u94fe\u63a5\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>&lt;</code> and <code>&gt;</code> \u5305\u56f4. \u4f8b\u5982 <a href="javascript:void(0);">https://gitee.com/</a> \u5199\u6210 <code>&lt;https://gitee.com/&gt;</code>.</p>'},{menuName:"\u53cd\u659c\u6760",data:"<p>\u5f53\u6211\u4eec\u53ea\u662f\u60f3\u8f93\u51fa\u67d0\u4e2a\u7b26\u53f7\u7684\u65f6\u5019\uff0c\u6bd4\u5982 +\uff0c*\uff0c#\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u7b26\u53f7\u524d\u9762\u52a0\u5165<code>\\</code>, \u4fdd\u6301\u663e\u793a\u4f60\u60f3\u8981\u7684\u7b26\u53f7\u3002</p><p>\u4f8b\u5982\uff1a\u5982\u679c\u4f60\u60f3\u8981\u7528\u661f\u53f7\u52a0\u5728\u6587\u5b57\u65c1\u8fb9\u7684\u65b9\u5f0f\u6765\u505a\u51fa\u5f3a\u8c03\u6548\u679c\uff08\u4f46\u4e0d\u7528 <em> \u6807\u7b7e\uff09\uff0c\u4f60\u53ef\u4ee5\u5728\u661f\u53f7\u7684\u524d\u9762\u52a0\u4e0a\u53cd\u659c\u6760\uff1a<code>\\*literal asterisks\\*</code></code></p>"}]}];t.GollumEditor.defineLanguage("markdown",e),t.GollumEditor.defineHelp("markdown",i)}(jQuery),function(t){var e={"function-bold":{search:/([^\n]+)([\n\s]*)/g,replace:"*$1*$2"},"function-italic":{search:/([^\n]+)([\n\s]*)/g,replace:"/$1/$2"},"function-code":{search:/(^[\n]+)([\n\s]*)/g,replace:"=$1=$2"},"function-ul":{search:/(.+)([\n]?)/g,replace:"* $1$2"},"function-ol":{search:/(.+)([\n]?)/g,replace:"1. $1$2"},"function-blockquote":{search:/(.+)([\n]?)/g,replace:"#+BEGIN_QUOTE\n$1$2\n#+END_QUOTE\n"},"function-h1":{search:/(.+)([\n]?)/g,replace:"* $1$2"},"function-h2":{search:/(.+)([\n]?)/g,replace:"** $1$2"},"function-h3":{search:/(.+)([\n]?)/g,replace:"*** $1$2"},"function-link":{exec:function(e,i){t.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",defaultValue:i},{id:"href",name:"URL",type:"text"}],OK:function(e){var i="";e.text&&e.href?i="[["+e.href+"]["+e.text+"]]":e.href&&(i="[["+e.href+"]]"),t.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){t.GollumEditor.Dialog.init({title:"Insert Image",fields:[{id:"url",name:"Image URL",type:"text"}],OK:function(e){var i="";e.url&&(i="[["+e.url+"]]"),t.GollumEditor.replaceSelection(i)}})}}},i=[{menuName:"\u5757\u5143\u7d20",content:[{menuName:"Paragraphs &amp; Breaks",data:"<p>To create a paragraph, simply create a block of text that is not separated by one or more blank lines. Blocks of text separated by one or more blank lines will be parsed as paragraphs.</p>"},{menuName:"Headers",data:"<p>Simply prefix your header text with the number of <code>*</code> characters to specify heading depth. For example: <code>* Header 1</code>, <code>** Header 2</code> and <code>*** Header 3</code> will be progressively smaller headers.</p>"},{menuName:"Blockquotes",data:"<p>To create a blockquote, simple embed the text between <code>#+BEGIN_QUOTE</code> and <code>#+END_QUOTE</code>. An example quote block is displayed below:<br><code>#+BEGIN_QUOTE<br>This is my quote block. Quote something nice here, otherwise there is no point in quoting.<br>#+END_QUOTE</code></p>"},{menuName:"Lists",data:"<p>Org-mode supports both ordered and unordered lists. To create an ordered list, simply prefix each line with a number (any number will do &mdash; this is why the editor only uses one number.) To create an unordered list, you can prefix each line with <code>+</code> or <code>-</code>.</p>"},{menuName:"Code Blocks",data:"<p>Code Blocks are similar to blockquote, except that <code>#+BEGIN_EXAMPLE</code> and <code>#+END_EXAMPLE</code> are used.</p>"},{menuName:"Tables",data:"<p>Org-mode supports simple tables (tables with equal number of cells in each row). To create a simple table, just separate the contents of each cell with a <code>|</code> character. For example, <br><br><code>|one|two|three|<br>|four|five|six|</code><br><br> will appear as a table with two rows and three columns.  Additionally, <br><br><code>|one|two|three|<br>|---+---+-----|<br>|four|five|six|</code><br><br> will also appear as a table, but the first row will be interpreted as a header row and the <code>&lt;th&gt;</code> tag will be used to render it. </p>"}]},{menuName:"Span Elements",content:[{menuName:"Links",data:'<p>To create links to external pages, you need to enclose the URI in double square brackets. (i.e., <code>[[http://github.com/]]</code> will automatically be parsed to <a href="javascript:void(0);">http://github.com/</a>)If you want to add text, to be displayed to the user, you write the URI and the text next to each other, both enclosed in square brackets and both of them together enclosed in another pair of square brackets. For example, if you want your link to display the text &ldquo;GitHub&rdquo;, you write <code>[[http://github.com][GitHub]]</code>.</p>'},{menuName:"Emphasis",data:"<p>Forward slashes (<code>/</code>) are treated as emphasis and are wrapped with an <code>&lt;i&gt;</code> tag. Asterisks (<code>*</code>) are treated as bold using the <code>&lt;b&gt;</code> tag.</p>"},{menuName:"Code",data:"<p>To create inline spans of code, simply wrap the code in equal signs (<code>=</code>). Orgmode will turn <code>=myFunction=</code> into <code>myFunction</code>.</p>"},{menuName:"Images",data:"<p>Org-mode image syntax is exactly same as the syntax that you would use for a URI to link to itself. The image URI is enclosed in double square brackets. Alt text on images is not currently supported by Gollum's Org-mode parser.</p>"}]}];t.GollumEditor.defineLanguage("org",e),t.GollumEditor.defineHelp("org",i)}(jQuery),function(t){var e={"function-bold":{search:/(^[\n]+)([\n\s]*)/g,replace:"B<$1>$2"},"function-italic":{search:/(^[\n]+)([\n\s]*)/g,replace:"I<$1>$2"},"function-code":{search:/(^[\n]+)([\n\s]*)/g,replace:"C<$1>$2"},"function-h1":{search:/(.+)([\n]?)/gi,replace:"=head1 $1$2"},"function-h2":{search:/(.+)([\n]?)/gi,replace:"=head2 $1$2"},"function-h3":{search:/(.+)([\n]?)/gi,replace:"=head3 $1$2"},"function-link":{exec:function(e,i){t.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",defaultValue:i},{id:"href",name:"URL",type:"text"}],OK:function(e){var i="";e.text&&e.href&&(i="L<"+e.text+"|"+e.href+">"),t.GollumEditor.replaceSelection(i)}})}}};t.GollumEditor.defineLanguage("pod",e);var i=[{menuName:"Command Paragraphs",content:[{menuName:"Headings",data:"<p>All command paragraphs start with <code>=</code> (equals sign).</p><p>To create headings 1 through 4, begin your command paragraph with <code>=headN</code>, where <code>N</code> is the number of the heading 1 through 4. For example, to make a first-order heading (the largest possible,) write <code>=head1</code>, then on the next line begin your paragraph that you want under the heading.</p>"},{menuName:"Beginning &amp; Ending",data:"<p>Perl pod blocks should begin with <code>=pod</code> and end with <code>=cut</code>, signifying to Pod parsers that the pod block has begun and ended. These command paragraphs only signal the beginning and end of a pod block.</p>"},{menuName:"Other Formats",data:"<p>pod also allows blocks in other formats, such as HTML or plain text. To create one of these blocks, use the <code>=format SYNTAX</code> command paragraph, where <code>SYNTAX</code> is the syntax of the block (e.g. <code>html</code> or <code>txt</code>). At the end of your block, use the <code>=end SYNTAX</code> block.</p>"},{menuName:"Encoding",data:"<p>If you are having encoding troubles, use the <code>=encoding ENC_TYPE</code> command, where <code>ENC_TYPE</code> is the encoding type (e.g. <code>utf8</code>, <code>koi8-r</code>). This will affect the entire document, not just the block below the command.</p>"}]},{menuName:"Formatting",content:[{menuName:"Text",data:"<p>Formatting text as <strong>bold</strong>, <em>italic</em> or <code>code</code> works in the <code>S&lt;word&gt;</code> syntax, where <code>S</code> is an abbreviation for the type of text you are trying to create. For example, <code>B&lt;my bold text&gt;</code> becomes <strong>my bold text</strong>,  <code>I&lt;italic text&gt;</code> becomes <em>italic text</em> and <code>C&lt;code here()&gt;</code> becomes <code>code here()</code>.</p>"},{menuName:"Hyperlinks",data:"<p>Writing hyperlinks in pod is much like formatting text, using the same <code>S&lt;&gt;</code> syntax. Instead of <code>B</code>, <code>I</code> or <code>C</code>, use <code>L</code> to begin a hyperlink.</p><p>pod allows you to hyperlink to a <code>man</code> page, a Perl documentation page, or another web page. To link to a <code>man</code> or Perl documentation page, simply include the page name in the link (e.g. <code>L&lt;perl(1)&gt;</code> or <code>L&lt;Net::Ping&gt;</code>). If you want to link to a web page, separate the URL and the link text with a pipe (e.g. to link to github.com, write <code>L&lt;GitHub|http://github.com/&gt;</code>)."}]}];t.GollumEditor.defineHelp("pod",i)}(jQuery),function(t){var e={"function-bold":{search:/([^\n]+)([\n\s]*)/g,replace:"((*$1*))$2"},"function-code":{search:/([^\n]+)([\n\s]*)/g,replace:"(({$1}))$2"},"function-ul":{search:/(.+)([\n]?)/gi,replace:"* $1$2"},"function-ol":{exec:function(e,i){for(var n="",s=i.split("\n"),o=/[\w]+/,r=0;r<s.length;r++)o.test(s[r])&&(n+="("+(r+1).toString()+") "+s[r]);t.GollumEditor.replaceSelection(n)}},"function-h1":{search:/(.+)([\n]?)/gi,replace:"= $1$2"},"function-h2":{search:/(.+)([\n]?)/gi,replace:"== $1$2"},"function-h3":{search:/(.+)([\n]?)/gi,replace:"=== $1$2"}};t.GollumEditor.defineLanguage("rdoc",e)}(jQuery),function(t){var e={"function-bold":{search:/(^[\n]+)([\n\s]*)/g,replace:"*$1*$2"},"function-italic":{search:/(^[\n]+)([\n\s]*)/g,replace:"_$1_$2"},"function-hr":{append:"\n***\n"},"function-code":{search:/(^[\n]+)([\n\s]*)/g,replace:"<pre><code>$1</code></pre>$2"},"function-ul":{search:/(.+)([\n]?)/gi,replace:"* $1$2"},"function-ol":{search:/(.+)([\n]?)/gi,replace:"# $1$2"},"function-blockquote":{search:/(.+)([\n]?)/gi,replace:"bq. $1$2"},"function-link":{exec:function(e,i){t.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",help:"The text to display to the user.",defaultValue:i},{id:"href",name:"URL",type:"text",help:"The URL to link to."}],OK:function(e){var i="";e.text&&e.href&&(i='"'+e.text+'":'+e.href),t.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){t.GollumEditor.Dialog.init({title:"Insert Image",fields:[{id:"url",name:"Image URL",type:"text"},{id:"alt",name:"Alt Text",type:"text"}],OK:function(e){if(e.url){var i="!"+e.url;""!=e.alt&&(i+="("+e.alt+")"),i+="!",t.GollumEditor.replaceSelection(i)}}})}}};t.GollumEditor.defineLanguage("textile",e);var i=[{menuName:"Phrase Modifiers",content:[{menuName:"Emphasis / Strength",data:"<p>To place emphasis or strength on inline text, simply place <code>_</code> (underscores) around the text for emphasis or <code>*</code> (asterisks) around the text for strength. In most browsers, <code>_mytext_</code> will appear as italics and <code>*mytext*</code> will appear as bold.</p><p>To force italics or bold, simply double the characters: <code>__mytext__</code> will appear italic and <code>**mytext**</code> will appear as bold text.</p>"},{menuName:"Citations / Editing",data:'<p>To display citations, wrap your text in <code>??</code> (two question marks).</p><p>To display edit marks such as deleted text (strikethrough) or inserted text (underlined text), wrap your text in <code>-</code> (minuses) or <code>+</code> (pluses). For example <code>-mytext-</code> will be rendered as <span style="text-decoration: line-through;">mytext</span> and <code>+mytext+</code> will be rendered as <span style="text-decoration: underline;">mytext</span></p>'},{menuName:"Superscript / Subscript",data:"<p>To display superscript, wrap your text in <code>^</code> (carets). To display subscript, wrap your text in <code>~</code> (tildes).</p>"},{menuName:"Code",data:"<p>To display monospace code, wrap your text in <code>@</code> (at symbol). For example, <code>@mytext@</code> will appear as <code>mytext</code>.</p>"},{menuName:"Acronyms",data:'<p>To create an acronym, suffix the acronym with the definition in parentheses. For example, <code>JS(JavaScript)</code> will be displayed as <abbr title="JavaScript">JS</abbr>.</p>'}]},{menuName:"Block Modifiers",content:[{menuName:"Headings",data:"<p>To display a heading in Textile, prefix your line of text with <code>hn.</code>, where <code>n</code> equals the heading size you want (1 is largest, 6 is smallest).</p>"},{menuName:"Paragraphs / Quotes",data:"<p>To create a new paragraph, prefix your first line of a block of text with <code>p.</code>.</p><p>To create a blockquote, make sure at least one blank line exists between your text and any surrounding text, and then prefix that block with <code>bq.</code> If you need to extend a blockquote to more than one text block, write <code>bq..</code> (note the two periods) and prefix your next normal paragraph with <code>p.</code></p>"},{menuName:"Code Blocks",data:"<p>Code blocks in textile are simply prefixed like any other block. To create a code block, place the beginning of the block on a separate line and prefix it with <code>bc.</code></p><p>To display a preformatted block, prefix the block with <code>pre.</code></p>"},{menuName:"Lists",data:"<p>To create ordered lists, prefix each line with <code>#</code>. To create unordered lists, prefix each line with <code>*</code>.</p>"}]},{menuName:"Links / Images",content:[{menuName:"Links",data:'<p>To display a link, put the text you want to display in quotes, then a colon (<code>:</code>), then the URL after the colon. For example <code>&quot;GitHub&quot;:http://github.com/</code> will appear as <a href="javascript:void(0);">GitHub</a>.</p>'},{menuName:"Images",data:"<p>To display an image, simply wrap the image&rsquo;s URL in <code>!</code> (exclamation points). If you want to link the image to a URL, you can blend the image and link syntax: place your image URL in the exclamation points and suffix that with a colon and your URL. For example, an image at <code>http://myurl/image.png</code> that should link to <code>http://myurl/</code> should be written as <code>!http://myurl/image.png!:http://myurl/</code>.</p>"}]}];t.GollumEditor.defineHelp("textile",i)}(jQuery),window.Mousetrap=function(){function t(t,e,i){if(t.addEventListener)return t.addEventListener(e,i,!1);t.attachEvent("on"+e,i)}function e(t){return"keypress"==t.type?String.fromCharCode(t.which):d[t.which]?d[t.which]:u[t.which]?u[t.which]:String.fromCharCode(t.which).toLowerCase()}function i(t){t=t||{};var e,i=!1;for(e in v)t[e]?i=!0:v[e]=0;i||(b=!1)}function n(t,e,i,n,s){var o,a,l=[];if(!m[t])return[];for("keyup"==i&&r(t)&&(e=[t]),o=0;o<m[t].length;++o)(a=m[t][o]).seq&&v[a.seq]!=a.level||i!=a.action||"keypress"!=i&&e.sort().join(",")!==a.modifiers.sort().join(",")||(n&&a.combo==s&&m[t].splice(o,1),l.push(a));return l}function s(t,e){!1===t(e)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.returnValue=!1,e.cancelBubble=!0)}function o(t){t.which="number"==typeof t.which?t.which:t.keyCode;var o=e(t);if(o)if("keyup"==t.type&&y==o)y=!1;else{var a=(l=t.target||t.srcElement).tagName;if(-1<(" "+l.className+" ").indexOf(" mousetrap ")||!("INPUT"==a||"SELECT"==a||"TEXTAREA"==a||l.contentEditable&&"true"==l.contentEditable)){l=[],t.shiftKey&&l.push("shift"),t.altKey&&l.push("alt"),t.ctrlKey&&l.push("ctrl"),t.metaKey&&l.push("meta");var l=n(o,l,t.type),h={},c=!1;for(a=0;a<l.length;++a)l[a].seq?(c=!0,h[l[a].seq]=1,s(l[a].callback,t)):!c&&!b&&s(l[a].callback,t);t.type==b&&!r(o)&&i(h)}}}function r(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function a(t,e,i){if(!i){if(!h)for(var n in h={},d)95<n&&112>n||d.hasOwnProperty(n)&&(h[d[n]]=n);i=h[t]?"keydown":"keypress"}return"keypress"==i&&e.length&&(i="keydown"),i}function l(t,o,h,d,u){var g,x,w=(t=t.replace(/\s+/g," ")).split(" "),_=[];if(1<w.length){var k=t,C=h;for(v[k]=0,C||(C=a(w[0],[])),t=function(){b=C,++v[k],clearTimeout(c),c=setTimeout(i,1e3)},h=function(t){s(o,t),"keyup"!==C&&(y=e(t)),setTimeout(i,10)},d=0;d<w.length;++d)l(w[d],d<w.length-1?t:h,C,k,d)}else{for(x="+"===t?["+"]:t.split("+"),w=0;w<x.length;++w)g=x[w],f[g]&&(g=f[g]),h&&"keypress"!=h&&p[g]&&(g=p[g],_.push("shift")),r(g)&&_.push(g);h=a(g,_,h),m[g]||(m[g]=[]),n(g,_,h,!d,t),m[g][d?"unshift":"push"]({callback:o,modifiers:_,action:h,seq:d,level:u,combo:t})}}for(var h,c,d={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},p={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta","return":"enter",escape:"esc"},m={},g={},v={},y=!1,b=!1,x=1;20>x;++x)d[111+x]="f"+x;for(x=0;9>=x;++x)d[x+96]=x;return t(document,"keypress",o),t(document,"keydown",o),t(document,"keyup",o),{bind:function(t,e,i){for(var n=t instanceof Array?t:[t],s=0;s<n.length;++s)l(n[s],e,i);g[t+":"+i]=e},unbind:function(t,e){g[t+":"+e]&&(delete g[t+":"+e],this.bind(t,function(){},e))},trigger:function(t,e){g[t+":"+e]()},reset:function(){m={},g={}}}}(),
/*
 * jQuery File Upload Plugin 5.31.6
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):t(window.jQuery)}(function(t){"use strict";t.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:t(document),fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,i){return e=this.messages[e]||e.toString(),i&&t.each(i,function(t,i){e=e.replace("{"+t+"}",i)}),e},formData:function(t){return t.serializeArray()},add:function(e,i){(i.autoUpload||!1!==i.autoUpload&&t(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,i){var n=t-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(e-this.loaded)*(1e3/n)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var i;return"function"==typeof e.formData?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(i=[],t.each(e.formData,function(t,e){i.push({name:t,value:e})}),i):[]},_getTotal:function(e){var i=0;return t.each(e,function(t,e){i+=e.size||1}),i},_initProgressObject:function(e){var i={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,i):e._progress=i},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(t,e){if(t.lengthComputable){var i,n=Date.now?Date.now():(new Date).getTime();if(e._time&&e.progressInterval&&n-e._time<e.progressInterval&&t.loaded!==t.total)return;e._time=n,i=Math.floor(t.loaded/t.total*(e.chunkSize||e._progress.total))+(e.uploadedBytes||0),this._progress.loaded+=i-e._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,e.bitrateInterval),e._progress.loaded=e.loaded=i,e._progress.bitrate=e.bitrate=e._bitrateTimer.getBitrate(n,i,e.bitrateInterval),this._trigger("progress",t,e),this._trigger("progressall",t,this._progress)}},_initProgressListener:function(e){var i=this,n=e.xhr?e.xhr():t.ajaxSettings.xhr();n.upload&&(t(n.upload).bind("progress",function(t){var n=t.originalEvent;t.lengthComputable=n.lengthComputable,t.loaded=n.loaded,t.total=n.total,i._onProgress(t,e)}),e.xhr=function(){return n})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var i,n=this,s=e.files[0],o=e.multipart||!t.support.xhrFileUpload,r=e.paramName[0];e.headers=e.headers||{},e.contentRange&&(e.headers["Content-Range"]=e.contentRange),o&&!e.blob&&this._isInstanceOf("File",s)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(s.name)+'"'),o?t.support.xhrFormDataFileUpload&&(e.postMessage?(i=this._getFormData(e),e.blob?i.push({name:r,value:e.blob}):t.each(e.files,function(t,n){i.push({name:e.paramName[t]||r,value:n})})):(n._isInstanceOf("FormData",e.formData)?i=e.formData:(i=new FormData,t.each(this._getFormData(e),function(t,e){i.append(e.name,e.value)})),e.blob?i.append(r,e.blob,s.name):t.each(e.files,function(t,s){(n._isInstanceOf("File",s)||n._isInstanceOf("Blob",s))&&i.append(e.paramName[t]||r,s,s.name)})),e.data=i):(e.contentType=s.type,e.data=e.blob||s),e.blob=null},_initIframeSettings:function(e){var i=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&i&&i!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var i=t(e.fileInput),n=e.paramName;return n?t.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var e=t(this),i=e.prop("name")||"files[]",s=(e.prop("files")||[1]).length;s;)n.push(i),s-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var i=t.extend({},this.options,e);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,i,n){var s=t.Deferred(),o=s.promise();return i=i||this.options.context||o,!0===e?s.resolveWith(i,n):!1===e&&s.rejectWith(i,n),o.abort=s.promise,this._enhancePromise(o)},_addConvenienceMethods:function(e,i){var n=this,s=function(e){return t.Deferred().resolveWith(n,[e]).promise()};i.process=function(t,e){return(t||e)&&(i._processQueue=this._processQueue=(this._processQueue||s(this)).pipe(t,e)),this._processQueue||s(this)},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=!1!==n._trigger("submit",e,this)&&n._onSend(e,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():n._getXHRPromise()},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),i=e&&e.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(e,i){e.uploadedBytes=e.uploadedBytes||0;var n,s,o=this,r=e.files[0],a=r.size,l=e.uploadedBytes,h=e.maxChunkSize||a,c=this._blobSlice,d=t.Deferred(),u=d.promise();return!(!(this._isXHRUpload(e)&&c&&(l||h<a))||e.data)&&(!!i||(l>=a?(r.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",r.error])):(s=function(){var i=t.extend({},e),u=i._progress.loaded;i.blob=c.call(r,l,l+h,r.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+a,o._initXHRData(i),o._initProgressListener(i),n=(!1!==o._trigger("chunksend",null,i)&&t.ajax(i)||o._getXHRPromise(!1,i.context)).done(function(n,r,h){l=o._getUploadedBytes(h)||l+i.chunkSize,u+i.chunkSize-i._progress.loaded&&o._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),e.uploadedBytes=i.uploadedBytes=l,i.result=n,i.textStatus=r,i.jqXHR=h,o._trigger("chunkdone",null,i),o._trigger("chunkalways",null,i),l<a?s():d.resolveWith(i.context,[n,r,h])}).fail(function(t,e,n){i.jqXHR=t,i.textStatus=e,i.errorThrown=n,o._trigger("chunkfail",null,i),o._trigger("chunkalways",null,i),d.rejectWith(i.context,[t,e,n])})},this._enhancePromise(u),u.abort=function(){return n.abort()},s(),u)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,i,n,s){var o=s._progress.total,r=s._response;s._progress.loaded<o&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:o,total:o}),s),r.result=s.result=e,r.textStatus=s.textStatus=i,r.jqXHR=s.jqXHR=n,this._trigger("done",null,s)},_onFail:function(t,e,i,n){var s=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),s.jqXHR=n.jqXHR=t,s.textStatus=n.textStatus=e,s.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(t,e,i,n){this._trigger("always",null,n)},_onSend:function(e,i){i.submit||this._addConvenienceMethods(e,i);var n,s,o,r,a=this,l=a._getAJAXSettings(i),h=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,n=n||((s||!1===a._trigger("send",e,l))&&a._getXHRPromise(!1,l.context,s)||a._chunkedUpload(l)||t.ajax(l)).done(function(t,e,i){a._onDone(t,e,i,l)}).fail(function(t,e,i){a._onFail(t,e,i,l)}).always(function(t,e,i){if(a._onAlways(t,e,i,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var n=a._slots.shift();n;){if("pending"===a._getDeferredState(n)){n.resolve();break}n=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=t.Deferred(),this._slots.push(o),r=o.pipe(h)):(this._sequence=this._sequence.pipe(h,h),r=this._sequence),r.abort=function(){return s=[undefined,"abort","abort"],n?n.abort():(o&&o.rejectWith(l.context,s),h())},this._enhancePromise(r)):h()},_onAdd:function(e,i){var n,s,o,r,a=this,l=!0,h=t.extend({},this.options,i),c=h.limitMultiFileUploads,d=this._getParamName(h);if((h.singleFileUploads||c)&&this._isXHRUpload(h))if(!h.singleFileUploads&&c)for(o=[],n=[],r=0;r<i.files.length;r+=c)o.push(i.files.slice(r,r+c)),(s=d.slice(r,r+c)).length||(s=d),n.push(s);else n=d;else o=[i.files],n=[d];return i.originalFiles=i.files,t.each(o||i.files,function(s,r){var h=t.extend({},i);return h.files=o?r:[r],h.paramName=n[s],a._initResponseObject(h),a._initProgressObject(h),a._addConvenienceMethods(e,h),l=a._trigger("add",e,h)}),l},_replaceFileInput:function(e){var i=e.clone(!0);t("<form></form>").append(i)[0].reset(),e.after(i).detach(),t.cleanData(e.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,n){return n===e[0]?i[0]:n}),e[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,i){var n=this,s=t.Deferred(),o=function(t){t&&!t.entry&&(t.entry=e),s.resolve([t])};return i=i||"",e.isFile?e._file?(e._file.relativePath=i,s.resolve(e._file)):e.file(function(t){t.relativePath=i,s.resolve(t)},o):e.isDirectory?e.createReader().readEntries(function(t){n._handleFileTreeEntries(t,i+e.name+"/").done(function(t){s.resolve(t)}).fail(o)},o):s.resolve([]),s.promise()},_handleFileTreeEntries:function(e,i){var n=this;return t.when.apply(t,t.map(e,function(t){return n._handleFileTreeEntry(t,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var i=(e=e||{}).items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(t.map(i,function(t){var e;return t.webkitGetAsEntry?((e=t.webkitGetAsEntry())&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var i,n,s=(e=t(e)).prop("webkitEntries")||e.prop("entries");if(s&&s.length)return this._handleFileTreeEntries(s);if((i=t.makeArray(e.prop("files"))).length)i[0].name===undefined&&i[0].fileName&&t.each(i,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(!(n=e.prop("value")))return t.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return t.Deferred().resolve(i).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var i=this,n={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(n.fileInput).always(function(t){n.files=t,i.options.replaceFileInput&&i._replaceFileInput(n.fileInput),!1!==i._trigger("change",e,n)&&i._onAdd(e,n)})},_onPaste:function(e){var i=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,n={files:[]};if(i&&i.length&&(t.each(i,function(t,e){var i=e.getAsFile&&e.getAsFile();i&&n.files.push(i)}),!1===this._trigger("paste",e,n)||!1===this._onAdd(e,n)))return!1},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var e=this,i=t.dataTransfer,n={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always(function(i){n.files=i,!1!==e._trigger("drop",t,n)&&e._onAdd(t,n)}))},_onDragOver:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var i=e.dataTransfer;if(i){if(!1===this._trigger("dragover",e))return!1;-1!==t.inArray("Files",i.types)&&(i.dropEffect="copy",e.preventDefault())}},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,i){var n=-1!==t.inArray(e,this._specialOptions);n&&this._destroyEventHandlers(),this._super(e,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;e.fileInput===undefined?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),i=e.pop();return e.shift(),new RegExp(e.join("/"),i)},_isRegExpOption:function(e,i){return"url"!==e&&"string"===t.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var e=this,i=this.options;t.each(t(this.element[0].cloneNode(!1)).data(),function(t,n){e._isRegExpOption(t,n)&&(n=e._getRegExp(n)),i[t]=n})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var i=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,i._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var i,n,s=this,o=t.Deferred(),r=o.promise();return r.abort=function(){return n=!0,i?i.abort():(o.reject(null,"abort","abort"),r)},this._getFileInputFiles(e.fileInput).always(function(t){n||(e.files=t,i=s._onSend(null,e).then(function(t,e,i){o.resolve(t,e,i)},function(t,e,i){o.reject(t,e,i)}))}),this._enhancePromise(r)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),
/*!
 Autosize v1.17.1 - 2013-06-23
 Automatically adjust textarea height based on user input.
 (c) 2013 Jack Moore - http://www.jacklmoore.com/autosize
 license: http://www.opensource.org/licenses/mit-license.php
 */
function(t){var e,i={className:"autosizejs",append:"",callback:!1,resizeDelay:10},n=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],s=t('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];s.style.lineHeight="99px","99px"===t(s).css("lineHeight")&&n.push("lineHeight"),s.style.lineHeight="",t.fn.autosize=function(o){return o=t.extend({},i,o||{}),s.parentNode!==document.body&&t(document.body).append(s),this.each(function(){function i(){var i={};if(e=d,s.className=o.className,l=parseInt(u.css("maxHeight"),10),t.each(n,function(t,e){i[e]=u.css(e)}),t(s).css(i),"oninput"in d){var r=d.style.width;d.style.width="0px",d.offsetWidth,d.style.width=r}}function r(){var n,r,a,c;e!==d&&i(),s.value=d.value+o.append,s.style.overflowY=d.style.overflowY,r=parseInt(d.style.height,10),"getComputedStyle"in window?(c=window.getComputedStyle(d),a=d.getBoundingClientRect().width,t.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(t,e){a-=parseInt(c[e],10)}),s.style.width=a+"px"):s.style.width=Math.max(u.width(),0)+"px",s.scrollTop=0,s.scrollTop=9e4,n=s.scrollTop,l&&n>l?(d.style.overflowY="scroll",n=l):(d.style.overflowY="hidden",n<h&&(n=h)),r!==(n+=p)&&(d.style.height=n+"px",f&&o.callback.call(d,d))}function a(){clearTimeout(c),c=setTimeout(function(){u.width()!==g&&r()},parseInt(o.resizeDelay,10))}var l,h,c,d=this,u=t(d),p=0,f=t.isFunction(o.callback),m={height:d.style.height,overflow:d.style.overflow,overflowY:d.style.overflowY,wordWrap:d.style.wordWrap,resize:d.style.resize},g=u.width();u.data("autosize")||(u.data("autosize",!0),"border-box"!==u.css("box-sizing")&&"border-box"!==u.css("-moz-box-sizing")&&"border-box"!==u.css("-webkit-box-sizing")||(p=u.outerHeight()-u.height()),h=Math.max(parseInt(u.css("minHeight"),10)-p||0,u.height()),u.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===u.css("resize")||"vertical"===u.css("resize")?"none":"horizontal"}),"onpropertychange"in d?"oninput"in d?u.on("input.autosize keyup.autosize",r):u.on("propertychange.autosize",function(){"value"===event.propertyName&&r()}):u.on("input.autosize",r),!1!==o.resizeDelay&&t(window).on("resize.autosize",a),u.on("autosize.resize",r),u.on("autosize.resizeIncludeStyle",function(){e=null,r()}),u.on("autosize.destroy",function(){e=null,clearTimeout(c),t(window).off("resize",a),u.off("autosize").off(".autosize").css(m).removeData("autosize")}),r())})}}(window.jQuery||window.Zepto),function(){this.TreeCommentReactions={fetching:[],verifyReactions:["+1","-1","smile","tada","confused","heart","rocket","eyes"],reactNote:function(t){var e,i,n,s;if(e=t.closest(".content.arrow_box").find(".reactions-popup"),s=t.attr("alt")||t.attr("text"),i=e.data("id"),-1!==this.verifyReactions.indexOf(s)&&(n=e.data("path")))return t.hasClass("label")&&(t=e.find('.ui.image[alt="'+s+'"]')),t.hasClass("active")?this.removeReaction(n,s,i,t):this.addReaction(n,s,i,t)},addReaction:function(t,e,i){var n;if(!((n=this).fetching.indexOf(i)>-1))return n.fetching.push(i),$.post(t,{text:e,note_id:i}).done(function(t){var s;if(0===t.status)return n.fetching.splice(n.fetching.indexOf(i),1),(s=$("[data-note-id="+i+"]").find(".content.arrow_box:first")).find(".reactions-popup .ui.image[alt='"+t.data.text+"']").addClass("active").attr("reactions-id",t.data.id),s.find(".reactions-list").each(function(i,n){var s,o,r;return(s=(r=$(n)).find('.ui.label[text="'+e+'"]')).length>0?((o=s.find(".reactions-count")).text(+o.text()+1),s.addClass("active")):r.append('<div class="ui label active" text="'+e+'" reactions-id="'+t.data.id+'">\n  <img alt="'+e+'" class="ui image" src="/assets/emoji/'+e+'.png">\n  <span class="reactions-count">1</span>\n</div>')})})},removeReaction:function(t,e,i,n){var s,o;if(o=this,(s=n.attr("reactions-id"))&&!(o.fetching.indexOf(i)>-1))return o.fetching.push(i),$.ajax({url:t+"/"+s,type:"DELETE",datatype:"json",success:function(t){var n;if(0===t.status)return o.fetching.splice(o.fetching.indexOf(i),1),(n=$("[data-note-id="+i+"]").find(".content.arrow_box:first")).find(".reactions-popup .ui.image[reactions-id='"+s+"']").removeClass("active").removeAttr("reactions-id"),n.find(".reactions-list").each(function(t,i){var n,s,o;if((n=$(i).find('.ui.label[text="'+e+'"]')).length>0)return(o=+(s=n.find(".reactions-count")).text())>1?(s.text(o-1),n.removeClass("active")):n.remove()})}})}}}.call(this),function(){this.Notes={init:function(){return Notes.setupMainTargetNoteForm(),Notes.bindDiffLineEvent(),$(document).on("click",".js-add-diff-note-button",Notes.addDiffNote),$(document).on("click",".js-discussion-reply-button",Notes.replyToDiscussionNote),$(document).on("click",".js-close-discussion-note-form",Notes.closeNoteForm),$(document).on("click",".js-note-edit",Notes.editNote),$(document).on("click",".js-note-reply",Notes.replyNote),$(document).on("click",".js-note-delete",Notes.removeNote),$(document).on("click",".reactions-popup .ui.image, .reactions-list .ui.label",Notes.reactNote),$(document).on("click",".js-main-target-form .js-comment-button",Notes.disableMainTargetForm),$(document).on("ajax:complete",".js-main-target-form",Notes.resetMainTargetForm),$(document).on("click",".js-show-outdated-discussion",function(t){return $(this).next(".outdated-discussion").show(),t.preventDefault()}),$(document).on("click",".js-comment-button",function(){var t;return t=$(this).closest("form"),0===$(".except-editor-textarea").length&&Notes.replaceUserName(t),Notes.bindDiffLineEvent()})},replaceUserName:function(t){var e,i,n,s,o;if(0===(e=t.find("textarea.md-input")).length&&(e=$("#editor_comment")),s=e.data("users"),i=e.val(),!jQuery.isEmptyObject(s)){for(n in o={},Object.keys(s).forEach(function(t){return o[t]=s[t]}),o)Notes.resetKey(o,n,"@"+n);Object.keys(o).map(function(t){return o[t]="@"+o[t]}),i=Notes.replaceAllName(i,o)}return e.val(i)},disableMainTargetForm:function(){return $(".js-comment-button").addClass("disabled"),$("#comment-loadder #loadding-state").addClass("active").removeClass("disabled")},initCommentForm:function(t){var e;return t.find(".js-comment-text").autosize(),function(i){return t.find(".js-drag-drop > .text").hide(),t.find(".js-drag-drop > .uploading").hide(),t.find(".js-drag-drop > .error").text(i).show(),setTimeout(e,3e3)},e=function(){return t.find(".js-drag-drop > .error").hide(),t.find(".js-drag-drop > .text").show()}},setupMainTargetNoteForm:function(){var t;return t=$(".js-new-note-form"),Notes.setupNoteForm(t)},bindDiffLineEvent:function(){return $(".class-for-pre-line").closest("tr").prev().addClass("has-comments"),$(".has-comments").attr("title","\u5c55\u5f00\u6216\u5173\u95ed\u4ee3\u7801\u8bc4\u8bba").off("click").on("click",".line_content",function(){var t,e;return(e=$(this).parent().next()).hasClass("js-temp-notes-holder")&&(t=e,(e=e.next()).is(":visible")===t.is(":visible")&&Notes.toggleNotesVisible(t)),Notes.toggleNotesVisible(e)})},toggleNotesVisible:function(t){return t.transition({animation:"fade down",onShow:function(){return t.attr("style","display: table-row !important;").removeClass("transition").prev().removeClass("hide-comments")},onHide:function(){return t.attr("style","").prev().addClass("hide-comments"),t.each(function(){var t,e;return $(this).find(".notes_line .count").length>1?(t=parseInt($(this).find(".notes_line .count").first().text()),e=parseInt($(this).find(".notes_line .count").last().text()),$(this).prev().find(".js-diff-notes-count").first().text(t),$(this).prev().find(".js-diff-notes-count").last().text(e)):$(this).prev().find(".js-diff-notes-count").text($(this).find(".notes_line .count").text())})}})},setupNoteForm:function(t){return disableButtonIfEmptyField(t.find(".js-comment-text"),t.find(".js-comment-button")),t.removeClass("js-new-note-form"),Notes.initCommentForm(t.find(".js-comment-form")),t.find(".js-comment-text").on("keydown",function(t){if((t.metaKey||t.ctrlKey)&&13===t.keyCode&&""!==$(this).val())return $(t.target).closest("form").submit()}),"Commit"!==t.find("#note_noteable_type").val()&&t.find(".js-notify-commit-author").remove(),GitLab.GfmAutoComplete.setup(),t.show()},setupCloneNoteForm:function(t,e){var i;return i=t.find(".js-comment-button"),t.find(".js-comment-text").focus(),t.find("textarea").val(""),e.on("keyup",function(){e.val().length>0?(i.removeClass("disabled"),i.removeAttr("disabled")):(i.addClass("disabled"),i.attr("disabled","disabled"))}),i.addClass("disabled"),i.attr("disabled","disabled"),t.on("submit",function(){return 0===$.trim(t.find("textarea").val()).length?(alert("\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a!"),!1):(i.addClass("disabled"),i.attr("disabled","disabled"),t.find(".js-close-discussion-note-form").addClass("disabled"),t.find(".js-close-discussion-note-form").attr("disabled","disabled"),t.find("textarea").prop("readonly",!0))})},setupDiscussionNoteForm:function(t,e){return e.find("form").attr("rel",t.data("discussionId")),e.find("#note_commit_id").val(t.data("commitId")),e.find("#note_line_code").val(t.data("lineCode")),e.find("#note_noteable_type").val(t.data("noteableType")),e.find("#note_noteable_id").val(t.data("noteableId")),""===e.find("#line_position").val()&&e.find("#line_position").val(t.data("linePosition")),Notes.setupNoteForm(e)},closeNoteForm:function(){var t,e,i;return(t=(e=$(this).closest("form")).parents(".form-with-gravatar")).prev(".js-discussion-reply-button").css("display","inline-block"),t.prev().prev(".avatar").css("display","inline-block"),e.prev(".note-content").show(),$(this).parent().parent().parent().find(".actions").show().next(".reactions-list").show(),i=e.closest("tr"),t.remove(),i.is(".js-temp-notes-holder")&&0===i.find(".form-with-gravatar").length?i.remove():(t.remove(),e.remove())},editNote:function(t){var e,i,n,s;if(t.preventDefault(),!(e=$(this).parents(".comment")).data("loading"))return s=e.closest(".note"),(n=s.find(".edit_note")).length>0?(n.find(".write-content").addClass("focused"),void n.find(".md-input").focus()):(i=e.find(".ui.dimmer").addClass("active"),e.data("loading",!0),$(this).parent().parent().hide().next(".reactions-list").hide(),$.get($(this).attr("href"),function(t){return s.find(".note-content").hide(),$(t).insertAfter(s.find(".note-content")),n=s.find(".edit_note"),Notes.setupNoteForm(n),Notes.resetMainTargetForm,e.data("loading",!1),i.removeClass("active")}))},replyNote:function(){var t,e,i,n,s,o,r;return e=(e=$(this).attr("describe")).split("\n").filter(function(t){return t&&0!==$.trim(t).length&&!$.trim(t).startsWith(">")}).map(function(t){return"> "+$.trim(t)}).join("\n"),0===(i=$(".common-note-form textarea.md-input")).length&&(i=$("#editor_comment")),(r=i.data("users"))||(r={}),n=$(this).attr("name"),o=$(this).attr("username"),n||(n=(t=$(this).parents(".comment.note").find("a[name]")).attr("name"),o=t.attr("username")),r[n]=o,s=e+"\n\n@"+n+" ",i.data("users",r),i.val(s)},setCount:function(t,e,i){var n,s;return n="",n=i?t.parent().parent().find(".notes_line."+i).find(".count"):t.parent().parent().find(".notes_line .count"),s=parseInt($.trim(n.text())),e?s++:s--,n.text(s)},setTotalCount:function(t){var e;return e=$.trim($("#total_count").text()),e=parseInt(e),t?e++:e--,$("#total_count").text(e)},reactNote:function(){return TreeCommentReactions.reactNote($(this))},removeNote:function(t){var e,i,n,s;if(t.preventDefault(),s=$(this),void 0===(n=$(t.target).attr("href"))&&(n=$(t.target).parent().attr("href")),confirm("\u786e\u5b9e\u8981\u5220\u9664\u6b64\u6761\u8bc4\u8bba?"))return e=$(t.target).parents(".comment.note"),i=e.find(".ui.dimmer").addClass("active"),e.parents(".ui.comments").trigger("delete.comments",[e.data("noteId")]),$.ajax({url:n,beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},type:"DELETE",success:function(){var t,e,i,n,o;return 1===(i=(e=s.closest(".note")).closest(".notes")).find(".note").length&&("parallel"===gon.diffsViewMode?((n=i.parent()).html($('<ul class="ui comments notes"></ul>')),(o=n.parent()).find(".comment.diff_note.note").length<1&&(o.prev().removeClass("has-comments"),o.remove())):(i.closest(".discussion").remove(),i.closest("tr").remove())),"parallel"===gon.diffsViewMode?(t=s.parent().closest(".notes_content").hasClass("left"),Notes.setCount(i,!1,t?"left":"right")):Notes.setCount(i,!1),Notes.setTotalCount(!1),e.remove(),Notes.updateVotes()},error:function(){return alert("\u53d1\u751f\u9519\u8bef,\u5220\u9664\u5931\u8d25"),i.removeClass("acitve")}})},resetMainTargetForm:function(){var t;return(t=$(this)).find(".js-errors").remove(),t.find(".js-comment-text").val("").trigger("input")},appendNewNote:function(t,e){var i,n;return(n=$(".common-note-form .md-input")).removeAttr("disabled").val(""),i=$(e),autosize.update(n),$("#loadding-state").removeClass("active").addClass("disabled"),gon.username&&i.find('.markdown-body[username="'+gon.username+'"] .task-list-item-checkbox').prop("disabled",!1),document.getElementById("note_"+t+"_content")||$("#notes-list").append(i),Notes.updateVotes(),$("[name='note[note]']").val(""),$(".markdown-body pre code").each(function(t,e){return hljs.highlightBlock(e)})},prependNewNote:function(t){var e;return(e=$(".common-note-form .md-input")).removeAttr("disabled").val(""),autosize.update(e),$("#loadding-state").removeClass("active").addClass("disabled"),$("#notes-list").prepend(t),Notes.updateVotes(),$("[name='note[note]']").val("")},appendNewParallelDiscussionNote:function(t,e,i,n){var s,o,r,a;return o=t.split("-")[3],0===$(".notes[rel='"+t+"']").length?((a=$("input[value='"+o+"']").parent().parent().parent().parent().parent()).find(".notes_content."+n).remove(),s=$(e),a.prev().is(".has-comments")?"left"===n?a.prepend(s.children()):a.append(s.children()):("left"===n?s.append('<td class="notes_content right" colspan="2"><ul class="ui comments notes" rel=""></ul></td>'):s.prepend('<td class="notes_content left" colspan="2"><ul class="ui comments notes" rel=""></ul></td>'),s.insertBefore(a.next())),Notes.setTotalCount(!0),void $(".js-temp-notes-holder").remove()):($(".js-temp-notes-holder").remove(),(r=$(".notes[rel='"+t+"']")).append(i),r.parent().find(".form-with-gravatar").find(".js-close-discussion-note-form").click(),r.find(".comment.note:last").addClass("diff_note"),Notes.setCount(r,!0,n),Notes.setTotalCount(!0))},appendNewDiscussionNote:function(t,e,i){var n,s,o;return n=t.split("-")[3],0===$(".notes[rel='"+t+"']").length?((o=$("input[value='"+n+"']")).parent().parent().parent().parent().parent().after(e),o.parent().parent().parent().parent().remove(),Notes.setTotalCount(!0),void $(".js-temp-notes-holder").remove()):($(".js-temp-notes-holder").remove(),(s=$(".notes[rel='"+t+"']")).append(i),s.parent().find(".form-with-gravatar").find(".js-close-discussion-note-form").click(),s.find(".comment.note:last").addClass("diff_note"),Notes.setCount(s,!0),Notes.setTotalCount(!0))},replyToDiscussionNote:function(){var t,e,i;if(0!==$(".form-with-gravatar").length)return i="parallel"===gon.diffsViewMode,$(".js-temp-notes-holder").remove(),$(this).parent().find(".new-reply-note").remove(),i&&$(this).prev().prev().prev().remove(),e="md-editor"===$(".form-with-gravatar").first().find("form").children("div").eq(1).attr("class")?$(".form-with-gravatar").last():$(".form-with-gravatar").first(),$(this).hide(),$(this).prev().hide(),(t=e.clone()).find(".js-comment-form").remove(),t.find(".js-close-discussion-note-form").css("display","inline-block"),t.find("#note_noteable_type").after("<textarea class='editor_comment' id='editor_comment' name='note[note]'></textarea>"),t.addClass("new-reply-note"),$(this).parent().append(t),$(".editor_comment").markdown({language:"zh",imgurl:"/upload",base64url:"/upload_with_base_64"}),Notes.dragFrom(t),Notes.setupDiscussionNoteForm($(this),$(this).parent().find(".common-note-form")),$(this).parent().find("#editor_comment").focus(),Notes.setupCloneNoteForm(t,t.find(".md-input"));Flash.show("\u8bc4\u8bba\u524d\u8bf7\u5148\u767b\u5f55\u6216\u6ce8\u518c\uff01")},addDiffNote:function(t){var e,i,n,s,o,r,a;if(t.preventDefault(),0!==(i="md-editor"===$(".form-with-gravatar").first().find("form").children("div").eq(1).attr("class")?$(".form-with-gravatar").last():$(".form-with-gravatar").first()).length){if(o=(r=$(this).closest("tr")).next(),n="parallel"===gon.diffsViewMode,s="left"===$(this).data("line-type"),(n||!(o.is(".js-temp-notes-holder")||o.find(".form-with-gravatar").length>0))&&!(n&&o.find(".notes_content."+$(this).data("line-type")).find(".form-with-gravatar").length>0))return o.is(".notes_holder")&&Notes.replyToDiscussionNote,n?o.is(".notes_holder")||(s?0:2,r.after('<tr class="notes_holder js-temp-notes-holder"></td><td class="notes_content left" colspan="2"></td><td class="notes_content right" colspan="2"></td></tr>')):r.after('<tr class="notes_holder js-temp-notes-holder"><td class="notes_content" colspan="4"></td></tr>'),e=i.clone(),n&&e.find("#line_position").val($(this).data("line-type")),e.find(".js-close-discussion-note-form").css("display","inline-block"),e.find(".js-comment-form").remove(),e.find("#note_noteable_type").after("<textarea class='editor_diff' id='editor_diff' name='note[note]'></textarea>"),n?(a=$(this).data("line-type"),0===r.next().find(".notes_content."+a).find(".default-reply-button").length?r.next().find(".notes_content."+a).append(e):r.next().find(".notes_content."+a).find(".default-reply-button").append(e),r.next().find(".notes_content."+a).find(".js-discussion-reply-button").hide(),r.next().find(".notes_content."+a).find(".js-discussion-reply-button").prev().hide()):r.next().find(".notes_content").append(e),$(".editor_diff").markdown({language:"zh",imgurl:"/upload",base64url:"/upload_with_base_64"}),e.find(".md-input").val(""),Notes.dragFrom(e),Notes.setupDiscussionNoteForm($(this),e.find(".common-note-form")),Notes.setupCloneNoteForm(e,e.find(".md-input")),r.next().find("#editor_diff").focus()}else Flash.show("\u8bc4\u8bba\u524d\u8bf7\u5148\u767b\u5f55\u6216\u6ce8\u518c\uff01")},updateVotes:function(){var t,e,i,n,s,o,r;if(o=$("#votes .votes"),i=$("#notes-list .note .vote"),o.size())return s=(r=(n=i.filter(".upvote").size())+(t=i.filter(".downvote").size()))?100/r*n:0,e=r?100-s:0,o.find(".bar-success").css("width",s+"%"),o.find(".bar-danger").css("width",e+"%"),o.find(".upvotes").text(o.find(".upvotes").text().replace(/\d+/,n)),o.find(".downvotes").text(o.find(".downvotes").text().replace(/\d+/,t))},dragFrom:function(t){return t.find(".md-input").bind("drop",function(e){var i,n,s,o;if(e.preventDefault(),e.stopPropagation(),0!==(n=e.originalEvent.dataTransfer.files).length)return-1!==n[0].type.indexOf("text")?n[0].size>102400?void alert("\u6587\u672c\u6587\u4ef6\u4e0d\u80fd\u8d85\u8fc7100k"):((s=new FileReader).onload=function(e){var i,n,s;return n=e.target.result,s=t.find(".md-input").val(),t.find(".md-input").val(s+n),i=jQuery.Event("keyup",{which:39}),t.find(".md-input").trigger(i)},s.readAsText(n[0]),!1):void(-1!==n[0].type.indexOf("image")?n[0].size>2097152?Flash.show("\u4e0a\u4f20\u56fe\u7247\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7 2MB"):($.browser.safari?img.src=window.webkitURL.createObjectURL(n[0]):$.browser.mozilla?img.src=window.URL.createObjectURL(n[0]):((s=new FileReader).onload=function(){t.find(".md-input").parents().eq(3).find(".small.loader").show()},s.readAsDataURL(n[0])),(o=new XMLHttpRequest).open("post","/upload",!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.upload.addEventListener("progress",function(t){t.lengthComputable&&Math.ceil(t.loaded/t.total*100)},!1),o.addEventListener("load",function(e){var i,n,s;t.find(".md-input").parents().eq(3).find(".small.loader").hide(),(n=$.parseJSON(e.target.response)).success?(s=t.find(".md-input").val(),s+="![\u8f93\u5165\u56fe\u7247\u8bf4\u660e]("+n.files[0].url+' "\u5728\u8fd9\u91cc\u8f93\u5165\u56fe\u7247\u6807\u9898")',t.find(".md-input").val(s),i=jQuery.Event("keyup",{which:39}),t.find(".md-input").trigger(i)):Flash.show(n.msg)},!1),o.setRequestHeader("Cache-Control","no-cache"),o.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content")),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),(i=new FormData).append("files",n[0]),o.send(i)):Flash.show("\u65e0\u6cd5\u4e0a\u4f20\u975e\u56fe\u7247"))})},replaceAllName:function(t,e){var i,n;return i=Object.keys(e).map(function(t){return"("+(t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))+" )|("+t+"$)"}),n=new RegExp(i.join("|"),"g"),t.replace(n,function(t){return e[t.trim()]+" "})},resetKey:function(t,e,i){var n;return n=t[e],t[i]=n,delete t[e]}}}.call(this),function(){var t;window.Gitee.initPullRequestsPage=function(){var t,e,i;return i=$(".git-pull-requests-panel"),t=$("#git-pull-requests-filters"),i.find(".ui.dropdown.searchable").dropdown({fullTextSearch:!0,selectOnKeydown:!1,onChange:function(){return t.submit()}}),i.find(".ui.dropdown:not(.searchable)").dropdown({selectOnKeydown:!1,onChange:function(){return t.submit()}}),(e=$("#git-pull-requests-search")).find(".iconfont.icon-close").on("click",function(){return $(this).parent().remove()}),e.find(".keywords").on({focus:function(){return $(this).parents(".search-input-group").addClass("active")},blur:function(){return $(this).parents(".search-input-group").removeClass("active")}})},t=function(){function t(t){var e;this.opts=t,this.$el=$(".pull-request"),this.diffs_loaded=!1,this.commits_loaded=!1,this.labels=[],this.editing=!1,Gitee.initCommentUpdater({fetchUrl:this.opts.comments_url,username:this.opts.username}),this.activateTab(this.opts.action),this.bindEvents(),this.initUpdater(),this.initMergeWidget(),this.$(".show-all-commits").on("click",(e=this,function(){return e.showAllCommits()}))}return t.prototype.$=function(t){return this.$el.find(t)},t.prototype.initUpdater=function(){var t;return t=this,setTimeout(function(){return t.fetchLabels()},Gitee.getProjectResourceRequestInterval())},t.prototype.fetchLabels=function(){var t;return t=this,$.getJSON(this.opts.labels_url).done(function(e){return t.updateLabels(e)}).always(function(){return setTimeout(function(){return t.fetchLabels()},Gitee.getProjectResourceRequestInterval())})},t.prototype.updateLabels=function(t){var e,i,n,s,o,r,a,l,h;if(o=t.map(function(t){return t.id}),l=this.labels.map(function(t){return t.id}),!this.editing&&l.join(",")!==o.join(",")){if(Gitee.prSidebar){for(i=0,r=(h=this.labels).length;i<r;i++)s=h[i],-1===o.indexOf(s.id)&&Gitee.prSidebar.removeLabel(s.id);for(n=0,a=t.length;n<a;n++)s=t[n],-1===l.indexOf(s.id)&&Gitee.prSidebar.appendLabel({id:s.id,name:s.name,color:"#"+s.color})}return this.labels=t,e=this.labels.map(function(t){return'<div class="ui label text-white" style="background-color: #'+t.color+'">'+t.name+"</div>"}).join(""),$("#git-pr-labels").html('<div class="issue-labels d-inline-block">'+e+"</div>")}},t.prototype.initMergeWidget=function(){var t;if(this.showState(this.opts.current_status),$(".automerge_widget").length&&this.opts.check_enable&&$.get(this.opts.url_to_automerge_check,(t=this,function(e){return t.showState(e.merge_status)}),"json"),this.opts.ci_enable)return $.get(this.opts.url_to_ci_check,function(t){return function(e){return t.showCiState(e.status)}}(this),"json")},t.prototype.bindEvents=function(){var t,e,i,n;return i=this,t=this.$(".comment-content"),e=this.$(".pull-request-edit"),$("#btn-pr-download").dropdown(),$("#btn-pr-edit").on("click",function(){var n;return n=e.find('textarea[name="pull_request[body]"]').val(),e.find(".md-input").val(n),e.show(),t.hide(),i.editing=!0}),e.on("click",".btn-cancel",function(){return e.hide(),t.show(),i.editing=!1}),this.$("#pull-tabs").on("click","a",function(t){var e;return e=$(t.currentTarget).attr("href"),window.history.replaceState({path:e},document.title,e),t.preventDefault()}),this.$("#pull-tabs").on("click","li",(n=this,function(t){return n.activateTab($(t.currentTarget).data("action"))})),$(".accept_pull_request").on("click",function(){return $(".automerge_widget.can_be_merged").hide(),$(".merge-in-progress").show()}),this.$(".pull-right").on("click","a.js-edit",function(t){return $(".issue-content .comment-content").hide(),$(".issue-content .form-content").show(),$("#pull_request_body").focus(),t.preventDefault()}),this.$(".form-actions").on("click","a.btn-cancel",function(t){return $(".issue-content .comment-content").show(),$(".issue-content .form-content").hide(),t.preventDefault()})},t.prototype.activateTab=function(t){return this.$("#pull-tabs li").removeClass("active").each(function(){if($(this).data("action")===t)return $(this).addClass("active")}),this.$("#"+t).show().siblings(".tab-pane").hide()},t.prototype.showState=function(t){return $(".automerge_widget").hide(),$(".automerge_widget."+t).show()},t.prototype.showCiState=function(t){return $(".ci_widget").hide(),$(".ci_widget.ci-"+t).show()},t.prototype.loadDiff=function(){return $.ajax({type:"GET",url:this.$(".nav-tabs .diffs-tab a").attr("href"),beforeSend:(t=this,function(){return t.$(".status").addClass("loading")}),complete:function(t){return function(){return t.diffs_loaded=!0,t.$(".status").removeClass("loading")}}(this),dataType:"script"});var t},t.prototype.showAllCommits=function(){return this.$(".first-commits").remove(),this.$(".all-commits").removeClass("hide")},t.prototype.alreadyOrCannotBeMerged=function(){return $(".automerge_widget").hide(),$(".merge-in-progress").hide(),$(".automerge_widget.already_cannot_be_merged").show()},t}(),window.Gitee.PullRequest=t}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=function(e,i){i=i||t(e.imageBox);var n={state:{},ratio:e.ratio||1,options:e,imageBox:i,thumbBox:i.find(e.thumbBox),spinner:i.find(e.spinner),image:new Image,getDataURL:function(){var t=this.thumbBox.width(),e=this.thumbBox.height(),n=document.createElement("canvas"),s=i.css("background-position").split(" "),o=i.css("background-size").split(" "),r=parseInt(s[0])-i.width()/2+t/2,a=parseInt(s[1])-i.height()/2+e/2,l=parseInt(o[0]),h=parseInt(o[1]),c=parseInt(this.image.height),d=parseInt(this.image.width);return n.width=t,n.height=e,n.getContext("2d").drawImage(this.image,0,0,d,c,r,a,l,h),n.toDataURL("image/png")},getBlob:function(){for(var t=this.getDataURL().replace("data:image/png;base64,",""),e=atob(t),i=[],n=0;n<e.length;n++)i.push(e.charCodeAt(n));return new Blob([new Uint8Array(i)],{type:"image/png"})},zoomIn:function(){this.ratio*=1.1,s()},zoomOut:function(){this.ratio*=.9,s()}},s=function(){var t=parseInt(n.image.width)*n.ratio,e=parseInt(n.image.height)*n.ratio,s=(i.width()-t)/2,o=(i.height()-e)/2;i.css({"background-image":"url("+n.image.src+")","background-size":t+"px "+e+"px","background-position":s+"px "+o+"px","background-repeat":"no-repeat"})},o=function(t){t.stopImmediatePropagation(),n.state.dragable=!0,n.state.mouseX=t.clientX,n.state.mouseY=t.clientY},r=function(t){if(t.stopImmediatePropagation(),n.state.dragable){var e=t.clientX-n.state.mouseX,s=t.clientY-n.state.mouseY,o=i.css("background-position").split(" "),r=e+parseInt(o[0]),a=s+parseInt(o[1]);i.css("background-position",r+"px "+a+"px"),n.state.mouseX=t.clientX,n.state.mouseY=t.clientY}},a=function(t){t.stopImmediatePropagation(),n.state.dragable=!1},l=function(t){t.originalEvent.wheelDelta>0||t.originalEvent.detail<0?n.ratio*=1.1:n.ratio*=.9,s()};return n.spinner.show(),n.image.onload=function(){n.spinner.hide(),s(),i.bind("mousedown",o),i.bind("mousemove",r),t(window).bind("mouseup",a),i.bind("mousewheel DOMMouseScroll",l)},n.image.src=e.imgSrc,i.on("remove",function(){t(window).unbind("mouseup",a)}),n};jQuery.fn.cropbox=function(t){return new e(t,this)}}),function(){this.Issues={params:{program_id:null,assignee_id:null,author_id:null,branch:null,issue_search:null,label_name:null,milestone_id:null,scope:null,state:null,user_query:null,user_role:null,user_page:null,sort:null},issueCount:0,noAssignmentCount:0,init:function(t,e,i){var n;return n=this,Object.keys(t).forEach(function(e){if(e in n.params)return n.params[e]=t[e]}),this.issueCount=e,this.noAssignmentCount=i,Issues.initSearch(),Issues.initSelects(),Issues.initChecks(),$("body").on("ajax:success",".close_issue, .reopen_issue",function(){var t,e,i;return e=$(this),i=void 0,t=e.hasClass("reopen_issue"),$(".issue_counter").each(function(){var e;return e=$(this),i=parseInt($(this).html(),10),t&&e.closest(".main_menu").length?$(this).html(i+1):$(this).html(i-1)})})},reload:function(){return Issues.initSelects(),Issues.initChecks(),$("#filter_issue_search").val($("#issue_search").val())},getUsers:function(t,e,i,n){var s,o;return o=this,s="<span class='no-result item'>\u672a\u627e\u5230\u7ed3\u679c</span>",i.user_role="author_id"===e?"author":"assignee",$.ajax({url:gon.user_statistics_path,dataType:"json",data:i}).done(function(r){var a,l,h,c,d,u,p;if(t.find(".dimmer.inverted").removeClass("active"),r.users.length){for(h="","assignee_id"!==e||i.user_query||(n[e]=0,h="<a href='?"+(l=$.param(n))+"' class='item' title='\u672a\u6307\u6d3e' > <div class='text'> \u672a\u6307\u6d3e </div> <div class='ui label'> "+(o.noAssignmentCount||0)+" / "+(o.issueCount||0)+" </div> </a>"),c=0,d=(u=r.users).length;c<d;c++)p=u[c],n[e]=p.id,l=$.param(n),a="",a=new RegExp("no_portrait.png").test(p.avatar_url)?window.LetterAvatar(p.name):p.avatar_url,h+="<a href='?"+l+"' class='item' title='"+p.name+"' > <div class='text user-info-wrap'> <img alt='"+p.name+"' class='ui avatar image' src='"+a+"'> <span class='name'>"+p.name+"</span> </div> <div class='ui label'> "+(p.issue_count||0)+" / "+(o.issueCount||0)+" </div> </a>";return t.find(".scrolling.menu").html(h)}t.find(".scrolling.menu").html(s)})},initSelects:function(){var t,e,i,n,s,o;return s={},t=$("#git-issues-filters"),o=this,t.find(".ui.searchable.dropdown").dropdown({fullTextSearch:!0,action:"nothing",onShow:function(){var t,e,i,n;if(t=$(this),i=t.data("key"),!s[i])return s[i]=!0,t.find(".input input").on("input",window.globalUtils.debouce(function(){var e,n;return(n=$.extend({},o.params)).user_query=t.find(".input input")[0].value,e=$.extend({},o.params),o.getUsers(t,i,n,e)},500)),n=o.params,e=$.extend({},o.params),o.getUsers(t,i,n,e)}}),t.find(".ui.dropdown:not(.searchable)").dropdown({action:"nothing",onChange:function(){return t.submit()}}),(n=(i=t.find(".git-order-dropdown")).data("value"))&&i.find('.item[data-value="'+n+'"]').addClass("selected"),(e=$("#git-issues-bulk-update")).find(".ui.dropdown").dropdown(),e.find(".ui.users.dropdown").dropdown({fullTextSearch:!0})},initChecks:function(){var t;return(t=$("#git-issues .issue-checkbox .ui.checkbox")).checkbox({onChange:Issues.checkChanged}),$(".git-issues-panel .panel-header .ui.checkbox.checkall").checkbox({onChecked:function(){return t.checkbox("check")},onUnchecked:function(){return t.checkbox("uncheck")}})},initSearch:function(){var t;return(t=$("#git-issues-search")).find(".icon-close").on("click",function(){return $(this).parent().remove()}),t.find(".keywords").on({focus:function(){return $(this).parents(".search-input-group").addClass("active")},blur:function(){return $(this).parents(".search-input-group").removeClass("active")}})},checkChanged:function(){var t,e,i,n;return t=$("#git-issues .issue-checkbox .ui.checkbox").find("input:checked"),i=$(".git-issues-panel .settings-wrapper"),e=$(".git-issues-panel .filters-wrapper"),t.length>0?(n=[],$.each(t,function(t,e){return n.push($(e).attr("data-id"))}),$("#update_issues_ids").val(n),i.find(".issues-count").text(n.length),i.show(),e.hide()):($("#update_issues_ids").val([]),i.hide(),e.show())}}}.call(this),
// │ Copyright © 2008-2012 Dmitry Baranovskiy (http://raphaeljs.com)    │ \\
// │ Copyright © 2008-2012 Sencha Labs (http://sencha.com)              │ \\
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
function(t){var e,i,n="0.4.2",s="hasOwnProperty",o=/[\.\/]/,r="*",a=function(){},l=function(t,e){return t-e},h={n:{}},c=function(t,n){t=String(t);var s,o=i,r=Array.prototype.slice.call(arguments,2),a=c.listeners(t),h=0,d=[],u={},p=[],f=e;e=t,i=0;for(var m=0,g=a.length;m<g;m++)"zIndex"in a[m]&&(d.push(a[m].zIndex),a[m].zIndex<0&&(u[a[m].zIndex]=a[m]));for(d.sort(l);d[h]<0;)if(s=u[d[h++]],p.push(s.apply(n,r)),i)return i=o,p;for(m=0;m<g;m++)if("zIndex"in(s=a[m]))if(s.zIndex==d[h]){if(p.push(s.apply(n,r)),i)break;do{if((s=u[d[++h]])&&p.push(s.apply(n,r)),i)break}while(s)}else u[s.zIndex]=s;else if(p.push(s.apply(n,r)),i)break;return i=o,e=f,p.length?p:null};c._events=h,c.listeners=function(t){var e,i,n,s,a,l,c,d,u=t.split(o),p=h,f=[p],m=[];for(s=0,a=u.length;s<a;s++){for(d=[],l=0,c=f.length;l<c;l++)for(i=[(p=f[l].n)[u[s]],p[r]],n=2;n--;)(e=i[n])&&(d.push(e),m=m.concat(e.f||[]));f=d}return m},c.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var i=t.split(o),n=h,s=0,r=i.length;s<r;s++)n=(n=n.n).hasOwnProperty(i[s])&&n[i[s]]||(n[i[s]]={n:{}});for(n.f=n.f||[],s=0,r=n.f.length;s<r;s++)if(n.f[s]==e)return a;return n.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},c.f=function(t){var e=[].slice.call(arguments,1);return function(){c.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},c.stop=function(){i=1},c.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},c.nts=function(){return e.split(o)},c.off=c.unbind=function(t,e){if(t){var i,n,a,l,d,u,p,f=t.split(o),m=[h];for(l=0,d=f.length;l<d;l++)for(u=0;u<m.length;u+=a.length-2){if(a=[u,1],i=m[u].n,f[l]!=r)i[f[l]]&&a.push(i[f[l]]);else for(n in i)i[s](n)&&a.push(i[n]);m.splice.apply(m,a)}for(l=0,d=m.length;l<d;l++)for(i=m[l];i.n;){if(e){if(i.f){for(u=0,p=i.f.length;u<p;u++)if(i.f[u]==e){i.f.splice(u,1);break}!i.f.length&&delete i.f}for(n in i.n)if(i.n[s](n)&&i.n[n].f){var g=i.n[n].f;for(u=0,p=g.length;u<p;u++)if(g[u]==e){g.splice(u,1);break}!g.length&&delete i.n[n].f}}else for(n in delete i.f,i.n)i.n[s](n)&&i.n[n].f&&delete i.n[n].f;i=i.n}}else c._events=h={n:{}}},c.once=function(t,e){var i=function(){return c.unbind(t,i),e.apply(this,arguments)};return c.on(t,i)},c.version=n,c.toString=function(){return"You are running Eve "+n},"undefined"!=typeof module&&module.exports?module.exports=c:"undefined"!=typeof define?define("eve",[],function(){return c}):t.eve=c}(this),
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
function(t,e){"function"==typeof define&&define.amd?define(["eve"],function(i){return e(t,i)}):e(t,t.eve)}(this,function(t,e){function i(t){if(i.is(t,"function"))return x?t():e.on("raphael.DOMload",t);if(i.is(t,V))return i._engine.create[M](i,t.splice(0,3+i.is(t[0],q))).add(t);var n=Array.prototype.slice.call(arguments,0);if(i.is(n[n.length-1],"function")){var s=n.pop();return x?s.call(i._engine.create[M](i,n)):e.on("raphael.DOMload",function(){s.call(i._engine.create[M](i,n))})}return i._engine.create[M](i,arguments)}function n(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[T](i)&&(e[i]=n(t[i]));return e}function s(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function o(t,e,i){function n(){var o=Array.prototype.slice.call(arguments,0),r=o.join("\u2400"),a=n.cache=n.cache||{},l=n.count=n.count||[];return a[T](r)?(s(l,r),i?i(a[r]):a[r]):(l.length>=1e3&&delete a[l.shift()],l.push(r),a[r]=t[M](e,o),i?i(a[r]):a[r])}return n}function r(){return this.hex}function a(t,e){for(var i=[],n=0,s=t.length;s-2*!e>n;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?s-4==n?o[3]={x:+t[0],y:+t[1]}:s-2==n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[s-2],y:+t[s-1]}:s-4==n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}function l(t,e,i,n,s){return t*(t*(-3*e+9*i-9*n+3*s)+6*e-12*i+6*n)-3*e+3*i}function h(t,e,i,n,s,o,r,a,h){null==h&&(h=1);for(var c=(h=h>1?1:h<0?0:h)/2,d=12,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,m=0;m<d;m++){var g=c*u[m]+c,v=l(g,t,i,s,r),y=l(g,e,n,o,a),b=v*v+y*y;f+=p[m]*j.sqrt(b)}return c*f}function c(t,e,i,n,s,o,r,a,l){if(!(l<0||h(t,e,i,n,s,o,r,a)<l)){var c,d=1,u=d/2,p=d-u,f=.01;for(c=h(t,e,i,n,s,o,r,a,p);z(c-l)>f;)c=h(t,e,i,n,s,o,r,a,p+=(c<l?1:-1)*(u/=2));return p}}function d(t,e,i,n,s,o,r,a){if(!(B(t,i)<H(s,r)||H(t,i)>B(s,r)||B(e,n)<H(o,a)||H(e,n)>B(o,a))){var l=(t-i)*(o-a)-(e-n)*(s-r);if(l){var h=((t*n-e*i)*(s-r)-(t-i)*(s*a-o*r))/l,c=((t*n-e*i)*(o-a)-(e-n)*(s*a-o*r))/l,d=+h.toFixed(2),u=+c.toFixed(2);if(!(d<+H(t,i).toFixed(2)||d>+B(t,i).toFixed(2)||d<+H(s,r).toFixed(2)||d>+B(s,r).toFixed(2)||u<+H(e,n).toFixed(2)||u>+B(e,n).toFixed(2)||u<+H(o,a).toFixed(2)||u>+B(o,a).toFixed(2)))return{x:h,y:c}}}}function u(t,e,n){var s=i.bezierBBox(t),o=i.bezierBBox(e);if(!i.isBBoxIntersect(s,o))return n?0:[];for(var r=h.apply(0,t),a=h.apply(0,e),l=B(~~(r/5),1),c=B(~~(a/5),1),u=[],p=[],f={},m=n?0:[],g=0;g<l+1;g++){var v=i.findDotsAtSegment.apply(i,t.concat(g/l));u.push({x:v.x,y:v.y,t:g/l})}for(g=0;g<c+1;g++)v=i.findDotsAtSegment.apply(i,e.concat(g/c)),p.push({x:v.x,y:v.y,t:g/c});for(g=0;g<l;g++)for(var y=0;y<c;y++){var b=u[g],x=u[g+1],w=p[y],_=p[y+1],k=z(x.x-b.x)<.001?"y":"x",C=z(_.x-w.x)<.001?"y":"x",T=d(b.x,b.y,x.x,x.y,w.x,w.y,_.x,_.y);if(T){if(f[T.x.toFixed(4)]==T.y.toFixed(4))continue;f[T.x.toFixed(4)]=T.y.toFixed(4);var S=b.t+z((T[k]-b[k])/(x[k]-b[k]))*(x.t-b.t),D=w.t+z((T[C]-w[C])/(_[C]-w[C]))*(_.t-w.t);S>=0&&S<=1.001&&D>=0&&D<=1.001&&(n?m++:m.push({x:T.x,y:T.y,t1:H(S,1),t2:H(D,1)}))}}return m}function p(t,e,n){t=i._path2curve(t),e=i._path2curve(e);for(var s,o,r,a,l,h,c,d,p,f,m=n?0:[],g=0,v=t.length;g<v;g++){var y=t[g];if("M"==y[0])s=l=y[1],o=h=y[2];else{"C"==y[0]?(s=(p=[s,o].concat(y.slice(1)))[6],o=p[7]):(p=[s,o,s,o,l,h,l,h],s=l,o=h);for(var b=0,x=e.length;b<x;b++){var w=e[b];if("M"==w[0])r=c=w[1],a=d=w[2];else{"C"==w[0]?(r=(f=[r,a].concat(w.slice(1)))[6],a=f[7]):(f=[r,a,r,a,c,d,c,d],r=c,a=d);var _=u(p,f,n);if(n)m+=_;else{for(var k=0,C=_.length;k<C;k++)_[k].segment1=g,_[k].segment2=b,_[k].bez1=p,_[k].bez2=f;m=m.concat(_)}}}}}return m}function f(t,e,i,n,s,o){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+s,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function m(){return this.x+P+this.y+P+this.width+" \xd7 "+this.height}function g(t,e,i,n,s,o){function r(t){return((d*t+c)*t+h)*t}function a(t,e){var i=l(t,e);return((f*i+p)*i+u)*i}function l(t,e){var i,n,s,o,a,l;for(s=t,l=0;l<8;l++){if(o=r(s)-t,z(o)<e)return s;if(z(a=(3*d*s+2*c)*s+h)<1e-6)break;s-=o/a}if((s=t)<(i=0))return i;if(s>(n=1))return n;for(;i<n;){if(o=r(s),z(o-t)<e)return s;t>o?i=s:n=s,s=(n-i)/2+i}return s}var h=3*e,c=3*(n-e)-h,d=1-h-c,u=3*i,p=3*(s-i)-u,f=1-u-p;return a(t,1/(200*o))}function v(t,e){var i=[],n={};if(this.ms=e,this.times=1,t){for(var s in t)t[T](s)&&(n[J(s)]=t[s],i.push(J(s)));i.sort(dt)}this.anim=n,this.top=i[i.length-1],this.percents=i}function y(t,n,s,o,r,a){s=J(s);var l,h,c,d,u,p,m=t.ms,v={},y={},b={};if(o)for(w=0,k=ce.length;w<k;w++){var x=ce[w];if(x.el.id==n.id&&x.anim==t){x.percent!=s?(ce.splice(w,1),c=1):h=x,n.attr(x.totalOrigin);break}}else o=+y;for(var w=0,k=t.percents.length;w<k;w++){if(t.percents[w]==s||t.percents[w]>o*t.top){s=t.percents[w],u=t.percents[w-1]||0,m=m/t.top*(s-u),d=t.percents[w+1],l=t.anim[s];break}o&&n.attr(t.anim[t.percents[w]])}if(l){if(h)h.initstatus=o,h.start=new Date-h.ms*o;else{for(var C in l)if(l[T](C)&&(nt[T](C)||n.paper.customAttributes[T](C)))switch(v[C]=n.attr(C),null==v[C]&&(v[C]=it[C]),y[C]=l[C],nt[C]){case q:b[C]=(y[C]-v[C])/m;break;case"colour":v[C]=i.getRGB(v[C]);var S=i.getRGB(y[C]);b[C]={r:(S.r-v[C].r)/m,g:(S.g-v[C].g)/m,b:(S.b-v[C].b)/m};break;case"path":var D=Rt(v[C],y[C]),$=D[1];for(v[C]=D[0],b[C]=[],w=0,k=v[C].length;w<k;w++){b[C][w]=[0];for(var M=1,L=v[C][w].length;M<L;M++)b[C][w][M]=($[w][M]-v[C][w][M])/m}break;case"transform":var E=n._,P=Ut(E[C],y[C]);if(P)for(v[C]=P.from,y[C]=P.to,b[C]=[],b[C].real=!0,w=0,k=v[C].length;w<k;w++)for(b[C][w]=[v[C][w][0]],M=1,L=v[C][w].length;M<L;M++)b[C][w][M]=(y[C][w][M]-v[C][w][M])/m;else{var F=n.matrix||new f,O={_:{transform:E.transform},getBBox:function(){return n.getBBox(1)}};v[C]=[F.a,F.b,F.c,F.d,F.e,F.f],Ht(O,y[C]),y[C]=O._.transform,b[C]=[(O.matrix.a-F.a)/m,(O.matrix.b-F.b)/m,(O.matrix.c-F.c)/m,(O.matrix.d-F.d)/m,(O.matrix.e-F.e)/m,(O.matrix.f-F.f)/m]}break;case"csv":var R=I(l[C])[N](_),j=I(v[C])[N](_);if("clip-rect"==C)for(v[C]=j,b[C]=[],w=j.length;w--;)b[C][w]=(R[w]-v[C][w])/m;y[C]=R;break;default:for(R=[][A](l[C]),j=[][A](v[C]),b[C]=[],w=n.paper.customAttributes[C].length;w--;)b[C][w]=((R[w]||0)-(j[w]||0))/m}var B=l.easing,H=i.easing_formulas[B];if(!H)if((H=I(B).match(Q))&&5==H.length){var z=H;H=function(t){return g(t,+z[1],+z[2],+z[3],+z[4],m)}}else H=pt;if(x={anim:t,percent:s,timestamp:p=l.start||t.start||+new Date,start:p+(t.del||0),status:0,initstatus:o||0,stop:!1,ms:m,easing:H,from:v,diff:b,to:y,el:n,callback:l.callback,prev:u,next:d,repeat:a||t.times,origin:n.attr(),totalOrigin:r},ce.push(x),o&&!h&&!c&&(x.stop=!0,x.start=new Date-m*o,1==ce.length))return ue();c&&(x.start=new Date-x.ms*o),1==ce.length&&de(ue)}e("raphael.anim.start."+n.id,n,t)}}function b(t){for(var e=0;e<ce.length;e++)ce[e].el.paper==t&&ce.splice(e--,1)}i.version="2.1.2",i.eve=e;var x,w,_=/[, ]+/,k={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,T="hasOwnProperty",S={doc:document,win:t},D={was:Object.prototype[T].call(S.win,"Raphael"),is:S.win.Raphael},$=function(){this.ca=this.customAttributes={}},M="apply",A="concat",L="ontouchstart"in S.win||S.win.DocumentTouch&&S.doc instanceof DocumentTouch,E="",P=" ",I=String,N="split",F="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[N](P),O={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},R=I.prototype.toLowerCase,j=Math,B=j.max,H=j.min,z=j.abs,U=j.pow,G=j.PI,q="number",W="string",V="array",Y=Object.prototype.toString,X=(i._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),K={NaN:1,Infinity:1,"-Infinity":1},Q=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Z=j.round,J=parseFloat,tt=parseInt,et=I.prototype.toUpperCase,it=i._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},nt=i._availableAnimAttrs={blur:q,"clip-rect":"csv",cx:q,cy:q,fill:"colour","fill-opacity":q,"font-size":q,height:q,opacity:q,path:"path",r:q,rx:q,ry:q,stroke:"colour","stroke-opacity":q,"stroke-width":q,transform:"transform",width:q,x:q,y:q},st=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,ot={hs:1,rg:1},rt=/,?([achlmqrstvxz]),?/gi,at=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,lt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ht=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ct=(i._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),dt=function(t,e){return J(t)-J(e)},ut=function(){},pt=function(t){return t},ft=i._rectPath=function(t,e,i,n,s){return s?[["M",t+s,e],["l",i-2*s,0],["a",s,s,0,0,1,s,s],["l",0,n-2*s],["a",s,s,0,0,1,-s,s],["l",2*s-i,0],["a",s,s,0,0,1,-s,-s],["l",0,2*s-n],["a",s,s,0,0,1,s,-s],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},mt=function(t,e,i,n){return null==n&&(n=i),[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},gt=i._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return mt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return mt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)}},vt=i.mapPath=function(t,e){if(!e)return t;var i,n,s,o,r,a,l;for(s=0,r=(t=Rt(t)).length;s<r;s++)for(o=1,a=(l=t[s]).length;o<a;o+=2)i=e.x(l[o],l[o+1]),n=e.y(l[o],l[o+1]),l[o]=i,l[o+1]=n;return t};if(i._g=S,i.type=S.win.SVGAngle||S.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==i.type){var yt,bt=S.doc.createElement("div");if(bt.innerHTML='<v:shape adj="1"/>',(yt=bt.firstChild).style.behavior="url(#default#VML)",!yt||"object"!=typeof yt.adj)return i.type=E;bt=null}i.svg=!(i.vml="VML"==i.type),i._Paper=$,i.fn=w=$.prototype=i.prototype,i._id=0,i._oid=0,i.is=function(t,e){return"finite"==(e=R.call(e))?!K[T](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||Y.call(t).slice(8,-1).toLowerCase()==e},i.angle=function(t,e,n,s,o,r){if(null==o){var a=t-n,l=e-s;return a||l?(180+180*j.atan2(-l,-a)/G+360)%360:0}return i.angle(t,e,o,r)-i.angle(n,s,o,r)},i.rad=function(t){return t%360*G/180},i.deg=function(t){return 180*t/G%360},i.snapTo=function(t,e,n){if(n=i.is(n,"finite")?n:10,i.is(t,V)){for(var s=t.length;s--;)if(z(t[s]-e)<=n)return t[s]}else{var o=e%(t=+t);if(o<n)return e-o;if(o>t-n)return e-o+t}return e};var xt,wt;i.createUUID=(xt=/[xy]/g,wt=function(t){var e=16*j.random()|0;return("x"==t?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(xt,wt).toUpperCase()});i.setWindow=function(t){e("raphael.setWindow",i,S.win,t),S.win=t,S.doc=S.win.document,i._engine.initWin&&i._engine.initWin(S.win)};var _t=function(t){if(i.vml){var e,n=/^\s+|\s+$/g;try{var s=new ActiveXObject("htmlfile");s.write("<body>"),s.close(),e=s.body}catch(l){e=createPopup().document.body}var r=e.createTextRange();_t=o(function(t){try{e.style.color=I(t).replace(n,E);var i=r.queryCommandValue("ForeColor");return"#"+("000000"+(i=(255&i)<<16|65280&i|(16711680&i)>>>16).toString(16)).slice(-6)}catch(l){return"none"}})}else{var a=S.doc.createElement("i");a.title="Rapha\xebl Colour Picker",a.style.display="none",S.doc.body.appendChild(a),_t=o(function(t){return a.style.color=t,S.doc.defaultView.getComputedStyle(a,E).getPropertyValue("color")})}return _t(t)},kt=function(){return"hsb("+[this.h,this.s,this.b]+")"},Ct=function(){return"hsl("+[this.h,this.s,this.l]+")"},Tt=function(){return this.hex},St=function(t,e,n){if(null==e&&i.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&i.is(t,W)){var s=i.getRGB(t);t=s.r,e=s.g,n=s.b}return(t>1||e>1||n>1)&&(t/=255,e/=255,n/=255),[t,e,n]},Dt=function(t,e,n,s){var o={r:t*=255,g:e*=255,b:n*=255,hex:i.rgb(t,e,n),toString:Tt};return i.is(s,"finite")&&(o.opacity=s),o};i.color=function(t){var e;return i.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=i.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):i.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=i.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(i.is(t,"string")&&(t=i.getRGB(t)),i.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=i.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=i.rgb2hsb(t),t.v=e.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=Tt,t},i.hsb2rgb=function(t,e,i,n){var s,o,r,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,n=(t=t.h).o),s=o=r=i-(l=i*e),s+=[l,a=l*(1-z((t=(t*=360)%360/60)%2-1)),0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],r+=[0,0,a,l,l,a][t],Dt(s,o,r,n)},i.hsl2rgb=function(t,e,i,n){var s,o,r,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),s=o=r=i-(l=2*e*(i<.5?i:1-i))/2,s+=[l,a=l*(1-z((t=(t*=360)%360/60)%2-1)),0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],r+=[0,0,a,l,l,a][t],Dt(s,o,r,n)},i.rgb2hsb=function(t,e,i){var n,s;return t=(i=St(t,e,i))[0],e=i[1],i=i[2],{h:((0==(s=(n=B(t,e,i))-H(t,e,i))?null:n==t?(e-i)/s:n==e?(i-t)/s+2:(t-e)/s+4)+360)%6*60/360,s:0==s?0:s/n,b:n,toString:kt}},i.rgb2hsl=function(t,e,i){var n,s,o,r;return t=(i=St(t,e,i))[0],e=i[1],i=i[2],n=((s=B(t,e,i))+(o=H(t,e,i)))/2,{h:((0==(r=s-o)?null:s==t?(e-i)/r:s==e?(i-t)/r+2:(t-e)/r+4)+360)%6*60/360,s:0==r?0:n<.5?r/(2*n):r/(2-2*n),l:n,toString:Ct}},i._path2string=function(){return this.join(",").replace(rt,"$1")};i._preload=function(t,e){var i=S.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,S.doc.body.removeChild(this)},i.onerror=function(){S.doc.body.removeChild(this)},S.doc.body.appendChild(i),i.src=t};i.getRGB=o(function(t){if(!t||(t=I(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:r};!ot[T](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=_t(t));var e,n,s,o,a,l,h=t.match(X);return h?(h[2]&&(s=tt(h[2].substring(5),16),n=tt(h[2].substring(3,5),16),e=tt(h[2].substring(1,3),16)),h[3]&&(s=tt((a=h[3].charAt(3))+a,16),n=tt((a=h[3].charAt(2))+a,16),e=tt((a=h[3].charAt(1))+a,16)),h[4]&&(l=h[4][N](st),e=J(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),s=J(l[2]),"%"==l[2].slice(-1)&&(s*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(o=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100)),h[5]?(l=h[5][N](st),e=J(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),s=J(l[2]),"%"==l[2].slice(-1)&&(s*=2.55),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(e/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(o=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100),i.hsb2rgb(e,n,s,o)):h[6]?(l=h[6][N](st),e=J(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),s=J(l[2]),"%"==l[2].slice(-1)&&(s*=2.55),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(e/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(o=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(o/=100),i.hsl2rgb(e,n,s,o)):((h={r:e,g:n,b:s,toString:r}).hex="#"+(16777216|s|n<<8|e<<16).toString(16).slice(1),i.is(o,"finite")&&(h.opacity=o),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r}},i),i.hsb=o(function(t,e,n){return i.hsb2rgb(t,e,n).hex}),i.hsl=o(function(t,e,n){return i.hsl2rgb(t,e,n).hex}),i.rgb=o(function(t,e,i){return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)}),i.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},i.getColor.reset=function(){delete this.start},i.parsePathString=function(t){if(!t)return null;var e=$t(t);if(e.arr)return At(e.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},s=[];return i.is(t,V)&&i.is(t[0],V)&&(s=At(t)),s.length||I(t).replace(at,function(t,e,i){var o=[],r=e.toLowerCase();if(i.replace(ht,function(t,e){e&&o.push(+e)}),"m"==r&&o.length>2&&(s.push([e][A](o.splice(0,2))),r="l",e="m"==e?"l":"L"),"r"==r)s.push([e][A](o));else for(;o.length>=n[r]&&(s.push([e][A](o.splice(0,n[r]))),n[r]););}),s.toString=i._path2string,e.arr=At(s),s},i.parseTransformString=o(function(t){if(!t)return null;var e=[];return i.is(t,V)&&i.is(t[0],V)&&(e=At(t)),e.length||I(t).replace(lt,function(t,i,n){var s=[];R.call(i);n.replace(ht,function(t,e){e&&s.push(+e)}),e.push([i][A](s))}),e.toString=i._path2string,e});var $t=function(t){var e=$t.ps=$t.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[T](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])}),e[t]};i.findDotsAtSegment=function(t,e,i,n,s,o,r,a,l){var h=1-l,c=U(h,3),d=U(h,2),u=l*l,p=u*l,f=c*t+3*d*l*i+3*h*l*l*s+p*r,m=c*e+3*d*l*n+3*h*l*l*o+p*a,g=t+2*l*(i-t)+u*(s-2*i+t),v=e+2*l*(n-e)+u*(o-2*n+e),y=i+2*l*(s-i)+u*(r-2*s+i),b=n+2*l*(o-n)+u*(a-2*o+n),x=h*t+l*i,w=h*e+l*n,_=h*s+l*r,k=h*o+l*a,C=90-180*j.atan2(g-y,v-b)/G;return(g>y||v<b)&&(C+=180),{x:f,y:m,m:{x:g,y:v},n:{x:y,y:b},start:{x:x,y:w},end:{x:_,y:k},alpha:C}},i.bezierBBox=function(t,e,n,s,o,r,a,l){i.is(t,"array")||(t=[t,e,n,s,o,r,a,l]);var h=Ot.apply(null,t);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},i.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},i.isBBoxIntersect=function(t,e){var n=i.isPointInsideBBox;return n(e,t.x,t.y)||n(e,t.x2,t.y)||n(e,t.x,t.y2)||n(e,t.x2,t.y2)||n(t,e.x,e.y)||n(t,e.x2,e.y)||n(t,e.x,e.y2)||n(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},i.pathIntersection=function(t,e){return p(t,e)},i.pathIntersectionNumber=function(t,e){return p(t,e,1)},i.isPointInsidePath=function(t,e,n){var s=i.pathBBox(t);return i.isPointInsideBBox(s,e,n)&&p(t,[["M",e,n],["H",s.x2+10]],1)%2==1},i._removedFactory=function(t){return function(){e("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+t+"\u201d of removed object",t)}};var Mt=i.pathBBox=function(t){var e=$t(t);if(e.bbox)return n(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var i,s=0,o=0,r=[],a=[],l=0,h=(t=Rt(t)).length;l<h;l++)if("M"==(i=t[l])[0])s=i[1],o=i[2],r.push(s),a.push(o);else{var c=Ot(s,o,i[1],i[2],i[3],i[4],i[5],i[6]);r=r[A](c.min.x,c.max.x),a=a[A](c.min.y,c.max.y),s=i[5],o=i[6]}var d=H[M](0,r),u=H[M](0,a),p=B[M](0,r),f=B[M](0,a),m=p-d,g=f-u,v={x:d,y:u,x2:p,y2:f,width:m,height:g,cx:d+m/2,cy:u+g/2};return e.bbox=n(v),v},At=function(t){var e=n(t);return e.toString=i._path2string,e},Lt=i._pathToRelative=function(t){var e=$t(t);if(e.rel)return At(e.rel);i.is(t,V)&&i.is(t&&t[0],V)||(t=i.parsePathString(t));var n=[],s=0,o=0,r=0,a=0,l=0;"M"==t[0][0]&&(r=s=t[0][1],a=o=t[0][2],l++,n.push(["M",s,o]));for(var h=l,c=t.length;h<c;h++){var d=n[h]=[],u=t[h];if(u[0]!=R.call(u[0]))switch(d[0]=R.call(u[0]),d[0]){case"a":d[1]=u[1],d[2]=u[2],d[3]=u[3],d[4]=u[4],d[5]=u[5],d[6]=+(u[6]-s).toFixed(3),d[7]=+(u[7]-o).toFixed(3);break;case"v":d[1]=+(u[1]-o).toFixed(3);break;case"m":r=u[1],a=u[2];default:for(var p=1,f=u.length;p<f;p++)d[p]=+(u[p]-(p%2?s:o)).toFixed(3)}else{d=n[h]=[],"m"==u[0]&&(r=u[1]+s,a=u[2]+o);for(var m=0,g=u.length;m<g;m++)n[h][m]=u[m]}var v=n[h].length;switch(n[h][0]){case"z":s=r,o=a;break;case"h":s+=+n[h][v-1];break;case"v":o+=+n[h][v-1];break;default:s+=+n[h][v-2],o+=+n[h][v-1]}}return n.toString=i._path2string,e.rel=At(n),n},Et=i._pathToAbsolute=function(t){var e=$t(t);if(e.abs)return At(e.abs);if(i.is(t,V)&&i.is(t&&t[0],V)||(t=i.parsePathString(t)),!t||!t.length)return[["M",0,0]];var n=[],s=0,o=0,r=0,l=0,h=0;"M"==t[0][0]&&(r=s=+t[0][1],l=o=+t[0][2],h++,n[0]=["M",s,o]);for(var c,d,u=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=h,f=t.length;p<f;p++){if(n.push(c=[]),(d=t[p])[0]!=et.call(d[0]))switch(c[0]=et.call(d[0]),c[0]){case"A":c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=+(d[6]+s),c[7]=+(d[7]+o);break;case"V":c[1]=+d[1]+o;break;case"H":c[1]=+d[1]+s;break;case"R":for(var m=[s,o][A](d.slice(1)),g=2,v=m.length;g<v;g++)m[g]=+m[g]+s,m[++g]=+m[g]+o;n.pop(),n=n[A](a(m,u));break;case"M":r=+d[1]+s,l=+d[2]+o;default:for(g=1,v=d.length;g<v;g++)c[g]=+d[g]+(g%2?s:o)}else if("R"==d[0])m=[s,o][A](d.slice(1)),n.pop(),n=n[A](a(m,u)),c=["R"][A](d.slice(-2));else for(var y=0,b=d.length;y<b;y++)c[y]=d[y];switch(c[0]){case"Z":s=r,o=l;break;case"H":s=c[1];break;case"V":o=c[1];break;case"M":r=c[c.length-2],l=c[c.length-1];default:s=c[c.length-2],o=c[c.length-1]}}return n.toString=i._path2string,e.abs=At(n),n},Pt=function(t,e,i,n){return[t,e,i,n,i,n]},It=function(t,e,i,n,s,o){var r=1/3,a=2/3;return[r*t+a*i,r*e+a*n,r*s+a*i,r*o+a*n,s,o]},Nt=function(t,e,i,n,s,r,a,l,h,c){var d,u=120*G/180,p=G/180*(+s||0),f=[],m=o(function(t,e,i){return{x:t*j.cos(i)-e*j.sin(i),y:t*j.sin(i)+e*j.cos(i)}});if(c)C=c[0],T=c[1],_=c[2],k=c[3];else{t=(d=m(t,e,-p)).x,e=d.y,l=(d=m(l,h,-p)).x,h=d.y;j.cos(G/180*s),j.sin(G/180*s);var g=(t-l)/2,v=(e-h)/2,y=g*g/(i*i)+v*v/(n*n);y>1&&(i*=y=j.sqrt(y),n*=y);var b=i*i,x=n*n,w=(r==a?-1:1)*j.sqrt(z((b*x-b*v*v-x*g*g)/(b*v*v+x*g*g))),_=w*i*v/n+(t+l)/2,k=w*-n*g/i+(e+h)/2,C=j.asin(((e-k)/n).toFixed(9)),T=j.asin(((h-k)/n).toFixed(9));(C=t<_?G-C:C)<0&&(C=2*G+C),(T=l<_?G-T:T)<0&&(T=2*G+T),a&&C>T&&(C-=2*G),!a&&T>C&&(T-=2*G)}var S=T-C;if(z(S)>u){var D=T,$=l,M=h;T=C+u*(a&&T>C?1:-1),l=_+i*j.cos(T),h=k+n*j.sin(T),f=Nt(l,h,i,n,s,0,a,$,M,[T,D,_,k])}S=T-C;var L=j.cos(C),E=j.sin(C),P=j.cos(T),I=j.sin(T),F=j.tan(S/4),O=4/3*i*F,R=4/3*n*F,B=[t,e],H=[t+O*E,e-R*L],U=[l+O*I,h-R*P],q=[l,h];if(H[0]=2*B[0]-H[0],H[1]=2*B[1]-H[1],c)return[H,U,q][A](f);for(var W=[],V=0,Y=(f=[H,U,q][A](f).join()[N](",")).length;V<Y;V++)W[V]=V%2?m(f[V-1],f[V],p).y:m(f[V],f[V+1],p).x;return W},Ft=function(t,e,i,n,s,o,r,a,l){var h=1-l;return{x:U(h,3)*t+3*U(h,2)*l*i+3*h*l*l*s+U(l,3)*r,y:U(h,3)*e+3*U(h,2)*l*n+3*h*l*l*o+U(l,3)*a}},Ot=o(function(t,e,i,n,s,o,r,a){var l,h=s-2*i+t-(r-2*s+i),c=2*(i-t)-2*(s-i),d=t-i,u=(-c+j.sqrt(c*c-4*h*d))/2/h,p=(-c-j.sqrt(c*c-4*h*d))/2/h,f=[e,a],m=[t,r];return z(u)>"1e12"&&(u=.5),z(p)>"1e12"&&(p=.5),u>0&&u<1&&(l=Ft(t,e,i,n,s,o,r,a,u),m.push(l.x),f.push(l.y)),p>0&&p<1&&(l=Ft(t,e,i,n,s,o,r,a,p),m.push(l.x),f.push(l.y)),h=o-2*n+e-(a-2*o+n),d=e-n,u=(-(c=2*(n-e)-2*(o-n))+j.sqrt(c*c-4*h*d))/2/h,p=(-c-j.sqrt(c*c-4*h*d))/2/h,z(u)>"1e12"&&(u=.5),z(p)>"1e12"&&(p=.5),u>0&&u<1&&(l=Ft(t,e,i,n,s,o,r,a,u),m.push(l.x),f.push(l.y)),p>0&&p<1&&(l=Ft(t,e,i,n,s,o,r,a,p),m.push(l.x),f.push(l.y)),{min:{x:H[M](0,m),y:H[M](0,f)},max:{x:B[M](0,m),y:B[M](0,f)}}}),Rt=i._path2curve=o(function(t,e){var i=!e&&$t(t);if(!e&&i.curve)return At(i.curve);for(var n=Et(t),s=e&&Et(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(t,e,i){var n,s;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][A](Nt[M](0,[e.x,e.y][A](t.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*e.x-e.bx,s=2*e.y-e.by):(n=e.x,s=e.y),t=["C",n,s][A](t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][A](It(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][A](It(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][A](Pt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][A](Pt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][A](Pt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][A](Pt(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)t.splice(e++,0,["C"][A](i.splice(0,6)));t.splice(e,1),d=B(n.length,s&&s.length||0)}},h=function(t,e,i,o,r){t&&e&&"M"==t[r][0]&&"M"!=e[r][0]&&(e.splice(r,0,["M",o.x,o.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],d=B(n.length,s&&s.length||0))},c=0,d=B(n.length,s&&s.length||0);c<d;c++){n[c]=a(n[c],o),l(n,c),s&&(s[c]=a(s[c],r)),s&&l(s,c),h(n,s,o,r,c),h(s,n,r,o,c);var u=n[c],p=s&&s[c],f=u.length,m=s&&p.length;o.x=u[f-2],o.y=u[f-1],o.bx=J(u[f-4])||o.x,o.by=J(u[f-3])||o.y,r.bx=s&&(J(p[m-4])||r.x),r.by=s&&(J(p[m-3])||r.y),r.x=s&&p[m-2],r.y=s&&p[m-1]}return s||(i.curve=At(n)),s?[n,s]:n},null,At),jt=(i._parseDots=o(function(t){for(var e=[],n=0,s=t.length;n<s;n++){var o={},r=t[n].match(/^([^:]*):?([\d\.]*)/);if(o.color=i.getRGB(r[1]),o.color.error)return null;o.color=o.color.hex,r[2]&&(o.offset=r[2]+"%"),e.push(o)}for(n=1,s=e.length-1;n<s;n++)if(!e[n].offset){for(var a=J(e[n-1].offset||0),l=0,h=n+1;h<s;h++)if(e[h].offset){l=e[h].offset;break}l||(l=100,h=s);for(var c=((l=J(l))-a)/(h-n+1);n<h;n++)a+=c,e[n].offset=a+"%"}return e}),i._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Bt=(i._tofront=function(t,e){e.top!==t&&(jt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},i._toback=function(t,e){e.bottom!==t&&(jt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},i._insertafter=function(t,e,i){jt(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},i._insertbefore=function(t,e,i){jt(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},i.toMatrix=function(t,e){var i=Mt(t),n={_:{transform:E},getBBox:function(){return i}};return Ht(n,e),n.matrix}),Ht=(i.transformPath=function(t,e){return vt(t,Bt(t,e))},i._extractTransform=function(t,e){if(null==e)return t._.transform;e=I(e).replace(/\.{3}|\u2026/g,t._.transform||E);var n=i.parseTransformString(e),s=0,o=0,r=0,a=1,l=1,h=t._,c=new f;if(h.transform=n||[],n)for(var d=0,u=n.length;d<u;d++){var p,m,g,v,y,b=n[d],x=b.length,w=I(b[0]).toLowerCase(),_=b[0]!=w,k=_?c.invert():0;"t"==w&&3==x?_?(p=k.x(0,0),m=k.y(0,0),g=k.x(b[1],b[2]),v=k.y(b[1],b[2]),c.translate(g-p,v-m)):c.translate(b[1],b[2]):"r"==w?2==x?(y=y||t.getBBox(1),c.rotate(b[1],y.x+y.width/2,y.y+y.height/2),s+=b[1]):4==x&&(_?(g=k.x(b[2],b[3]),v=k.y(b[2],b[3]),c.rotate(b[1],g,v)):c.rotate(b[1],b[2],b[3]),s+=b[1]):"s"==w?2==x||3==x?(y=y||t.getBBox(1),c.scale(b[1],b[x-1],y.x+y.width/2,y.y+y.height/2),a*=b[1],l*=b[x-1]):5==x&&(_?(g=k.x(b[3],b[4]),v=k.y(b[3],b[4]),c.scale(b[1],b[2],g,v)):c.scale(b[1],b[2],b[3],b[4]),a*=b[1],l*=b[2]):"m"==w&&7==x&&c.add(b[1],b[2],b[3],b[4],b[5],b[6]),h.dirtyT=1,t.matrix=c}t.matrix=c,h.sx=a,h.sy=l,h.deg=s,h.dx=o=c.e,h.dy=r=c.f,1==a&&1==l&&!s&&h.bbox?(h.bbox.x+=+o,h.bbox.y+=+r):h.dirtyT=1}),zt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Ut=i._equaliseTransform=function(t,e){e=I(e).replace(/\.{3}|\u2026/g,t),t=i.parseTransformString(t)||[],e=i.parseTransformString(e)||[];for(var n,s,o,r,a=B(t.length,e.length),l=[],h=[],c=0;c<a;c++){if(o=t[c]||zt(e[c]),r=e[c]||zt(o),o[0]!=r[0]||"r"==o[0].toLowerCase()&&(o[2]!=r[2]||o[3]!=r[3])||"s"==o[0].toLowerCase()&&(o[3]!=r[3]||o[4]!=r[4]))return;for(l[c]=[],h[c]=[],n=0,s=B(o.length,r.length);n<s;n++)n in o&&(l[c][n]=o[n]),n in r&&(h[c][n]=r[n])}return{from:l,to:h}};i._getContainer=function(t,e,n,s){var o;if(null!=(o=null!=s||i.is(t,"object")?t:S.doc.getElementById(t)))return o.tagName?null==e?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:e,height:n}:{container:1,x:t,y:e,width:n,height:s}},i.pathToRelative=Lt,i._engine={},i.path2curve=Rt,i.matrix=function(t,e,i,n,s,o){return new f(t,e,i,n,s,o)},function(t){function e(t){return t[0]*t[0]+t[1]*t[1]}function n(t){var i=j.sqrt(e(t));t[0]&&(t[0]/=i),t[1]&&(t[1]/=i)}t.add=function(t,e,i,n,s,o){var r,a,l,h,c=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],u=[[t,i,s],[e,n,o],[0,0,1]];for(t&&t instanceof f&&(u=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),r=0;r<3;r++)for(a=0;a<3;a++){for(h=0,l=0;l<3;l++)h+=d[r][l]*u[l][a];c[r][a]=h}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new f(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,n){null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},t.rotate=function(t,e,n){t=i.rad(t),e=e||0,n=n||0;var s=+j.cos(t).toFixed(9),o=+j.sin(t).toFixed(9);this.add(s,o,-o,s,e,n),this.add(1,0,0,1,-e,-n)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[I.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return i.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var s=[[this.a,this.c],[this.b,this.d]];t.scalex=j.sqrt(e(s[0])),n(s[0]),t.shear=s[0][0]*s[1][0]+s[0][1]*s[1][1],s[1]=[s[1][0]-s[0][0]*t.shear,s[1][1]-s[0][1]*t.shear],t.scaley=j.sqrt(e(s[1])),n(s[1]),t.shear/=t.scaley;var o=-s[0][1],r=s[1][1];return r<0?(t.rotate=i.deg(j.acos(r)),o<0&&(t.rotate=360-t.rotate)):t.rotate=i.deg(j.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[N]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:E)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:E)+(e.rotate?"r"+[e.rotate,0,0]:E)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var Gt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/)
;"Apple Computer, Inc."==navigator.vendor&&(Gt&&Gt[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Gt&&Gt[1]<8?w.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:w.safari=ut;for(var qt=function(){this.returnValue=!1},Wt=function(){return this.originalEvent.preventDefault()},Vt=function(){this.cancelBubble=!0},Yt=function(){return this.originalEvent.stopPropagation()},Xt=function(t){var e=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,i=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;return{x:t.clientX+i,y:t.clientY+e}},Kt=S.doc.addEventListener?function(t,e,i,n){var s=function(t){var e=Xt(t);return i.call(n,t,e.x,e.y)};if(t.addEventListener(e,s,!1),L&&O[e]){var o=function(e){for(var s=Xt(e),o=e,r=0,a=e.targetTouches&&e.targetTouches.length;r<a;r++)if(e.targetTouches[r].target==t){(e=e.targetTouches[r]).originalEvent=o,e.preventDefault=Wt,e.stopPropagation=Yt;break}return i.call(n,e,s.x,s.y)};t.addEventListener(O[e],o,!1)}return function(){return t.removeEventListener(e,s,!1),L&&O[e]&&t.removeEventListener(O[e],s,!1),!0}}:S.doc.attachEvent?function(t,e,i,n){var s=function(t){t=t||S.win.event;var e=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,s=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,o=t.clientX+s,r=t.clientY+e;return t.preventDefault=t.preventDefault||qt,t.stopPropagation=t.stopPropagation||Vt,i.call(n,t,o,r)};return t.attachEvent("on"+e,s),function(){return t.detachEvent("on"+e,s),!0}}:void 0,Qt=[],Zt=function(t){for(var i,n=t.clientX,s=t.clientY,o=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,r=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,a=Qt.length;a--;){if(i=Qt[a],L&&t.touches){for(var l,h=t.touches.length;h--;)if((l=t.touches[h]).identifier==i.el._drag.id){n=l.clientX,s=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var c,d=i.el.node,u=d.nextSibling,p=d.parentNode,f=d.style.display;S.win.opera&&p.removeChild(d),d.style.display="none",c=i.el.paper.getElementByPoint(n,s),d.style.display=f,S.win.opera&&(u?p.insertBefore(d,u):p.appendChild(d)),c&&e("raphael.drag.over."+i.el.id,i.el,c),n+=r,s+=o,e("raphael.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,s-i.el._drag.y,n,s,t)}},Jt=function(t){i.unmousemove(Zt).unmouseup(Jt);for(var n,s=Qt.length;s--;)(n=Qt[s]).el._drag={},e("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,t);Qt=[]},te=i.el={},ee=F.length;ee--;)!function(t){i[t]=te[t]=function(e,n){return i.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:Kt(this.shape||this.node||S.doc,t,e,n||this)})),this},i["un"+t]=te["un"+t]=function(e){for(var n=this.events||[],s=n.length;s--;)n[s].name!=t||!i.is(e,"undefined")&&n[s].f!=e||(n[s].unbind(),n.splice(s,1),!n.length&&delete this.events);return this}}(F[ee]);te.data=function(t,n){var s=ct[this.id]=ct[this.id]||{};if(0==arguments.length)return s;if(1==arguments.length){if(i.is(t,"object")){for(var o in t)t[T](o)&&this.data(o,t[o]);return this}return e("raphael.data.get."+this.id,this,s[t],t),s[t]}return s[t]=n,e("raphael.data.set."+this.id,this,n,t),this},te.removeData=function(t){return null==t?ct[this.id]={}:ct[this.id]&&delete ct[this.id][t],this},te.getData=function(){return n(ct[this.id]||{})},te.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},te.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var ie=[];te.drag=function(t,n,s,o,r,a){function l(l){(l.originalEvent||l).preventDefault();var h=l.clientX,c=l.clientY,d=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,u=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;if(this._drag.id=l.identifier,L&&l.touches)for(var p,f=l.touches.length;f--;)if(p=l.touches[f],this._drag.id=p.identifier,p.identifier==this._drag.id){h=p.clientX,c=p.clientY;break}this._drag.x=h+u,this._drag.y=c+d,!Qt.length&&i.mousemove(Zt).mouseup(Jt),Qt.push({el:this,move_scope:o,start_scope:r,end_scope:a}),n&&e.on("raphael.drag.start."+this.id,n),t&&e.on("raphael.drag.move."+this.id,t),s&&e.on("raphael.drag.end."+this.id,s),e("raphael.drag.start."+this.id,r||o||this,l.clientX+u,l.clientY+d,l)}return this._drag={},ie.push({el:this,start:l}),this.mousedown(l),this},te.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},te.undrag=function(){for(var t=ie.length;t--;)ie[t].el==this&&(this.unmousedown(ie[t].start),ie.splice(t,1),e.unbind("raphael.drag.*."+this.id));!ie.length&&i.unmousemove(Zt).unmouseup(Jt),Qt=[]},w.circle=function(t,e,n){var s=i._engine.circle(this,t||0,e||0,n||0);return this.__set__&&this.__set__.push(s),s},w.rect=function(t,e,n,s,o){var r=i._engine.rect(this,t||0,e||0,n||0,s||0,o||0);return this.__set__&&this.__set__.push(r),r},w.ellipse=function(t,e,n,s){var o=i._engine.ellipse(this,t||0,e||0,n||0,s||0);return this.__set__&&this.__set__.push(o),o},w.path=function(t){t&&!i.is(t,W)&&!i.is(t[0],V)&&(t+=E);var e=i._engine.path(i.format[M](i,arguments),this);return this.__set__&&this.__set__.push(e),e},w.image=function(t,e,n,s,o){var r=i._engine.image(this,t||"about:blank",e||0,n||0,s||0,o||0);return this.__set__&&this.__set__.push(r),r},w.text=function(t,e,n){var s=i._engine.text(this,t||0,e||0,I(n));return this.__set__&&this.__set__.push(s),s},w.set=function(t){!i.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new ve(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},w.setStart=function(t){this.__set__=t||this.set()},w.setFinish=function(){var t=this.__set__;return delete this.__set__,t},w.setSize=function(t,e){return i._engine.setSize.call(this,t,e)},w.setViewBox=function(t,e,n,s,o){return i._engine.setViewBox.call(this,t,e,n,s,o)},w.top=w.bottom=null,w.raphael=i;var ne=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,s=i.documentElement,o=s.clientTop||n.clientTop||0,r=s.clientLeft||n.clientLeft||0;return{y:e.top+(S.win.pageYOffset||s.scrollTop||n.scrollTop)-o,x:e.left+(S.win.pageXOffset||s.scrollLeft||n.scrollLeft)-r}};w.getElementByPoint=function(t,e){var i=this,n=i.canvas,s=S.doc.elementFromPoint(t,e);if(S.win.opera&&"svg"==s.tagName){var o=ne(n),r=n.createSVGRect();r.x=t-o.x,r.y=e-o.y,r.width=r.height=1;var a=n.getIntersectionList(r,null);a.length&&(s=a[a.length-1])}if(!s)return null;for(;s.parentNode&&s!=n.parentNode&&!s.raphael;)s=s.parentNode;return s==i.canvas.parentNode&&(s=n),s=s&&s.raphael?i.getById(s.raphaelid):null},w.getElementsByBBox=function(t){var e=this.set();return this.forEach(function(n){i.isBBoxIntersect(n.getBBox(),t)&&e.push(n)}),e},w.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},w.forEach=function(t,e){for(var i=this.bottom;i;){if(!1===t.call(e,i))return this;i=i.next}return this},w.getElementsByPoint=function(t,e){var i=this.set();return this.forEach(function(n){n.isPointInside(t,e)&&i.push(n)}),i},te.isPointInside=function(t,e){var n=this.realPath=gt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=i.transformPath(n,this.attr("transform"))),i.isPointInsidePath(n,t,e)},te.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=gt[this.type](this),e.bboxwt=Mt(this.realPath),e.bboxwt.toString=m,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=gt[this.type](this)),e.bbox=Mt(vt(this.realPath,this.matrix)),e.bbox.toString=m,e.dirty=e.dirtyT=0),e.bbox)},te.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},te.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,s=n.set(),o=this.realPath||gt[this.type](this);o=this.matrix?vt(o,this.matrix):o;for(var r=1;r<i+1;r++)s.push(n.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*r).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return s.insertBefore(this).translate(e.offsetx,e.offsety)};var se=function(t,e,n,s,o,r,a,l,d){return null==d?h(t,e,n,s,o,r,a,l):i.findDotsAtSegment(t,e,n,s,o,r,a,l,c(t,e,n,s,o,r,a,l,d))},oe=function(t,e){return function(n,s,o){for(var r,a,l,h,c,d="",u={},p=0,f=0,m=(n=Rt(n)).length;f<m;f++){if("M"==(l=n[f])[0])r=+l[1],a=+l[2];else{if(p+(h=se(r,a,l[1],l[2],l[3],l[4],l[5],l[6]))>s){if(e&&!u.start){if(d+=["C"+(c=se(r,a,l[1],l[2],l[3],l[4],l[5],l[6],s-p)).start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],o)return d;u.start=d,d=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),p+=h,r=+l[5],a=+l[6];continue}if(!t&&!e)return{x:(c=se(r,a,l[1],l[2],l[3],l[4],l[5],l[6],s-p)).x,y:c.y,alpha:c.alpha}}p+=h,r=+l[5],a=+l[6]}d+=l.shift()+l}return u.end=d,(c=t?p:e?u:i.findDotsAtSegment(r,a,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},re=oe(1),ae=oe(),le=oe(0,1);i.getTotalLength=re,i.getPointAtLength=ae,i.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return le(t,e).end;var n=le(t,i,1);return e?le(n,e).end:n},te.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():re(t)},te.getPointAtLength=function(t){var e=this.getPath();if(e)return ae(e,t)},te.getPath=function(){var t,e=i._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return e&&(t=e(this)),t},te.getSubpath=function(t,e){var n=this.getPath();if(n)return i.getSubpath(n,t,e)};var he=i.easing_formulas={linear:function(t){return t},"<":function(t){return U(t,1.7)},">":function(t){return U(t,.48)},"<>":function(t){var e=.48-t/1.04,i=j.sqrt(.1734+e*e),n=i-e,s=-i-e,o=U(z(n),1/3)*(n<0?-1:1)+U(z(s),1/3)*(s<0?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:U(2,-10*t)*j.sin(2*G*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375}};he.easeIn=he["ease-in"]=he["<"],he.easeOut=he["ease-out"]=he[">"],he.easeInOut=he["ease-in-out"]=he["<>"],he["back-in"]=he.backIn,he["back-out"]=he.backOut;var ce=[],de=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},ue=function(){for(var t=+new Date,n=0;n<ce.length;n++){var s=ce[n];if(!s.el.removed&&!s.paused){var o,r,a=t-s.start,l=s.ms,h=s.easing,c=s.from,d=s.diff,u=s.to,p=(s.t,s.el),f={},m={};if(s.initstatus?(a=(s.initstatus*s.anim.top-s.prev)/(s.percent-s.prev)*l,s.status=s.initstatus,delete s.initstatus,s.stop&&ce.splice(n--,1)):s.status=(s.prev+(s.percent-s.prev)*(a/l))/s.anim.top,!(a<0))if(a<l){var g=h(a/l);for(var v in c)if(c[T](v)){switch(nt[v]){case q:o=+c[v]+g*l*d[v];break;case"colour":o="rgb("+[pe(Z(c[v].r+g*l*d[v].r)),pe(Z(c[v].g+g*l*d[v].g)),pe(Z(c[v].b+g*l*d[v].b))].join(",")+")";break;case"path":o=[];for(var b=0,x=c[v].length;b<x;b++){o[b]=[c[v][b][0]];for(var w=1,_=c[v][b].length;w<_;w++)o[b][w]=+c[v][b][w]+g*l*d[v][b][w];o[b]=o[b].join(P)}o=o.join(P);break;case"transform":if(d[v].real)for(o=[],b=0,x=c[v].length;b<x;b++)for(o[b]=[c[v][b][0]],w=1,_=c[v][b].length;w<_;w++)o[b][w]=c[v][b][w]+g*l*d[v][b][w];else{var k=function(t){return+c[v][t]+g*l*d[v][t]};o=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==v)for(o=[],b=4;b--;)o[b]=+c[v][b]+g*l*d[v][b];break;default:var C=[][A](c[v]);for(o=[],b=p.paper.customAttributes[v].length;b--;)o[b]=+C[b]+g*l*d[v][b]}f[v]=o}p.attr(f),function(t,i,n){setTimeout(function(){e("raphael.anim.frame."+t,i,n)})}(p.id,p,s.anim)}else{if(function(t,n,s){setTimeout(function(){e("raphael.anim.frame."+n.id,n,s),e("raphael.anim.finish."+n.id,n,s),i.is(t,"function")&&t.call(n)})}(s.callback,p,s.anim),p.attr(u),ce.splice(n--,1),s.repeat>1&&!s.next){for(r in u)u[T](r)&&(m[r]=s.totalOrigin[r]);s.el.attr(m),y(s.anim,s.el,s.anim.percents[0],null,s.totalOrigin,s.repeat-1)}s.next&&!s.stop&&y(s.anim,s.el,s.next,null,s.totalOrigin,s.repeat)}}}i.svg&&p&&p.paper&&p.paper.safari(),ce.length&&de(ue)},pe=function(t){return t>255?255:t<0?0:t};te.animateWith=function(t,e,n,s,o,r){var a=this;if(a.removed)return r&&r.call(a),a;var l=n instanceof v?n:i.animation(n,s,o,r);y(l,a,l.percents[0],null,a.attr());for(var h=0,c=ce.length;h<c;h++)if(ce[h].anim==e&&ce[h].el==t){ce[c-1].start=ce[h].start;break}return a},te.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(t){var e=new v(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},v.prototype.repeat=function(t){var e=new v(this.anim,this.ms);return e.del=this.del,e.times=j.floor(B(t,0))||1,e},i.animation=function(t,e,n,s){if(t instanceof v)return t;!i.is(n,"function")&&n||(s=s||n||null,n=null),t=Object(t),e=+e||0;var o,r,a={};for(r in t)t[T](r)&&J(r)!=r&&J(r)+"%"!=r&&(o=!0,a[r]=t[r]);return o?(n&&(a.easing=n),s&&(a.callback=s),new v({100:a},e)):new v(t,e)},te.animate=function(t,e,n,s){var o=this;if(o.removed)return s&&s.call(o),o;var r=t instanceof v?t:i.animation(t,e,n,s);return y(r,o,r.percents[0],null,o.attr()),o},te.setTime=function(t,e){return t&&null!=e&&this.status(t,H(e,t.ms)/t.ms),this},te.status=function(t,e){var i,n,s=[],o=0;if(null!=e)return y(t,this,-1,H(e,1)),this;for(i=ce.length;o<i;o++)if((n=ce[o]).el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;s.push({anim:n.anim,status:n.status})}return t?0:s},te.pause=function(t){for(var i=0;i<ce.length;i++)ce[i].el.id!=this.id||t&&ce[i].anim!=t||!1!==e("raphael.anim.pause."+this.id,this,ce[i].anim)&&(ce[i].paused=!0);return this},te.resume=function(t){for(var i=0;i<ce.length;i++)if(ce[i].el.id==this.id&&(!t||ce[i].anim==t)){var n=ce[i];!1!==e("raphael.anim.resume."+this.id,this,n.anim)&&(delete n.paused,this.status(n.anim,n.status))}return this},te.stop=function(t){for(var i=0;i<ce.length;i++)ce[i].el.id!=this.id||t&&ce[i].anim!=t||!1!==e("raphael.anim.stop."+this.id,this,ce[i].anim)&&ce.splice(i--,1);return this},e.on("raphael.remove",b),e.on("raphael.clear",b),te.toString=function(){return"Rapha\xebl\u2019s object"};var fe,me,ge,ve=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;e<i;e++)!t[e]||t[e].constructor!=te.constructor&&t[e].constructor!=ve||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},ye=ve.prototype;for(var be in ye.push=function(){for(var t,e,i=0,n=arguments.length;i<n;i++)!(t=arguments[i])||t.constructor!=te.constructor&&t.constructor!=ve||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},ye.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ye.forEach=function(t,e){for(var i=0,n=this.items.length;i<n;i++)if(!1===t.call(e,this.items[i],i))return this;return this},te)te[T](be)&&(ye[be]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][M](i,e)})}}(be));return ye.attr=function(t,e){if(t&&i.is(t,V)&&i.is(t[0],"object"))for(var n=0,s=t.length;n<s;n++)this.items[n].attr(t[n]);else for(var o=0,r=this.items.length;o<r;o++)this.items[o].attr(t,e);return this},ye.clear=function(){for(;this.length;)this.pop()},ye.splice=function(t,e){t=t<0?B(this.length+t,0):t,e=B(0,H(this.length-t,e));var i,n=[],s=[],o=[];for(i=2;i<arguments.length;i++)o.push(arguments[i]);for(i=0;i<e;i++)s.push(this[t+i]);for(;i<this.length-t;i++)n.push(this[t+i]);var r=o.length;for(i=0;i<r+n.length;i++)this.items[t+i]=this[t+i]=i<r?o[i]:n[i-r];for(i=this.items.length=this.length-=e-r;this[i];)delete this[i++];return new ve(s)},ye.exclude=function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]==t)return this.splice(e,1),!0},ye.animate=function(t,e,n,s){(i.is(n,"function")||!n)&&(s=n||null);var o,r,a=this.items.length,l=a,h=this;if(!a)return this;s&&(r=function(){!--a&&s.call(h)}),n=i.is(n,W)?n:r;var c=i.animation(t,e,n,r);for(o=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,c,c),this.items[l]&&!this.items[l].removed||a--;return this},ye.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},ye.getBBox=function(){for(var t=[],e=[],i=[],n=[],s=this.items.length;s--;)if(!this.items[s].removed){var o=this.items[s].getBBox();t.push(o.x),e.push(o.y),i.push(o.x+o.width),n.push(o.y+o.height)}return{x:t=H[M](0,t),y:e=H[M](0,e),x2:i=B[M](0,i),y2:n=B[M](0,n),width:i-t,height:n-e}},ye.clone=function(t){t=this.paper.set();for(var e=0,i=this.items.length;e<i;e++)t.push(this.items[e].clone());return t},ye.toString=function(){return"Rapha\xebl\u2018s set"},ye.glow=function(t){var e=this.paper.set();return this.forEach(function(i){var n=i.glow(t);null!=n&&n.forEach(function(t){e.push(t)})}),e},ye.isPointInside=function(t,e){var i=!1;return this.forEach(function(n){if(n.isPointInside(t,e))return console.log("runned"),i=!0,!1}),i},i.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[T](n)&&(e.face[n]=t.face[n]);if(this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e],!t.svg)for(var s in e.face["units-per-em"]=tt(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[T](s)){var o=t.glyphs[s];if(e.glyphs[s]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var r in o.k)o[T](r)&&(e.glyphs[s].k[r]=o.k[r])}return t},w.getFont=function(t,e,n,s){if(s=s||"normal",n=n||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,i.fonts){var o,r=i.fonts[t];if(!r){var a=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,E)+"(\\s|$)","i");for(var l in i.fonts)if(i.fonts[T](l)&&a.test(l)){r=i.fonts[l];break}}if(r)for(var h=0,c=r.length;h<c&&((o=r[h]).face["font-weight"]!=e||o.face["font-style"]!=n&&o.face["font-style"]||o.face["font-stretch"]!=s);h++);return o}},w.print=function(t,e,n,s,o,r,a,l){r=r||"middle",a=B(H(a||0,1),-1),l=B(H(l||1,3),1);var h,c=I(n)[N](E),d=0,u=0,p=E;if(i.is(s,"string")&&(s=this.getFont(s)),s){h=(o||16)/s.face["units-per-em"];for(var f=s.face.bbox[N](_),m=+f[0],g=f[3]-f[1],v=0,y=+f[1]+("baseline"==r?g+ +s.face.descent:g/2),b=0,x=c.length;b<x;b++){if("\n"==c[b])d=0,k=0,u=0,v+=g*l;else{var w=u&&s.glyphs[c[b-1]]||{},k=s.glyphs[c[b]];d+=u?(w.w||s.w)+(w.k&&w.k[c[b]]||0)+s.w*a:0,u=1}k&&k.d&&(p+=i.transformPath(k.d,["t",d*h,v*h,"s",h,h,m,y,"t",(t-m)/h,(e-y)/h]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},w.add=function(t){if(i.is(t,"array"))for(var e,n=this.set(),s=0,o=t.length;s<o;s++)e=t[s]||{},k[T](e.type)&&n.push(this[e.type]().attr(e));return n},i.format=function(t,e){var n=i.is(e,V)?[0][A](e):arguments;return t&&i.is(t,W)&&n.length-1&&(t=t.replace(C,function(t,e){return null==n[++e]?E:n[e]})),t||E},i.fullfill=(fe=/\{([^\}]+)\}/g,me=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,ge=function(t,e,i){var n=i;return e.replace(me,function(t,e,i,s,o){e=e||s,n&&(e in n&&(n=n[e]),"function"==typeof n&&o&&(n=n()))}),n=(null==n||n==i?t:n)+""},function(t,e){return String(t).replace(fe,function(t,i){return ge(t,i,e)})}),i.ninja=function(){return D.was?S.win.Raphael=D.is:delete Raphael,i},i.st=ye,function(t,e,n){function s(){/in/.test(t.readyState)?setTimeout(s,9):i.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(e,n=function(){t.removeEventListener(e,n,!1),t.readyState="complete"},!1),t.readyState="loading"),s()}(document,"DOMContentLoaded"),e.on("raphael.DOMload",function(){x=!0}),
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
function(){if(i.svg){var t="hasOwnProperty",e=String,n=parseFloat,s=parseInt,o=Math,r=o.max,a=o.abs,l=o.pow,h=/[, ]+/,c=i.eve,d="",u=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};i.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var g=function(n,s){if(s)for(var o in"string"==typeof n&&(n=g(n)),s)s[t](o)&&("xlink:"==o.substring(0,6)?n.setAttributeNS(p,o.substring(6),e(s[o])):n.setAttribute(o,e(s[o])));else(n=i._g.doc.createElementNS("http://www.w3.org/2000/svg",n)).style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},v=function(t,s){var h="linear",c=t.id+s,u=.5,p=.5,f=t.node,m=t.paper,v=f.style,y=i._g.doc.getElementById(c);if(!y){if(s=(s=e(s).replace(i._radial_gradient,function(t,e,i){if(h="radial",e&&i){u=n(e);var s=2*((p=n(i))>.5)-1;l(u-.5,2)+l(p-.5,2)>.25&&(p=o.sqrt(.25-l(u-.5,2))*s+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*s)}return d})).split(/\s*\-\s*/),"linear"==h){var b=s.shift();if(b=-n(b),isNaN(b))return null;var x=[0,0,o.cos(i.rad(b)),o.sin(i.rad(b))],w=1/(r(a(x[2]),a(x[3]))||1);x[2]*=w,x[3]*=w,x[2]<0&&(x[0]=-x[2],x[2]=0),x[3]<0&&(x[1]=-x[3],x[3]=0)}var _=i._parseDots(s);if(!_)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&c!=t.gradient.id&&(m.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){y=g(h+"Gradient",{id:c}),t.gradient=y,g(y,"radial"==h?{fx:u,fy:p}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:t.matrix.invert()}),m.defs.appendChild(y);for(var k=0,C=_.length;k<C;k++)y.appendChild(g("stop",{offset:_[k].offset?_[k].offset:k?"100%":"0%","stop-color":_[k].color||"#fff"}))}}return g(f,{fill:"url(#"+c+")",opacity:1,"fill-opacity":1}),v.fill=d,v.opacity=1,v.fillOpacity=1,1},y=function(t){var e=t.getBBox(1);g(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},b=function(n,s,o){if("path"==n.type){for(var r,a,l,h,c,u=e(s).toLowerCase().split("-"),p=n.paper,v=o?"end":"start",y=n.node,b=n.attrs,x=b["stroke-width"],w=u.length,_="classic",k=3,C=3,T=5;w--;)switch(u[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":_=u[w];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":k=5;break;case"short":k=2}if("open"==_?(k+=2,C+=2,T+=2,l=1,h=o?4:1,c={fill:"none",stroke:b.stroke}):(h=l=k/2,c={fill:b.stroke,stroke:"none"}),n._.arrows?o?(n._.arrows.endPath&&m[n._.arrows.endPath]--,n._.arrows.endMarker&&m[n._.arrows.endMarker]--):(n._.arrows.startPath&&m[n._.arrows.startPath]--,n._.arrows.startMarker&&m[n._.arrows.startMarker]--):n._.arrows={},"none"!=_){var S="raphael-marker-"+_,D="raphael-marker-"+v+_+k+C;i._g.doc.getElementById(S)?m[S]++:(p.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:f[_],id:S})),m[S]=1);var $,M=i._g.doc.getElementById(D);M?(m[D]++,$=M.getElementsByTagName("use")[0]):(M=g(g("marker"),{id:D,markerHeight:C,markerWidth:k,orient:"auto",refX:h,refY:C/2}),$=g(g("use"),{"xlink:href":"#"+S,transform:(o?"rotate(180 "+k/2+" "+C/2+") ":d)+"scale("+k/T+","+C/T+")","stroke-width":(1/((k/T+C/T)/2)).toFixed(4)}),M.appendChild($),p.defs.appendChild(M),m[D]=1),g($,c);var A=l*("diamond"!=_&&"oval"!=_);o?(r=n._.arrows.startdx*x||0,a=i.getTotalLength(b.path)-A*x):(r=A*x,a=i.getTotalLength(b.path)-(n._.arrows.enddx*x||0)),(c={})["marker-"+v]="url(#"+D+")",(a||r)&&(c.d=i.getSubpath(b.path,r,a)),g(y,c),n._.arrows[v+"Path"]=S,n._.arrows[v+"Marker"]=D,n._.arrows[v+"dx"]=A,n._.arrows[v+"Type"]=_,n._.arrows[v+"String"]=s}else o?(r=n._.arrows.startdx*x||0,a=i.getTotalLength(b.path)-r):(r=0,a=i.getTotalLength(b.path)-(n._.arrows.enddx*x||0)),n._.arrows[v+"Path"]&&g(y,{d:i.getSubpath(b.path,r,a)}),delete n._.arrows[v+"Path"],delete n._.arrows[v+"Marker"],delete n._.arrows[v+"dx"],delete n._.arrows[v+"Type"],delete n._.arrows[v+"String"];for(c in m)if(m[t](c)&&!m[c]){var L=i._g.doc.getElementById(c);L&&L.parentNode.removeChild(L)}}},x={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},w=function(t,i,n){if(i=x[e(i).toLowerCase()]){for(var s=t.attrs["stroke-width"]||"1",o={round:s,square:s,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,r=[],a=i.length;a--;)r[a]=i[a]*s+(a%2?1:-1)*o;g(t.node,{"stroke-dasharray":r.join(",")})}},_=function(n,o){var l=n.node,c=n.attrs,u=l.style.visibility;for(var f in l.style.visibility="hidden",o)if(o[t](f)){if(!i._availableAttrs[t](f))continue;var m=o[f];switch(c[f]=m,f){case"blur":n.blur(m);break;case"href":case"title":var x=g("title"),_=i._g.doc.createTextNode(m);x.appendChild(_),l.appendChild(x);break;case"target":var k=l.parentNode;if("a"!=k.tagName.toLowerCase()){x=g("a");k.insertBefore(x,l),x.appendChild(l),k=x}"target"==f?k.setAttributeNS(p,"show","blank"==m?"new":m):k.setAttributeNS(p,f,m);break;case"cursor":l.style.cursor=m;break;case"transform":n.transform(m);break;case"arrow-start":b(n,m);break;case"arrow-end":b(n,m,1);break;case"clip-rect":var T=e(m).split(h);if(4==T.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var S=g("clipPath"),D=g("rect");S.id=i.createUUID(),g(D,{x:T[0],y:T[1],width:T[2],height:T[3]}),S.appendChild(D),n.paper.defs.appendChild(S),g(l,{"clip-path":"url(#"+S.id+")"}),n.clip=D}if(!m){var $=l.getAttribute("clip-path");if($){var M=i._g.doc.getElementById($.replace(/(^url\(#|\)$)/g,d));M&&M.parentNode.removeChild(M),g(l,{"clip-path":d}),delete n.clip}}break;case"path":"path"==n.type&&(g(l,{d:m?c.path=i._pathToAbsolute(m):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,m),n._.dirty=1,!c.fx)break;f="x",m=c.x;case"x":c.fx&&(m=-c.x-(c.width||0));case"rx":if("rx"==f&&"rect"==n.type)break;case"cx":l.setAttribute(f,m),n.pattern&&y(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,m),n._.dirty=1,!c.fy)break;f="y",m=c.y;case"y":c.fy&&(m=-c.y-(c.height||0));case"ry":if("ry"==f&&"rect"==n.type)break;case"cy":l.setAttribute(f,m),n.pattern&&y(n),n._.dirty=1;break;case"r":"rect"==n.type?g(l,{rx:m,ry:m}):l.setAttribute(f,m),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(p,"href",m);break;case"stroke-width":1==n._.sx&&1==n._.sy||(m/=r(a(n._.sx),a(n._.sy))||1),n.paper._vbSize&&(m*=n.paper._vbSize),l.setAttribute(f,m),c["stroke-dasharray"]&&w(n,c["stroke-dasharray"],o),n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"stroke-dasharray":w(n,m,o);break;case"fill":var A=e(m).match(i._ISURL);if(A){S=g("pattern");var L=g("image");S.id=i.createUUID(),g(S,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(L,{x:0,y:0,"xlink:href":A[1]}),S.appendChild(L),function(t){i._preload(A[1],function(){var e=this.offsetWidth,i=this.offsetHeight;g(t,{width:e,height:i}),g(L,{width:e,height:i}),n.paper.safari()})}(S),n.paper.defs.appendChild(S),g(l,{fill:"url(#"+S.id+")"}),n.pattern=S,n.pattern&&y(n);break}var E=i.getRGB(m);if(E.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=e(m).charAt())&&v(n,m)){if("opacity"in c||"fill-opacity"in c){var P=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,d));if(P){var I=P.getElementsByTagName("stop");g(I[I.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=m,c.fill="none";break}}else delete o.gradient,delete c.gradient,!i.is(c.opacity,"undefined")&&i.is(o.opacity,"undefined")&&g(l,{opacity:c.opacity}),!i.is(c["fill-opacity"],"undefined")&&i.is(o["fill-opacity"],"undefined")&&g(l,{"fill-opacity":c["fill-opacity"]});E[t]("opacity")&&g(l,{"fill-opacity":E.opacity>1?E.opacity/100:E.opacity});case"stroke":E=i.getRGB(m),l.setAttribute(f,E.hex),"stroke"==f&&E[t]("opacity")&&g(l,{"stroke-opacity":E.opacity>1?E.opacity/100:E.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=e(m).charAt())&&v(n,m);break;case"opacity":c.gradient&&!c[t]("stroke-opacity")&&g(l,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(c.gradient){(P=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,d)))&&(I=P.getElementsByTagName("stop"),g(I[I.length-1],{"stop-opacity":m}));break}default:"font-size"==f&&(m=s(m,10)+"px");var N=f.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[N]=m,n._.dirty=1,l.setAttribute(f,m)}}C(n,o),l.style.visibility=u},k=1.2,C=function(n,o){if("text"==n.type&&(o[t]("text")||o[t]("font")||o[t]("font-size")||o[t]("x")||o[t]("y"))){var r=n.attrs,a=n.node,l=a.firstChild?s(i._g.doc.defaultView.getComputedStyle(a.firstChild,d).getPropertyValue("font-size"),10):10;if(o[t]("text")){for(r.text=o.text;a.firstChild;)a.removeChild(a.firstChild);for(var h,c=e(o.text).split("\n"),u=[],p=0,f=c.length;p<f;p++)h=g("tspan"),p&&g(h,{dy:l*k,x:r.x}),h.appendChild(i._g.doc.createTextNode(c[p])),a.appendChild(h),u[p]=h}else for(p=0,f=(u=a.getElementsByTagName("tspan")).length;p<f;p++)p?g(u[p],{dy:l*k,x:r.x}):g(u[0],{dy:0});g(a,{x:r.x,y:r.y}),n._.dirty=1;var m=n._getBBox(),v=r.y-(m.y+m.height/2);v&&i.is(v,"finite")&&g(u[0],{dy:v})}},T=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=i._oid++,t.raphaelid=this.id,this.matrix=i.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},S=i.el;T.prototype=S,S.constructor=T,i._engine.path=function(t,e){var i=g("path");e.canvas&&e.canvas.appendChild(i);var n=new T(i,e);return n.type="path",_(n,{fill:"none",stroke:"#000",path:t}),n},S.rotate=function(t,i,s){if(this.removed)return this;if((t=e(t).split(h)).length-1&&(i=n(t[1]),s=n(t[2])),t=n(t[0]),null==s&&(i=s),null==i||null==s){var o=this.getBBox(1);i=o.x+o.width/2,s=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,i,s]])),this},S.scale=function(t,i,s,o){if(this.removed)return this;if((t=e(t).split(h)).length-1&&(i=n(t[1]),s=n(t[2]),o=n(t[3])),t=n(t[0]),null==i&&(i=t),null==o&&(s=o),null==s||null==o)var r=this.getBBox(1);return s=null==s?r.x+r.width/2:s,o=null==o?r.y+r.height/2:o,this.transform(this._.transform.concat([["s",t,i,s,o]])),this},S.translate=function(t,i){return this.removed?this:((t=e(t).split(h)).length-1&&(i=n(t[1])),t=n(t[0])||0,i=+i||0,this.transform(this._.transform.concat([["t",t,i]])),this)},S.transform=function(e){var n=this._;if(null==e)return n.transform;if(i._extractTransform(this,e),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&g(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var s=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":s})}return this},S.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},S.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},S.remove=function(){if(!this.removed&&this.node.parentNode){var t=this.paper;for(var e in t.__set__&&t.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),i._tear(this,t),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node),this)this[e]="function"==typeof this[e]?i._removedFactory(e):null;this.removed=!0}},S._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(i){}finally{e=e||{}}return t&&this.hide(),e},S.attr=function(e,n){if(this.removed)return this;if(null==e){var s={};for(var o in this.attrs)this.attrs[t](o)&&(s[o]=this.attrs[o]);return s.gradient&&"none"==s.fill&&(s.fill=s.gradient)&&delete s.gradient,s.transform=this._.transform,s}if(null==n&&i.is(e,"string")){if("fill"==e&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==e)return this._.transform;for(var r=e.split(h),a={},l=0,d=r.length;l<d;l++)(e=r[l])in this.attrs?a[e]=this.attrs[e]:i.is(this.paper.customAttributes[e],"function")?a[e]=this.paper.customAttributes[e].def:a[e]=i._availableAttrs[e];return d-1?a:a[r[0]]}if(null==n&&i.is(e,"array")){for(a={},l=0,d=e.length;l<d;l++)a[e[l]]=this.attr(e[l]);return a}if(null!=n){var u={};u[e]=n}else null!=e&&i.is(e,"object")&&(u=e);for(var p in u)c("raphael.attr."+p+"."+this.id,this,u[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&u[t](p)&&i.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(u[p]));for(var m in this.attrs[p]=u[p],f)f[t](m)&&(u[m]=f[m])}return _(this,u),this},S.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&i._tofront(this,t),this},S.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;"a"==t.tagName.toLowerCase()?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper);this.paper;return this},S.insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),i._insertafter(this,t,this.paper),this},S.insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),i._insertbefore(this,t,this.paper),this},S.blur=function(t){var e=this;if(0!=+t){var n=g("filter"),s=g("feGaussianBlur");e.attrs.blur=t,n.id=i.createUUID(),g(s,{stdDeviation:+t||1.5}),n.appendChild(s),e.paper.defs.appendChild(n),e._blur=n,g(e.node,{filter:"url(#"+n.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter");return e},i._engine.circle=function(t,e,i,n){var s=g("circle");t.canvas&&t.canvas.appendChild(s);var o=new T(s,t);return o.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},o.type="circle",g(s,o.attrs),o},i._engine.rect=function(t,e,i,n,s,o){var r=g("rect");t.canvas&&t.canvas.appendChild(r);var a=new T(r,t);return a.attrs={x:e,y:i,width:n,height:s,r:o||0,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},a.type="rect",g(r,a.attrs),a},i._engine.ellipse=function(t,e,i,n,s){var o=g("ellipse");t.canvas&&t.canvas.appendChild(o);var r=new T(o,t);return r.attrs={cx:e,cy:i,rx:n,ry:s,fill:"none",stroke:"#000"},r.type="ellipse",g(o,r.attrs),r},i._engine.image=function(t,e,i,n,s,o){var r=g("image");g(r,{x:i,y:n,width:s,height:o,preserveAspectRatio:"none"}),r.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(r);var a=new T(r,t);return a.attrs={x:i,y:n,width:s,height:o,src:e},a.type="image",a},i._engine.text=function(t,e,n,s){var o=g("text");t.canvas&&t.canvas.appendChild(o);var r=new T(o,t);return r.attrs={x:e,y:n,"text-anchor":"middle",text:s,font:i._availableAttrs.font,stroke:"none",fill:"#000"},r.type="text",_(r,r.attrs),r},i._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},i._engine.create=function(){var t=i._getContainer.apply(0,arguments),e=t&&t.container,n=t.x,s=t.y,o=t.width,r=t.height;if(!e)throw new Error("SVG container not found.");var a,l=g("svg"),h="overflow:hidden;";return n=n||0,s=s||0,g(l,{height:r=r||342,version:1.1,width:o=o||512,xmlns:"http://www.w3.org/2000/svg"}),1==e?(l.style.cssText=h+"position:absolute;left:"+n+"px;top:"+s+"px",i._g.doc.body.appendChild(l),a=1):(l.style.cssText=h+"position:relative",e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l)),(e=new i._Paper).width=o,e.height=r,e.canvas=l,e.clear(),e._left=e._top=0,a&&(e.renderfix=function(){}),e.renderfix(),e},i._engine.setViewBox=function(t,e,i,n,s){c("raphael.setViewBox",this,this._viewBox,[t,e,i,n,s]);var o,a,l=r(i/this.width,n/this.height),h=this.top,d=s?"meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,o="0 0 "+this.width+u+this.height):(this._vbSize=l,o=t+u+e+u+i+u+n),g(this.canvas,{viewBox:o,preserveAspectRatio:d});l&&h;)a="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":a}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,i,n,!!s],this},i.prototype.renderfix=function(){var t,e=this.canvas,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(o){t=e.createSVGMatrix()}var n=-t.e%1,s=-t.f%1;(n||s)&&(n&&(this._left=(this._left+n)%1,i.left=this._left+"px"),s&&(this._top=(this._top+s)%1,i.top=this._top+"px"))},i.prototype.clear=function(){i.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(i._g.doc.createTextNode("Created with Rapha\xebl "+i.version)),t.appendChild(this.desc),t.appendChild(this.defs=g("defs"))},i.prototype.remove=function(){for(var t in c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?i._removedFactory(t):null};var D=i.st;for(var $ in S)S[t]($)&&!D[t]($)&&(D[$]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}($))}}(),
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
function(){if(i.vml){var t="hasOwnProperty",e=String,n=parseFloat,s=Math,o=s.round,r=s.max,a=s.min,l=s.abs,h="fill",c=/[, ]+/,d=i.eve,u=" progid:DXImageTransform.Microsoft",p=" ",f="",m={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px",x=21600,w={path:1,rect:1,image:1},_={circle:1,ellipse:1},k=function(t){var n=/[ahqstv]/gi,s=i._pathToAbsolute;if(e(t).match(n)&&(s=i._path2curve),n=/[clmz]/g,s==i._pathToAbsolute&&!e(t).match(n)){var r=e(t).replace(g,function(t,e,i){var n=[],s="m"==e.toLowerCase(),r=m[e];return i.replace(y,function(t){s&&2==n.length&&(r+=n+m["m"==e?"l":"L"],n=[]),n.push(o(t*x))}),r+n});return r}var a,l,h=s(t);r=[];for(var c=0,d=h.length;c<d;c++){a=h[c],"z"==(l=h[c][0].toLowerCase())&&(l="x");for(var u=1,v=a.length;u<v;u++)l+=o(a[u]*x)+(u!=v-1?",":f);r.push(l)}return r.join(p)},C=function(t,e,n){var s=i.matrix();return s.rotate(-t,.5,.5),{dx:s.x(e,n),dy:s.y(e,n)}},T=function(t,e,i,n,s,o){var r=t._,a=t.matrix,c=r.fillpos,d=t.node,u=d.style,f=1,m="",g=x/e,v=x/i;if(u.visibility="hidden",e&&i){if(d.coordsize=l(g)+p+l(v),u.rotation=o*(e*i<0?-1:1),o){var y=C(o,n,s);n=y.dx,s=y.dy}if(e<0&&(m+="x"),i<0&&(m+=" y")&&(f=-1),u.flip=m,d.coordorigin=n*-g+p+s*-v,c||r.fillsize){var b=d.getElementsByTagName(h);b=b&&b[0],d.removeChild(b),c&&(y=C(o,a.x(c[0],c[1]),a.y(c[0],c[1])),b.position=y.dx*f+p+y.dy*f),r.fillsize&&(b.size=r.fillsize[0]*l(e)+p+r.fillsize[1]*l(i)),d.appendChild(b)}u.visibility="visible"}};i.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var S,D=function(t,i,n){for(var s=e(i).toLowerCase().split("-"),o=n?"end":"start",r=s.length,a="classic",l="medium",h="medium";r--;)switch(s[r]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=s[r];break;case"wide":case"narrow":h=s[r];break;case"long":case"short":l=s[r]}var c=t.node.getElementsByTagName("stroke")[0];c[o+"arrow"]=a,c[o+"arrowlength"]=l,c[o+"arrowwidth"]=h},$=function(s,l){s.attrs=s.attrs||{};var d=s.node,u=s.attrs,m=d.style,g=w[s.type]&&(l.x!=u.x||l.y!=u.y||l.width!=u.width||l.height!=u.height||l.cx!=u.cx||l.cy!=u.cy||l.rx!=u.rx||l.ry!=u.ry||l.r!=u.r),v=_[s.type]&&(u.cx!=l.cx||u.cy!=l.cy||u.r!=l.r||u.rx!=l.rx||u.ry!=l.ry),y=s;for(var b in l)l[t](b)&&(u[b]=l[b]);if(g&&(u.path=i._getPath[s.type](s),s._.dirty=1),l.href&&(d.href=l.href),l.title&&(d.title=l.title),l.target&&(d.target=l.target),l.cursor&&(m.cursor=l.cursor),"blur"in l&&s.blur(l.blur),(l.path&&"path"==s.type||g)&&(d.path=k(~e(u.path).toLowerCase().indexOf("r")?i._pathToAbsolute(u.path):u.path),"image"==s.type&&(s._.fillpos=[u.x,u.y],s._.fillsize=[u.width,u.height],T(s,1,1,0,0,0))),"transform"in l&&s.transform(l.transform),v){var C=+u.cx,$=+u.cy,A=+u.rx||+u.r||0,L=+u.ry||+u.r||0;d.path=i.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((C-A)*x),o(($-L)*x),o((C+A)*x),o(($+L)*x),o(C*x)),s._.dirty=1}if("clip-rect"in l){var E=e(l["clip-rect"]).split(c);if(4==E.length){E[2]=+E[2]+ +E[0],E[3]=+E[3]+ +E[1];var P=d.clipRect||i._g.doc.createElement("div"),I=P.style;I.clip=i.format("rect({1}px {2}px {3}px {0}px)",E),d.clipRect||(I.position="absolute",I.top=0,I.left=0,I.width=s.paper.width+"px",I.height=s.paper.height+"px",d.parentNode.insertBefore(P,d),P.appendChild(d),d.clipRect=P)}l["clip-rect"]||d.clipRect&&(d.clipRect.style.clip="auto")}if(s.textpath){var N=s.textpath.style;l.font&&(N.font=l.font),l["font-family"]&&(N.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(N.fontSize=l["font-size"]),l["font-weight"]&&(N.fontWeight=l["font-weight"]),l["font-style"]&&(N.fontStyle=l["font-style"])}if("arrow-start"in l&&D(y,l["arrow-start"]),"arrow-end"in l&&D(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var F=d.getElementsByTagName(h);if(!(F=F&&F[0])&&(F=S(h)),"image"==s.type&&l.src&&(F.src=l.src),l.fill&&(F.on=!0),null!=F.on&&"none"!=l.fill&&null!==l.fill||(F.on=!1),F.on&&l.fill){var O=e(l.fill).match(i._ISURL);if(O){F.parentNode==d&&d.removeChild(F),F.rotate=!0,F.src=O[1],F.type="tile";var R=s.getBBox(1);F.position=R.x+p+R.y,s._.fillpos=[R.x,R.y],i._preload(O[1],function(){s._.fillsize=[this.offsetWidth,this.offsetHeight]})}else F.color=i.getRGB(l.fill).hex,F.src=f,F.type="solid",i.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=e(l.fill).charAt())&&M(y,l.fill,F)&&(u.fill="none",u.gradient=l.fill,F.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var j=((+u["fill-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+i.getRGB(l.fill).o+1||2)-1);j=a(r(j,0),1),F.opacity=j,F.src&&(F.color="none")}d.appendChild(F);var B=d.getElementsByTagName("stroke")&&d.getElementsByTagName("stroke")[0],H=!1;!B&&(H=B=S("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(B.on=!0),("none"==l.stroke||null===l.stroke||null==B.on||0==l.stroke||0==l["stroke-width"])&&(B.on=!1);var z=i.getRGB(l.stroke);B.on&&l.stroke&&(B.color=z.hex),j=((+u["stroke-opacity"]+1||2)-1)*((+u.opacity+1||2)-1)*((+z.o+1||2)-1);var U=.75*(n(l["stroke-width"])||1);if(j=a(r(j,0),1),null==l["stroke-width"]&&(U=u["stroke-width"]),l["stroke-width"]&&(B.weight=U),U&&U<1&&(j*=U)&&(B.weight=1),B.opacity=j,l["stroke-linejoin"]&&(B.joinstyle=l["stroke-linejoin"]||"miter"),B.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(B.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),l["stroke-dasharray"]){var G={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};B.dashstyle=G[t](l["stroke-dasharray"])?G[l["stroke-dasharray"]]:f}H&&d.appendChild(B)}if("text"==y.type){y.paper.canvas.style.display=f;var q=y.paper.span,W=100,V=u.font&&u.font.match(/\d+(?:\.\d*)?(?=px)/);m=q.style,u.font&&(m.font=u.font),u["font-family"]&&(m.fontFamily=u["font-family"]),u["font-weight"]&&(m.fontWeight=u["font-weight"]),u["font-style"]&&(m.fontStyle=u["font-style"]),V=n(u["font-size"]||V&&V[0])||10,m.fontSize=V*W+"px",y.textpath.string&&(q.innerHTML=e(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Y=q.getBoundingClientRect();y.W=u.w=(Y.right-Y.left)/W,y.H=u.h=(Y.bottom-Y.top)/W,y.X=u.x,y.Y=u.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=i.format("m{0},{1}l{2},{1}",o(u.x*x),o(u.y*x),o(u.x*x)+1));for(var X=["x","y","text","font","font-family","font-weight","font-style","font-size"],K=0,Q=X.length;K<Q;K++)if(X[K]in l){y._.dirty=1;break}switch(u["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},M=function(t,o,r){t.attrs=t.attrs||{};t.attrs;var a=Math.pow,l="linear",h=".5 .5";if(t.attrs.gradient=o,o=(o=e(o).replace(i._radial_gradient,function(t,e,i){return l="radial",e&&i&&(e=n(e),i=n(i),a(e-.5,2)+a(i-.5,2)>.25&&(i=s.sqrt(.25-a(e-.5,2))*(2*(i>.5)-1)+.5),h=e+p+i),f})).split(/\s*\-\s*/),"linear"==l){var c=o.shift();if(c=-n(c),isNaN(c))return null}var d=i._parseDots(o);if(!d)return null;if(t=t.shape||t.node,d.length){t.removeChild(r),r.on=!0,r.method="none",r.color=d[0].color,r.color2=d[d.length-1].color;for(var u=[],m=0,g=d.length;m<g;m++)d[m].offset&&u.push(d[m].offset+p+d[m].color);r.colors=u.length?u.join():"0% "+r.color,"radial"==l?(r.type="gradientTitle",r.focus="100%",r.focussize="0 0",r.focusposition=h,r.angle=0):(r.type="gradient",r.angle=(270-c)%360),t.appendChild(r)}return 1},A=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=i._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=i.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},L=i.el;A.prototype=L,L.constructor=A,L.transform=function(t){if(null==t)return this._.transform;var n,s=this.paper._viewBoxShift,o=s?"s"+[s.scale,s.scale]+"-1-1t"+[s.dx,s.dy]:f;s&&(n=t=e(t).replace(/\.{3}|\u2026/g,this._.transform||f)),i._extractTransform(this,o+t);var r,a=this.matrix.clone(),l=this.skew,h=this.node,c=~e(this.attrs.fill).indexOf("-"),d=!e(this.attrs.fill).indexOf("url(");if(a.translate(1,1),d||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",r=a.split(),c&&r.noRotation||!r.isSimple){h.style.filter=a.toFilter();var u=this.getBBox(),m=this.getBBox(1),g=u.x-m.x,v=u.y-m.y;h.coordorigin=g*-x+p+v*-x,T(this,1,1,g,v,0)}else h.style.filter=f,T(this,r.scalex,r.scaley,r.dx,r.dy,r.rotate);else h.style.filter=f,l.matrix=e(a),l.offset=a.offset();return n&&(this._.transform=n),this},L.rotate=function(t,i,s){if(this.removed)return this;if(null!=t){if((t=e(t).split(c)).length-1&&(i=n(t[1]),s=n(t[2])),t=n(t[0]),null==s&&(i=s),null==i||null==s){var o=this.getBBox(1);i=o.x+o.width/2,s=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,i,s]])),this}},L.translate=function(t,i){return this.removed?this:((t=e(t).split(c)).length-1&&(i=n(t[1])),t=n(t[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",t,i]])),this)},L.scale=function(t,i,s,o){if(this.removed)return this;if((t=e(t).split(c)).length-1&&(i=n(t[1]),s=n(t[2]),o=n(t[3]),isNaN(s)&&(s=null),isNaN(o)&&(o=null)),t=n(t[0]),null==i&&(i=t),null==o&&(s=o),null==s||null==o)var r=this.getBBox(1);return s=null==s?r.x+r.width/2:s,o=null==o?r.y+r.height/2:o,this.transform(this._.transform.concat([["s",t,i,s,o]])),this._.dirtyT=1,this},L.hide=function(){return!this.removed&&(this.node.style.display="none"),this},L.show=function(){return!this.removed&&(this.node.style.display=f),this},L._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},L.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),i.eve.unbind("raphael.*.*."+this.id),i._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?i._removedFactory(t):null;this.removed=!0}},L.attr=function(e,n){if(this.removed)return this;if(null==e){var s={};for(var o in this.attrs)this.attrs[t](o)&&(s[o]=this.attrs[o]);return s.gradient&&"none"==s.fill&&(s.fill=s.gradient)&&delete s.gradient,s.transform=this._.transform,s}if(null==n&&i.is(e,"string")){if(e==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var r=e.split(c),a={},l=0,u=r.length;l<u;l++)(e=r[l])in this.attrs?a[e]=this.attrs[e]:i.is(this.paper.customAttributes[e],"function")?a[e]=this.paper.customAttributes[e].def:a[e]=i._availableAttrs[e];return u-1?a:a[r[0]]}if(this.attrs&&null==n&&i.is(e,"array")){for(a={},l=0,u=e.length;l<u;l++)a[e[l]]=this.attr(e[l]);return a}var p;for(var f in null!=n&&((p={})[e]=n),null==n&&i.is(e,"object")&&(p=e),p)d("raphael.attr."+f+"."+this.id,this,p[f]);if(p){for(f in this.paper.customAttributes)if(this.paper.customAttributes[t](f)&&p[t](f)&&i.is(this.paper.customAttributes[f],"function")){var m=this.paper.customAttributes[f].apply(this,[].concat(p[f]));for(var g in this.attrs[f]=p[f],m)m[t](g)&&(p[g]=m[g])}p.text&&"text"==this.type&&(this.textpath.string=p.text),$(this,p)}return this},L.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&i._tofront(this,this.paper),this},L.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper)),this)},L.insertAfter=function(t){return this.removed?this:(t.constructor==i.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),i._insertafter(this,t,this.paper),this)},L.insertBefore=function(t){return this.removed?this:(t.constructor==i.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),i._insertbefore(this,t,this.paper),this)},L.blur=function(t){var e=this.node.runtimeStyle,n=e.filter;return n=n.replace(v,f),0!=+t?(this.attrs.blur=t,e.filter=n+p+u+".Blur(pixelradius="+(+t||1.5)+")",e.margin=i.format("-{0}px 0 0 -{0}px",o(+t||1.5))):(e.filter=n,e.margin=0,delete this.attrs.blur),this},i._engine.path=function(t,e){var i=S("shape");i.style.cssText=b,i.coordsize=x+p+x,i.coordorigin=e.coordorigin;var n=new A(i,e),s={fill:"none",stroke:"#000"};t&&(s.path=t),n.type="path",n.path=[],n.Path=f,$(n,s),e.canvas.appendChild(i);var o=S("skew");return o.on=!0,i.appendChild(o),n.skew=o,n.transform(f),n},i._engine.rect=function(t,e,n,s,o,r){var a=i._rectPath(e,n,s,o,r),l=t.path(a),h=l.attrs;return l.X=h.x=e,l.Y=h.y=n,l.W=h.width=s,l.H=h.height=o,h.r=r,h.path=a,l.type="rect",l},i._engine.ellipse=function(t,e,i,n,s){var o=t.path();o.attrs;return o.X=e-n,o.Y=i-s,o.W=2*n,o.H=2*s,o.type="ellipse",$(o,{cx:e,cy:i,rx:n,ry:s}),o},i._engine.circle=function(t,e,i,n){var s=t.path();s.attrs;return s.X=e-n,s.Y=i-n,s.W=s.H=2*n,s.type="circle",$(s,{cx:e,cy:i,r:n}),s},i._engine.image=function(t,e,n,s,o,r){var a=i._rectPath(n,s,o,r),l=t.path(a).attr({stroke:"none"}),c=l.attrs,d=l.node,u=d.getElementsByTagName(h)[0];return c.src=e,l.X=c.x=n,l.Y=c.y=s,l.W=c.width=o,l.H=c.height=r,c.path=a,l.type="image",u.parentNode==d&&d.removeChild(u),u.rotate=!0,u.src=e,u.type="tile",l._.fillpos=[n,s],l._.fillsize=[o,r],d.appendChild(u),T(l,1,1,0,0,0),l},i._engine.text=function(t,n,s,r){var a=S("shape"),l=S("path"),h=S("textpath");n=n||0,s=s||0,r=r||"",l.v=i.format("m{0},{1}l{2},{1}",o(n*x),o(s*x),o(n*x)+1),l.textpathok=!0,h.string=e(r),h.on=!0,a.style.cssText=b,a.coordsize=x+p+x,a.coordorigin="0 0";var c=new A(a,t),d={fill:"#000",stroke:"none",font:i._availableAttrs.font,text:r};c.shape=a,c.path=l,c.textpath=h,c.type="text",c.attrs.text=e(r),c.attrs.x=n,c.attrs.y=s,c.attrs.w=1,c.attrs.h=1,$(c,d),a.appendChild(h),a.appendChild(l),t.canvas.appendChild(a);var u=S("skew");return u.on=!0,a.appendChild(u),c.skew=u,c.transform(f),c},i._engine.setSize=function(t,e){var n=this.canvas.style;return this.width=t,this.height=e,t==+t&&(t+="px"),e==+e&&(e+="px"),n.width=t,n.height=e,n.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&i._engine.setViewBox.apply(this,this._viewBox),this},i._engine.setViewBox=function(t,e,n,s,o){i.eve("raphael.setViewBox",this,this._viewBox,[t,e,n,s,o]);var a,l,h=this.width,c=this.height,d=1/r(n/h,s/c);return o&&(n*(a=c/s)<h&&(t-=(h-n*a)/2/a),s*(l=h/n)<c&&(e-=(c-s*l)/2/l)),this._viewBox=[t,e,n,s,!!o],this._viewBoxShift={dx:-t,dy:-e,scale:d},this.forEach(function(t){t.transform("...")}),this},i._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),S=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(i){S=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},i._engine.initWin(i._g.win),i._engine.create=function(){var t=i._getContainer.apply(0,arguments),e=t.container,n=t.height,s=t.width,o=t.x,r=t.y;if(!e)throw new Error("VML container not found.");var a=new i._Paper,l=a.canvas=i._g.doc.createElement("div"),h=l.style;return o=o||0,r=r||0,s=s||512,n=n||342,a.width=s,a.height=n,s==+s&&(s+="px"),n==+n&&(n+="px"),a.coordsize=1e3*x+p+1e3*x,a.coordorigin="0 0",a.span=i._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),h.cssText=i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",s,n),1==e?(i._g.doc.body.appendChild(l),h.left=o+"px",h.top=r+"px",h.position="absolute"):e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l),a.renderfix=function(){},a},i.prototype.clear=function(){i.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=i._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},i.prototype.remove=function(){for(var t in i.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?i._removedFactory(t):null;return!0};var E=i.st;for(var P in L)L[t](P)&&!E[t](P)&&(E[P]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(P))}}(),D.was?S.win.Raphael=i:Raphael=i,i}),
/*!
 * g.Raphael 0.51 - Charting library, based on Raphaël
 *
 * Copyright (c) 2009-2012 Dmitry Baranovskiy (http://g.raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
Raphael.el.popup=function(t,e,i,n){var s,o,r,a,l,h=this.paper||this[0].paper;if(h){switch(this.type){case"text":case"circle":case"ellipse":r=!0;break;default:r=!1}t=null==t?"up":t,e=e||5,s=this.getBBox(),i="number"==typeof i?i:r?s.x+s.width/2:s.x,n="number"==typeof n?n:r?s.y+s.height/2:s.y,a=Math.max(s.width/2-e,0),l=Math.max(s.height/2-e,0),this.translate(i-s.x-(r?s.width/2:0),n-s.y-(r?s.height/2:0));var c={up:["M",i,n,"l",-e,-e,-a,0,"a",e,e,0,0,1,-e,-e,"l",0,-(s=this.getBBox()).height,"a",e,e,0,0,1,e,-e,"l",2*e+2*a,0,"a",e,e,0,0,1,e,e,"l",0,s.height,"a",e,e,0,0,1,-e,e,"l",-a,0,"z"].join(","),down:["M",i,n,"l",e,e,a,0,"a",e,e,0,0,1,e,e,"l",0,s.height,"a",e,e,0,0,1,-e,e,"l",-(2*e+2*a),0,"a",e,e,0,0,1,-e,-e,"l",0,-s.height,"a",e,e,0,0,1,e,-e,"l",a,0,"z"].join(","),left:["M",i,n,"l",-e,e,0,l,"a",e,e,0,0,1,-e,e,"l",-s.width,0,"a",e,e,0,0,1,-e,-e,"l",0,-(2*e+2*l),"a",e,e,0,0,1,e,-e,"l",s.width,0,"a",e,e,0,0,1,e,e,"l",0,l,"z"].join(","),right:["M",i,n,"l",e,-e,0,-l,"a",e,e,0,0,1,e,-e,"l",s.width,0,"a",e,e,0,0,1,e,e,"l",0,2*e+2*l,"a",e,e,0,0,1,-e,e,"l",-s.width,0,"a",e,e,0,0,1,-e,-e,"l",0,-l,"z"].join(",")};return o={up:{x:-!r*(s.width/2),y:2*-e-(r?s.height/2:s.height)},down:{x:-!r*(s.width/2),y:2*e+(r?s.height/2:s.height)},left:{x:2*-e-(r?s.width/2:s.width),y:-!r*(s.height/2)},right:{x:2*e+(r?s.width/2:s.width),y:-!r*(s.height/2)}}[t],this.translate(o.x,o.y),h.path(c[t]).attr({fill:"#000",stroke:"none"}).insertBefore(this.node?this:this[0])}},Raphael.el.tag=function(t,e,i,n){var s=3,o=this.paper||this[0].paper;if(o){var r,a,l,h=o.path().attr({fill:"#000",stroke:"#000"}),c=this.getBBox();switch(this.type){case"text":case"circle":case"ellipse":l=!0;break;default:l=!1}return t=t||0,i="number"==typeof i?i:l?c.x+c.width/2:c.x,n="number"==typeof n?n:l?c.y+c.height/2:c.y,a=.5522*(e=null==e?5:e),c.height>=2*e?h.attr({path:["M",i,n+e,"a",e,e,0,1,1,0,2*-e,e,e,0,1,1,0,2*e,"m",0,2*-e-s,"a",e+s,e+s,0,1,0,0,2*(e+s),"L",i+e+s,n+c.height/2+s,"l",c.width+2*s,0,0,-c.height-2*s,-c.width-2*s,0,"L",i,n-e-s].join(",")}):(r=Math.sqrt(Math.pow(e+s,2)-Math.pow(c.height/2+s,2)),h.attr({path:["M",i,n+e,"c",-a,0,-e,a-e,-e,-e,0,-a,e-a,-e,e,-e,a,0,e,e-a,e,e,0,a,a-e,e,-e,e,"M",i+r,n-c.height/2-s,"a",e+s,e+s,0,1,0,0,c.height+2*s,"l",e+s-r+c.width+2*s,0,0,-c.height-2*s,"L",i+r,n-c.height/2-s].join(",")})),t=360-t,h.rotate(t,i,n),this.attrs?(this.attr(this.attrs.x?"x":"cx",i+e+s+(l?c.width/2:"text"==this.type?c.width:0)).attr("y",l?n:n-c.height/2),this.rotate(t,i,n),t>90&&270>t&&this.attr(this.attrs.x?"x":"cx",i-e-s-(l?c.width/2:c.width)).rotate(180,i,n)):t>90&&270>t?(this.translate(i-c.x-c.width-e-s,n-c.y-c.height/2),this.rotate(t-180,c.x+c.width+e+s,c.y+c.height/2)):(this.translate(i-c.x+e+s,n-c.y-c.height/2),this.rotate(t,c.x-e-s,c.y+c.height/2)),h.insertBefore(this.node?this:this[0])}},Raphael.el.drop=function(t,e,i){var n,s,o,r,a,l=this.getBBox(),h=this.paper||this[0].paper;if(h){switch(this.type){case"text":case"circle":case"ellipse":n=!0;break;default:n=!1}return t=t||0,e="number"==typeof e?e:n?l.x+l.width/2:l.x,i="number"==typeof i?i:n?l.y+l.height/2:l.y,s=Math.max(l.width,l.height)+Math.min(l.width,l.height),o=h.path(["M",e,i,"l",s,0,"A",.4*s,.4*s,0,1,0,e+.7*s,i-.7*s,"z"]).attr({fill:"#000",stroke:"none"}).rotate(22.5-t,e,i),t=(t+90)*Math.PI/180,r=e+s*Math.sin(t)-(n?0:l.width/2),a=i+s*Math.cos(t)-(n?0:l.height/2),this.attrs?this.attr(this.attrs.x?"x":"cx",r).attr(this.attrs.y?"y":"cy",a):this.translate(r-l.x,a-l.y),o.insertBefore(this.node?this:this[0])}},Raphael.el.flag=function(t,e,i){var n=3,s=this.paper||this[0].paper;if(s){var o,r=s.path().attr({fill:"#000",stroke:"#000"}),a=this.getBBox(),l=a.height/2;switch(this.type){case"text":case"circle":case"ellipse":o=!0;break;default:o=!1}return t=t||0,e="number"==typeof e?e:o?a.x+a.width/2:a.x,i="number"==typeof i?i:o?a.y+a.height/2:a.y,r.attr({path:["M",e,i,"l",l+n,-l-n,a.width+2*n,0,0,a.height+2*n,-a.width-2*n,0,"z"].join(",")}),t=360-t,r.rotate(t,e,i),this.attrs?(this.attr(this.attrs.x?"x":"cx",e+l+n+(o?a.width/2:"text"==this.type?a.width:0)).attr("y",o?i:i-a.height/2),this.rotate(t,e,i),t>90&&270>t&&this.attr(this.attrs.x?"x":"cx",e-l-n-(o?a.width/2:a.width)).rotate(180,e,i)):t>90&&270>t?(this.translate(e-a.x-a.width-l-n,i-a.y-a.height/2),this.rotate(t-180,a.x+a.width+l+n,a.y+a.height/2)):(this.translate(e-a.x+l+n,i-a.y-a.height/2),this.rotate(t,a.x-l-n,a.y+a.height/2)),r.insertBefore(this.node?this:this[0])}},Raphael.el.label=function(){var t=this.getBBox(),e=this.paper||this[0].paper,i=Math.min(20,t.width+10,t.height+10)/2;if(e)return e.rect(t.x-i/2,t.y-i/2,t.width+i,t.height+i,i).attr({stroke:"none",fill:"#000"}).insertBefore(this.node?this:this[0])},Raphael.el.blob=function(t,e,i){var n,s,o,r=this.getBBox(),a=Math.PI/180,l=this.paper||this[0].paper;if(l){switch(this.type){case"text":case"circle":case"ellipse":s=!0;break;default:s=!1}n=l.path().attr({fill:"#000",stroke:"none"}),t=(+t+1?t:45)+90,o=Math.min(r.height,r.width),e="number"==typeof e?e:s?r.x+r.width/2:r.x,i="number"==typeof i?i:s?r.y+r.height/2:r.y;var h=Math.max(r.width+o,25*o/12),c=Math.max(r.height+o,25*o/12),d=e+o*Math.sin((t-22.5)*a),u=i+o*Math.cos((t-22.5)*a),p=e+o*Math.sin((t+22.5)*a),f=i+o*Math.cos((t+22.5)*a),m=(p-d)/2,g=(f-u)/2,v=h/2,y=c/2,b=-Math.sqrt(Math.abs(v*v*y*y-v*v*g*g-y*y*m*m)/(v*v*g*g+y*y*m*m)),x=b*v*g/y+(p+d)/2,w=b*-y*m/v+(f+u)/2;return n.attr({x:x,y:w,path:["M",e,i,"L",p,f,"A",v,y,0,1,1,d,u,"z"].join(",")}),this.translate(x-r.x-r.width/2,w-r.y-r.height/2),n.insertBefore(this.node?this:this[0])}},Raphael.fn.label=function(t,e,i){var n=this.set();return i=this.text(t,e,i).attr(Raphael.g.txtattr),n.push(i.label(),i)},Raphael.fn.popup=function(t,e,i,n,s){var o=this.set();return i=this.text(t,e,i).attr(Raphael.g.txtattr),o.push(i.popup(n,s),i)},Raphael.fn.tag=function(t,e,i,n,s){var o=this.set();return i=this.text(t,e,i).attr(Raphael.g.txtattr),o.push(i.tag(n,s),i)},Raphael.fn.flag=function(t,e,i,n){var s=this.set();return i=this.text(t,e,i).attr(Raphael.g.txtattr),s.push(i.flag(n),i)},Raphael.fn.drop=function(t,e,i,n){var s=this.set();return i=this.text(t,e,i).attr(Raphael.g.txtattr),s.push(i.drop(n),i)},Raphael.fn.blob=function(t,e,i,n){var s=this.set();return i=this.text(t,e,i).attr(Raphael.g.txtattr),s.push(i.blob(n),i)},Raphael.el.lighter=function(t){t=t||2;var e=[this.attrs.fill,this.attrs.stroke];return this.fs=this.fs||[e[0],e[1]],e[0]=Raphael.rgb2hsb(Raphael.getRGB(e[0]).hex),e[1]=Raphael.rgb2hsb(Raphael.getRGB(e[1]).hex),e[0].b=Math.min(e[0].b*t,1),e[0].s=e[0].s/t,e[1].b=Math.min(e[1].b*t,1),e[1].s=e[1].s/t,this.attr({fill:"hsb("+[e[0].h,e[0].s,e[0].b]+")",stroke:"hsb("+[e[1].h,e[1].s,e[1].b]+")"}),this},Raphael.el.darker=function(t){t=t||2;var e=[this.attrs.fill,this.attrs.stroke];return this.fs=this.fs||[e[0],e[1]],e[0]=Raphael.rgb2hsb(Raphael.getRGB(e[0]).hex),e[1]=Raphael.rgb2hsb(Raphael.getRGB(e[1]).hex),e[0].s=Math.min(e[0].s*t,1),e[0].b=e[0].b/t,e[1].s=Math.min(e[1].s*t,1),e[1].b=e[1].b/t,this.attr({fill:"hsb("+[e[0].h,e[0].s,e[0].b]+")",stroke:"hsb("+[e[1].h,e[1].s,e[1].b]+")"}),this},Raphael.el.resetBrightness=function(){return this.fs&&(this.attr({fill:this.fs[0],stroke:this.fs[1]}),delete this.fs),this},function(){var t=["lighter","darker","resetBrightness"],e=["popup","tag","flag","label","drop","blob"];for(var i in e)!function(t){Raphael.st[t]=function(){return Raphael.el[t].apply(this,arguments)}}(e[i]);for(var i in t)!function(t){Raphael.st[t]=function(){for(var e=0;this.length>e;e++)this[e][t].apply(this[e],arguments);return this}}(t[i])}(),Raphael.g={shim:{stroke:"none",fill:"#000","fill-opacity":0},txtattr:{font:"12px Arial, sans-serif",fill:"#fff"},colors:function(){for(var t=[.6,.2,.05,.1333,.75,0],e=[],i=0;10>i;i++)t.length>i?e.push("hsb("+t[i]+",.75, .75)"):e.push("hsb("+t[i-t.length]+", 1, .5)");return e}(),snapEnds:function(t,e,i){function n(t){return.25>Math.abs(t-.5)?.5+~~t:Math.round(t)}var s=t,o=e;if(s==o)return{from:s,to:o,power:0};var r=(o-s)/i,a=~~r,l=a,h=0;if(a){for(;l;)h--,l=~~(r*Math.pow(10,h))/Math.pow(10,h);h++}else{if(0!=r&&isFinite(r))for(;!a;)h=h||1,a=~~(r*Math.pow(10,h))/Math.pow(10,h),h++;else h=1;h&&h--}return e>(o=n(e*Math.pow(10,h))/Math.pow(10,h))&&(o=n((e+.5)*Math.pow(10,h))/Math.pow(10,h)),{from:s=n((t-(h>0?0:.5))*Math.pow(10,h))/Math.pow(10,h),to:o,power:h}},axis:function(t,e,i,n,s,o,r,a,l,h,c){h=null==h?2:h,l=l||"t",o=o||10,c=arguments[arguments.length-1];var d,u="|"==l||" "==l?["M",t+.5,e,"l",0,.001]:1==r||3==r?["M",t+.5,e,"l",0,-i]:["M",t,e+.5,"l",i,0],p=this.snapEnds(n,s,o),f=p.from,m=p.to,g=p.power,v=0,y={font:"11px 'Fontin Sans', Fontin-Sans, sans-serif"},b=c.set();d=(m-f)/o;var x=f,w=g>0?g:0;if(T=i/o,1==+r||3==+r){for(var _=e,k=(r-1?1:-1)*(h+3+!!(r-1));_>=e-i;)"-"!=l&&" "!=l&&(u=u.concat(["M",t-("+"==l||"|"==l?h:2*!(r-1)*h),_+.5,"l",2*h+1,0])),b.push(c.text(t+k,_,a&&a[v++]||(Math.round(x)==x?x:+x.toFixed(w))).attr(y).attr({"text-anchor":r-1?"start":"end"})),x+=d,_-=T;Math.round(_+T-(e-i))&&("-"!=l&&" "!=l&&(u=u.concat(["M",t-("+"==l||"|"==l?h:2*!(r-1)*h),e-i+.5,"l",2*h+1,0])),b.push(c.text(t+k,e-i,a&&a[v]||(Math.round(x)==x?x:+x.toFixed(w))).attr(y).attr({"text-anchor":r-1?"start":"end"})))}else{x=f,w=(g>0)*g,k=(r?-1:1)*(h+9+!r);for(var C=t,T=i/o,S=0,D=0;t+i>=C;){"-"!=l&&" "!=l&&(u=u.concat(["M",C+.5,e-("+"==l?h:2*!!r*h),"l",0,2*h+1])),b.push(S=c.text(C,e+k,a&&a[v++]||(Math.round(x)==x?x:+x.toFixed(w))).attr(y));var $=S.getBBox();D>=$.x-5?b.pop(b.length-1).remove():D=$.x+$.width,x+=d,C+=T}Math.round(C-T-t-i)&&("-"!=l&&" "!=l&&(u=u.concat(["M",t+i+.5,e-("+"==l?h:2*!!r*h),"l",0,2*h+1])),b.push(c.text(t+i,e+k,a&&a[v]||(Math.round(x)==x?x:+x.toFixed(w))).attr(y)))}var M=c.path(u);return M.text=b,M.all=c.set([M,b]),M.remove=function(){this.text.remove(),this.constructor.prototype.remove.call(this)},M},labelise:function(t,e,i){return t?(t+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(t,n,s){return n?(+e).toFixed(n.replace(/^#+\.?/g,"").length):s?(100*e/i).toFixed(s.replace(/^%+\.?/g,"").length)+"%":void 0}):(+e).toFixed(0)}},
/*!
 * g.Raphael 0.5 - Charting library, based on Raphaël
 *
 * Copyright (c) 2009 Dmitry Baranovskiy (http://g.raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 * From: https://github.com/jhurt/g.raphael/blob/master/g.bar.js
 */
function(){function t(t,e,i,o,r,a,l,h){var c,d={round:"round",sharp:"sharp",soft:"soft",square:"square"};if(r&&!o||!r&&!i)return l?"":h.path();switch(a=d[a]||"square",o=Math.round(o),i=Math.round(i),t=Math.round(t),e=Math.round(e),a){case"round":if(r)(u=~~(i/2))>o?c=["M",t-~~(i/2),e,"l",0,0,"a",~~(i/2),u=o,0,0,1,i,0,"l",0,0,"z"]:c=["M",t-u,e,"l",0,u-o,"a",u,u,0,1,1,i,0,"l",0,o-u,"z"];else{var u=~~(o/2);u>i?c=["M",t+.5,e+.5-~~(o/2),"l",0,0,"a",u=i,~~(o/2),0,0,1,0,o,"l",0,0,"z"]:c=["M",t+.5,e+.5-u,"l",i-u,0,"a",u,u,0,1,1,0,o,"l",u-i,0,"z"]}break;case"sharp":if(r)c=["M",t+(p=~~(i/2)),e,"l",-i,0,0,-s(o-p,0),p,-n(p,o),p,n(p,o),p,"z"];else{var p=~~(o/2);c=["M",t,e+p,"l",0,-o,s(i-p,0),0,n(p,i),p,-n(p,i),p+(o>2*p),"z"]}break;case"square":c=r?["M",t+~~(i/2),e,"l",1-i,0,0,-o,i-1,0,"z"]:["M",t,e+~~(o/2),"l",0,-o,i,0,0,o,"z"];break;case"soft":r?c=["M",t-~~(i/2),e,"l",0,(u=n(Math.round(i/5),o))-o,"a",u,u,0,0,1,u,-u,"l",i-2*u,0,"a",u,u,0,0,1,u,u,"l",0,o-u,"z"]:c=["M",t+.5,e+.5-~~(o/2),"l",i-(u=n(i,Math.round(o/5))),0,"a",u,u,0,0,1,u,u,"l",0,o-2*u,"a",u,u,0,0,1,-u,u,"l",u-i,0,"z"]}return l?c.join(","):h.path(c)}function e(e,i,n,s,o,r,a){var l=this,h=(a=a||{}).type||"square",c=parseFloat(a.gutter||"20%"),d=e.set(),u=e.set(),p=e.set(),f=e.set(),m=Math.max.apply(Math,r),g=[],v=0,y=a.colors||l.colors,b=r.length;if(Raphael.is(r[0],"array")){m=[],v=b,b=0;for(var x=r.length;x--;)u.push(e.set()),m.push(Math.max.apply(Math,r[x])),b=Math.max(b,r[x].length);if(a.stacked)for(x=b;x--;){for(var w=0,_=r.length;_--;)w+=+r[_][x]||0;g.push(w)}for(x=r.length;x--;)if(b>r[x].length)for(_=b;_--;)r[x].push(0);m=Math.max.apply(Math,a.stacked?g:m)}m=a.to||m;var k=s/(b*(100+c)+c)*100,C=k*c/100,T=null==a.vgutter?20:a.vgutter,S=[],D=i+C,$=(o-2*T)/m;a.stretch||(C=Math.round(C),k=Math.floor(k)),!a.stacked&&(k/=v||1);for(x=0;b>x;x++){S=[];for(_=0;(v||1)>_;_++){var M=Math.round((v?r[_][x]:r[x])*$),A=n+o-T-M,L=t(Math.round(D+k/2),A+M,k,M,!0,h,null,e).attr({stroke:"none",fill:y[v?_:x]});v?u[_].push(L):u.push(L),L.y=A,L.x=Math.round(D+k/2),L.w=k,L.h=M,L.value=v?r[_][x]:r[x],a.stacked?S.push(L):D+=k}if(a.stacked){var E;f.push(E=e.rect(S[0].x-S[0].w/2,n,k,o).attr(l.shim)),E.bars=e.set();for(var P=0,I=S.length;I--;)S[I].toFront();I=0;for(var N=S.length;N>I;I++){M=(P+(L=S[I]).value)*$;var F=t(L.x,n+o-T-.5*!!P,k,M,!0,h,1,e);E.bars.push(L),P&&L.attr({path:F}),L.h=M,L.y=n+o-T-.5*!!P-M,p.push(O=e.rect(L.x-L.w/2,L.y,k,L.value*$).attr(l.shim)),O.bar=L,O.value=L.value,P+=L.value}D+=k}D+=C}if(f.toFront(),D=i+C,!a.stacked)for(x=0;b>x;x++){for(_=0;(v||1)>_;_++){var O;p.push(O=e.rect(Math.round(D),n+T,k,o-T).attr(l.shim)),O.bar=v?u[_][x]:u[x],O.value=O.bar.value,D+=k}D+=C}return d.label=function(t,i){t=t||[],this.labels=e.set();var s,h=-1/0;if(a.stacked){for(var c=0;b>c;c++)for(var d=0,f=0;(v||1)>f;f++)if(d+=v?r[f][c]:r[c],f==v-1){var g=l.labelise(t[c],d,m);h>(y=(s=e.text(u[f][c].x,n+o-T/2,g).attr(l.txtattr).attr({fill:a.legendcolor||"#000","text-anchor":"start"}).insertBefore(p[c*(v||1)+f])).getBBox()).x-7?s.remove():(this.labels.push(s),h=y.x+y.width)}}else for(c=0;b>c;c++)for(f=0;(v||1)>f;f++){g=l.labelise(v?t[f]&&t[f][c]:t[c],v?r[f][c]:r[c],m);var y=(s=e.text(u[f][c].x-k/2,i?n+o-T/2:u[f][c].y-10,g).attr(l.txtattr).attr({fill:a.legendcolor||"#000","text-anchor":"start"}).insertBefore(p[c*(v||1)+f])).getBBox();s.translate((k-y.width)/2,1),h>y.x-7?s.remove():(this.labels.push(s),h=y.x+y.width)}return this},d.hover=function(t,e){return f.hide(),p.show(),p.mouseover(t).mouseout(e),this},d.hoverColumn=function(t,e){return p.hide(),f.show(),e=e||function(){},f.mouseover(t).mouseout(e),this},d.click=function(t){return f.hide(),p.show(),p.click(t),this},d.each=function(t){if(!Raphael.is(t,"function"))return this;for(var e=p.length;e--;)t.call(p[e]);return this},d.eachColumn=function(t){if(!Raphael.is(t,"function"))return this;for(var e=f.length;e--;)t.call(f[e]);return this},d.clickColumn=function(t){return p.hide(),f.show(),f.click(t),this},d.push(u,p,f),d.bars=u,d.covers=p,d}function i(e,i,n,s,o,r,a){var l=this,h=(a=a||{}).type||"square",c=parseFloat(a.gutter||"20%"),d=e.set(),u=e.set(),p=e.set(),f=e.set(),m=Math.max.apply(Math,r),g=[],v=0,y=a.colors||l.colors,b=r.length;if(Raphael.is(r[0],"array")){m=[],v=b,b=0;for(var x=r.length;x--;)u.push(e.set()),m.push(Math.max.apply(Math,r[x])),b=Math.max(b,r[x].length);if(a.stacked)for(x=b;x--;){for(var w=0,_=r.length;_--;)w+=+r[_][x]||0;g.push(w)}for(x=r.length;x--;)if(b>r[x].length)for(_=b;_--;)r[x].push(0);m=Math.max.apply(Math,a.stacked?g:m)}m=a.to||m;var k=Math.floor(o/(b*(100+c)+c)*100),C=Math.floor(k*c/100),T=[],S=n+C,D=(s-1)/m;!a.stacked&&(k/=v||1);for(x=0;b>x;x++){T=[];for(_=0;(v||1)>_;_++){var $=v?r[_][x]:r[x],M=t(i,S+k/2,Math.round($*D),k-1,!1,h,null,e).attr({stroke:"none",fill:y[v?_:x]});v?u[_].push(M):u.push(M),M.x=i+Math.round($*D),M.y=S+k/2,M.w=Math.round($*D),M.h=k,M.value=+$,a.stacked?T.push(M):S+=k}if(a.stacked){var A=e.rect(i,T[0].y-T[0].h/2,s,k).attr(l.shim);f.push(A),A.bars=e.set();for(var L=0,E=T.length;E--;)T[E].toFront();E=0;for(var P=T.length;P>E;E++){M=T[E],$=Math.round((L+M.value)*D);var I=t(i,M.y,$,k-1,!1,h,1,e);A.bars.push(M),L&&M.attr({path:I}),M.w=$,M.x=i+$,p.push(N=e.rect(i+L*D,M.y-M.h/2,M.value*D,k).attr(l.shim)),N.bar=M,L+=M.value}S+=k}S+=C}if(f.toFront(),S=n+C,!a.stacked)for(x=0;b>x;x++){for(_=0;(v||1)>_;_++){var N=e.rect(i,S,s,k).attr(l.shim);p.push(N),N.bar=v?u[_][x]:u[x],N.value=N.bar.value,S+=k}S+=C}return d.label=function(t,n){t=t||[],this.labels=e.set();for(var s=0;b>s;s++)for(var o=0;v>o;o++){var h,c=l.labelise(v?t[o]&&t[o][s]:t[s],v?r[o][s]:r[s],m),d=n?u[o][s].x-k/2+3:i+5;this.labels.push(h=e.text(d,u[o][s].y,c).attr(l.txtattr).attr({fill:a.legendcolor||"#000","text-anchor":"start"}).insertBefore(p[0])),i+5>h.getBBox().x?h.attr({x:i+5,"text-anchor":"start"}):u[o][s].label=h}return this},d.hover=function(t,e){return f.hide(),p.show(),e=e||function(){},p.mouseover(t).mouseout(e),this},d.hoverColumn=function(t,e){return p.hide(),f.show(),e=e||function(){},f.mouseover(t).mouseout(e),this},d.each=function(t){if(!Raphael.is(t,"function"))return this;for(var e=p.length;e--;)t.call(p[e]);return this},d.eachColumn=function(t){if(!Raphael.is(t,"function"))return this;for(var e=f.length;e--;)t.call(f[e]);return this},d.click=function(t){return f.hide(),p.show(),p.click(t),this},d.clickColumn=function(t){return p.hide(),f.show(),f.click(t),this},d.push(u,p,f),d.bars=u,d.covers=p,d}var n=Math.min,s=Math.max,o=function(){};o.prototype=Raphael.g,i.prototype=e.prototype=new o,Raphael.fn.hbarchart=function(t,e,n,s,o,r){return new i(this,t,e,n,s,o,r)},Raphael.fn.barchart=function(t,i,n,s,o,r){return new e(this,t,i,n,s,o,r)}}(),function(){var t;t=function(){function t(t,e){this.element=t,this.options=e,this.preparedCommits={},this.mtime=0,this.mspace=0,this.parents={},this.colors=["#000"],this.offsetX=150,this.offsetY=20,this.unitTime=30,this.unitSpace=10,this.prev_start=-1,this.load()}return t.prototype.load=function(){return $.ajax({url:this.options.url,method:"get",dataType:"json",success:$.proxy(function(t){return $(".loading",this.element).hide(),this.prepareData(t.days,t.commits),this.buildGraph(),this.options.success&&this.options.success()},this),error:$.proxy(function(t){return this.options.error&&this.options.error(t)},this)})},t.prototype.prepareData=function(t,e){var i,n,s,o,r,a;for(this.days=t,this.commits=e,this.collectParents(),this.graphHeight=$(this.element).height(),this.graphWidth=$(this.element).width(),n=Math.max(this.graphHeight,this.offsetY+this.unitTime*this.mtime+150),s=Math.max(this.graphWidth,this.offsetX+this.unitSpace*this.mspace+300),this.r=Raphael(this.element.get(0),s,n),this.top=this.r.set(),this.barHeight=Math.max(this.graphHeight,this.unitTime*this.days.length+320),o=0,r=(a=this.commits).length;o<r;o++)(i=a[o]).id in this.parents&&(i.isParent=!0),this.preparedCommits[i.id]=i,this.markCommit(i);return this.collectColors()},t.prototype.collectParents=function(){var t,e,i,n,s,o;for(o=[],e=0,i=(s=this.commits).length;e<i;e++)t=s[e],this.mtime=Math.max(this.mtime,t.time),this.mspace=Math.max(this.mspace,t.space),o.push(function(){var e,i,s,o;for(o=[],e=0,i=(s=t.parents).length;e<i;e++)n=s[e],this.parents[n[0]]=!0,o.push(this.mspace=Math.max(this.mspace,n[1]));return o}.call(this));return o},t.prototype.collectColors=function(){var t,e;for(t=0,e=[];t<this.mspace;)this.colors.push(Raphael.getColor(.8)),Raphael.getColor(),Raphael.getColor(),e.push(t++);return e},t.prototype.buildGraph=function(){var t,e,i,n,s,o,r,a;for(t=0,e="",(r=this.r).rect(0,0,40,this.barHeight).attr({fill:"#222"}),r.rect(40,0,30,this.barHeight).attr({fill:"#444"}),o=n=0,s=(a=this.days).length;n<s;o=++n)t!==(i=a[o])[0]&&(r.text(55,this.offsetY+this.unitTime*o,i[0]).attr({font:"12px Monaco, monospace",fill:"#BBB"}),t=i[0]),e!==i[1]&&(r.text(20,this.offsetY+this.unitTime*o,i[1]).attr({font:"12px Monaco, monospace",fill:"#EEE"}),e=i[1]);return this.renderPartialGraph(),this.bindEvents()},t.prototype.renderPartialGraph=function(){var t,e,i,n,s,o;if((n=Math.floor((this.element.scrollTop()-this.offsetY)/this.unitTime)-10)<0&&(n=0),e=n+40,(this.commits.length<e||0===n)&&(e=this.commits.length),-1===this.prev_start||Math.abs(this.prev_start-n)>10){for(i=n,this.prev_start=n;i<e;)t=this.commits[i],i+=1,!0!==t.hasDrawn&&(s=this.offsetX+this.unitSpace*(this.mspace-t.space),o=this.offsetY+this.unitTime*t.time,this.drawDot(s,o,t),this.drawLines(s,o,t),this.appendLabel(s,o,t),this.appendAnchor(s,o,t),t.hasDrawn=!0);return this.top.toFront()}},t.prototype.bindEvents=function(){var t,e;return{},t=this.element,$(t).scroll((e=this,function(){return e.renderPartialGraph()})),$(window).on({keydown:function(e){return function(i){return 37===i.keyCode&&t.scrollLeft(t.scrollLeft()-50),38===i.keyCode&&t.scrollTop(t.scrollTop()-50),39===i.keyCode&&t.scrollLeft(t.scrollLeft()+50),40===i.keyCode&&t.scrollTop(t.scrollTop()+50),e.renderPartialGraph()}}(this)})},t.prototype.appendLabel=function(t,e,i){var n,s,o,r,a;if(i.refs)return n=this.r,(o=i.refs).length>17&&(o=o.substr(0,15)+"\u2026"),a=(r=n.text(t+4,e,o).attr({"text-anchor":"start",font:"10px Monaco, monospace",fill:"#FFF",title:i.refs})).getBBox(),s=n.rect(t,e-7,a.width+5,a.height+5,4).attr({fill:"#000","fill-opacity":.5,stroke:"none"}),n.path(["M",t-5,e,"L",t-15,e-4,"L",t-15,e+4,"Z"]).attr({fill:"#000","fill-opacity":.5,stroke:"none"}),n.set(s,r).transform(["t",-s.getBBox().width-15,0]),r.toFront()},t.prototype.appendAnchor=function(t,e,i){var n,s,o,r;return o=this.r,r=this.top,s=this.options,n=o.circle(t,e,10).attr({fill:"#000",opacity:0,cursor:"pointer"}).click(function(){return window.open(s.commit_url.replace("%s",i.id),"_blank")}).hover(function(){return this.tooltip=o.commitTooltip(t+5,e,i),r.push(this.tooltip.insertBefore(this))},function(){return this.tooltip&&this.tooltip.remove()&&delete this.tooltip}),r.push(n)},t.prototype.drawDot=function(t,e,i){var n,s,o,r,a;return(r=this.r).circle(t,e,3).attr({fill:this.colors[i.space],stroke:"none"}),a=i.author.icon,n=this.offsetX+this.unitSpace*this.mspace+10,s=e-10,0===a.indexOf("no_portrait.png#")&&(o=a.replace(/^.*#/,""),a=LetterAvatar(o,20)),r.rect(n,s,20,20).attr({stroke:this.colors[i.space],"stroke-width":2}),r.image(a,n,s,20,20),r.text(this.offsetX+this.unitSpace*this.mspace+35,e,i.message.split("\n")[0]).attr({"text-anchor":"start",font:"14px Monaco, monospace",title:i.message.split("\n")[0]})},t.prototype.drawLines=function(t,e,i){var n,s,o,r,a,l,h,c,d,u,p,f,m,g,v;for(f=this.r,g=[],o=r=0,a=(m=i.parents).length;r<a;o=++r)h=m[o],c=this.preparedCommits[h[0]],p=this.offsetY+this.unitTime*c.time,d=this.offsetX+this.unitSpace*(this.mspace-c.space),u=this.offsetX+this.unitSpace*(this.mspace-h[1]),s=c.space<=i.space?this.colors[i.space]:this.colors[c.space],h[1]===i.space?(l=[0,5],n="l-2,5,4,0,-2,-5,0,5"):h[1]<i.space?(l=[3,3],n="l5,0,-2,4,-3,-4,4,2"):(l=[-3,3],n="l-5,0,2,4,3,-4,-4,2"),v=["M",t+l[0],e+l[1]],o>0&&v.push(n),i.space===c.space&&i.space===h[1]||v.push("L",u,e+10,"L",u,p-5),v.push("L",d,p),g.push(f),f.path(v).attr({stroke:s,"stroke-width":2});return g},t.prototype.markCommit=function(t){var e,i,n;if(t.id===this.options.commit_id)return e=this.r,i=this.offsetX+this.unitSpace*(this.mspace-t.space),n=this.offsetY+this.unitTime*t.time,e.path(["M",i+5,n,"L",i+15,n+4,"L",i+15,n-4,"Z"]).attr({fill:"#F00",stroke:"none"}),this.element.scrollTop(n-this.graphHeight/2)},t}(),Raphael.prototype.commitTooltip=function(t,e,i){var n,s,o,r,a,l,h,c,d,u;return n=300,0===(o=i.author.icon).indexOf("no_portrait.png#")&&(h=o.replace(/^.*#/,""),o=LetterAvatar(h,20)),s=this.image(o,t,e,20,20),l=this.text(t+25,e+10,i.author.name),r=this.text(t,e+35,i.id),a=this.text(t,e+50,i.message.replace(/\r?\n/g," \n ")),d=this.set(s,l,r,a).attr({"text-anchor":"start",font:"12px Monaco, monospace"}),l.attr({font:"14px Arial","font-weight":"bold"}),r.attr({fill:"#AAA"}),a.node.style["white-space"]="pre",this.textWrap(a,n-50),c=this.rect(t-10,e-10,n,100,4).attr({fill:"#FFF",stroke:"#000","stroke-linecap":"round","stroke-width":2}),u=this.set(c,d),c.attr({height:u.getBBox().height+10,width:u.getBBox().width+10}),u.transform(["t",20,20]),u},Raphael.prototype.textWrap=function(t,e){var i,n,s,o,r,a,l,h,c,d,u;for(s=t.attr("text"),i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t.attr({text:i}),l=t.getBBox().width/i.length,t.attr({text:s}),u=0,h=[],r=0,a=(d=s.split(" ")).length;r<a;r++)u+(c=d[r]).length*l>e&&(h.push("\n"),u=0),"\n"===c?(h.push("\n"),u=0):(h.push(c+" "),u+=c.length*l);return t.attr({text:h.join("").trim()}),n=t.getBBox(),o=Math.abs(n.y2)+1,t.attr({y:o})},this.BranchGraph=t}.call(this),function(t,e,i,n){"use strict";e=void 0!==e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t.fn.dimmer=function(e){var s,o=t(this),r=(new Date).getTime(),a=[],l=arguments[0],h="string"==typeof l,c=[].slice.call(arguments,1);return o.each(function(){var d,u,p,f=t.isPlainObject(e)?t.extend(!0,{},t.fn.dimmer.settings,e):t.extend({},t.fn.dimmer.settings),m=f.selector,g=f.namespace,v=f.className,y=f.error,b="."+g,x="module-"+g,w=o.selector||"",_="ontouchstart"in i.documentElement?"touchstart":"click",k=t(this),C=this,T=k.data(x);(p={preinitialize:function(){p.is.dimmer()?(u=k.parent(),d=k):(u=k,d=p.has.dimmer()?f.dimmerName?u.find(m.dimmer).filter("."+f.dimmerName):u.find(m.dimmer):p.create())},initialize:function(){p.debug("Initializing dimmer",f),p.bind.events(),p.set.dimmable(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),T=p,k.data(x,T)},destroy:function(){p.verbose("Destroying previous module",d),p.unbind.events(),p.remove.variation(),u.off(b)},bind:{events:function(){"hover"==f.on?u.on("mouseenter"+b,p.show).on("mouseleave"+b,p.hide):"click"==f.on&&u.on(_+b,p.toggle),p.is.page()&&(p.debug("Setting as a page dimmer",u),p.set.pageDimmer()),p.is.closable()&&(p.verbose("Adding dimmer close event",d),u.on(_+b,m.dimmer,p.event.click))}},unbind:{events:function(){k.removeData(x),u.off(b)}},event:{click:function(e){p.verbose("Determining if event occured on dimmer",e),(0===d.find(e.target).length||t(e.target).is(m.content))&&(p.hide(),e.stopImmediatePropagation())}},addContent:function(e){var i=t(e);p.debug("Add content to dimmer",i),i.parent()[0]!==d[0]&&i.detach().appendTo(d)},create:function(){var e=t(f.template.dimmer());return f.dimmerName&&(p.debug("Creating named dimmer",f.dimmerName),e.addClass(f.dimmerName)),e.appendTo(u),e},show:function(e){e=t.isFunction(e)?e:function(){},p.debug("Showing dimmer",d,f),p.set.variation(),p.is.dimmed()&&!p.is.animating()||!p.is.enabled()?p.debug("Dimmer is already shown or disabled"):(p.animate.show(e),f.onShow.call(C),f.onChange.call(C))},hide:function(e){e=t.isFunction(e)?e:function(){},p.is.dimmed()||p.is.animating()?(p.debug("Hiding dimmer",d),p.animate.hide(e),f.onHide.call(C),f.onChange.call(C)):p.debug("Dimmer is not visible")},toggle:function(){p.verbose("Toggling dimmer visibility",d),p.is.dimmed()?p.hide():p.show()},animate:{show:function(e){e=t.isFunction(e)?e:function(){},f.useCSS&&t.fn.transition!==n&&d.transition("is supported")?(f.useFlex?(p.debug("Using flex dimmer"),p.remove.legacy()):(p.debug("Using legacy non-flex dimmer"),p.set.legacy()),"auto"!==f.opacity&&p.set.opacity(),d.transition({displayType:f.useFlex?"flex":"block",animation:f.transition+" in",queue:!1,duration:p.get.duration(),useFailSafe:!0,onStart:function(){p.set.dimmed()},onComplete:function(){p.set.active(),e()}})):(p.verbose("Showing dimmer animation with javascript"),p.set.dimmed(),"auto"==f.opacity&&(f.opacity=.8),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(p.get.duration(),f.opacity,function(){d.removeAttr("style"),p.set.active(),e()}))},hide:function(e){e=t.isFunction(e)?e:function(){},f.useCSS&&t.fn.transition!==n&&d.transition("is supported")?(p.verbose("Hiding dimmer with css"),d.transition({displayType:f.useFlex?"flex":"block",animation:f.transition+" out",queue:!1,duration:p.get.duration(),useFailSafe:!0,onStart:function(){p.remove.dimmed()},onComplete:function(){p.remove.variation(),p.remove.active(),e()}})):(p.verbose("Hiding dimmer with javascript"),p.remove.dimmed(),d.stop().fadeOut(p.get.duration(),function(){p.remove.active(),d.removeAttr("style"),e()}))}},get:{dimmer:function(){return d},duration:function(){return"object"==typeof f.duration?p.is.active()?f.duration.hide:f.duration.show:f.duration}},has:{dimmer:function(){return f.dimmerName?k.find(m.dimmer).filter("."+f.dimmerName).length>0:k.find(m.dimmer).length>0}},is:{active:function(){return d.hasClass(v.active)},animating:function(){return d.is(":animated")||d.hasClass(v.animating)},closable:function(){return"auto"==f.closable?"hover"!=f.on:f.closable},dimmer:function(){return k.hasClass(v.dimmer)},dimmable:function(){return k.hasClass(v.dimmable)},dimmed:function(){return u.hasClass(v.dimmed)},disabled:function(){return u.hasClass(v.disabled)},enabled:function(){return!p.is.disabled()},page:function(){return u.is("body")},pageDimmer:function(){return d.hasClass(v.pageDimmer)}},can:{show:function(){return!d.hasClass(v.disabled)}},set:{opacity:function(t){var e=d.css("background-color"),i=e.split(","),n=i&&3==i.length,s=i&&4==i.length;t=0===f.opacity?0:f.opacity||t,n||s?(i[3]=t+")",e=i.join(",")):e="rgba(0, 0, 0, "+t+")",p.debug("Setting opacity to",t),d.css("background-color",e)},legacy:function(){d.addClass(v.legacy)},active:function(){d.addClass(v.active)},dimmable:function(){u.addClass(v.dimmable)},dimmed:function(){u.addClass(v.dimmed)},pageDimmer:function(){d.addClass(v.pageDimmer)},disabled:function(){d.addClass(v.disabled)},variation:function(t){(t=t||f.variation)&&d.addClass(t)}},remove:{active:function(){d.removeClass(v.active)},legacy:function(){d.removeClass(v.legacy)},dimmed:function(){u.removeClass(v.dimmed)},disabled:function(){d.removeClass(v.disabled)},variation:function(t){(t=t||f.variation)&&d.removeClass(t)}},setting:function(e,i){if(p.debug("Changing setting",e,i),t.isPlainObject(e))t.extend(!0,f,e);else{if(i===n)return f[e];t.isPlainObject(f[e])?t.extend(!0,f[e],i):f[e]=i}},internal:function(e,i){if(t.isPlainObject(e))t.extend(!0,p,e);else{if(i===n)return p[e];p[e]=i}},debug:function(){!f.silent&&f.debug&&(f.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,f.name+":"),p.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),p.verbose.apply(console,arguments)))},error:function(){f.silent||(p.error=Function.prototype.bind.call(console.error,console,f.name+":"),p.error.apply(console,arguments))},performance:{log:function(t){var e,i;f.performance&&(i=(e=(new Date).getTime())-(r||e),r=e,a.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:C,"Execution Time":i})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var e=f.name+":",i=0;r=!1,clearTimeout(p.performance.timer),t.each(a,function(t,e){i+=e["Execution Time"]}),e+=" "+i+"ms",w&&(e+=" '"+w+"'"),o.length>1&&(e+=" ("+o.length+")"),(console.group!==n||console.table!==n)&&a.length>0&&(console.groupCollapsed(e),console.table?console.table(a):t.each(a,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(e,i,o){var r,a,l,h=T;return i=i||c,o=C||o,"string"==typeof e&&h!==n&&(e=e.split(/[\. ]/),r=e.length-1,t.each(e,function(i,s){var o=i!=r?s+e[i+1].charAt(0).toUpperCase()+e[i+1].slice(1):e;if(t.isPlainObject(h[o])&&i!=r)h=h[o];else{if(h[o]!==n)return a=h[o],!1;if(!t.isPlainObject(h[s])||i==r)return h[s]!==n?(a=h[s],!1):(p.error(y.method,e),!1);h=h[s]}})),t.isFunction(a)?l=a.apply(o,i):a!==n&&(l=a),t.isArray(s)?s.push(l):s!==n?s=[s,l]:l!==n&&(s=l),a}}).preinitialize(),h?(T===n&&p.initialize(),p.invoke(l)):(T!==n&&T.invoke("destroy"),p.initialize())}),s!==n?s:this},t.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,useFlex:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",legacy:"legacy",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return t("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(t,e,i,n){"use strict";e=void 0!==e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t.fn.modal=function(s){var o,r=t(this),a=t(e),l=t(i),h=t("body"),c=r.selector||"",d=(new Date).getTime(),u=[],p=arguments[0],f="string"==typeof p,m=[].slice.call(arguments,1),g=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,0)};return r.each(function(){var r,v,y,b,x,w,_,k,C,T=t.isPlainObject(s)?t.extend(!0,{},t.fn.modal.settings,s):t.extend({},t.fn.modal.settings),S=T.selector,D=T.className,$=T.namespace,M=T.error,A="."+$,L="module-"+$,E=t(this),P=t(T.context),I=E.find(S.close),N=this,F=E.data(L),O=!1;C={initialize:function(){C.verbose("Initializing dimmer",P),C.create.id(),C.create.dimmer(),C.refreshModals(),C.bind.events(),T.observeChanges&&C.observeChanges(),C.instantiate()},instantiate:function(){C.verbose("Storing instance of modal"),F=C,E.data(L,F)},create:{dimmer:function(){var e={debug:T.debug,variation:!T.centered&&"top aligned",dimmerName:"modals"},i=t.extend(!0,e,T.dimmerSettings);t.fn.dimmer!==n?(C.debug("Creating dimmer"),b=P.dimmer(i),T.detachable?(C.verbose("Modal is detachable, moving content into dimmer"),b.dimmer("add content",E)):C.set.undetached(),x=b.dimmer("get dimmer")):C.error(M.dimmer)},id:function(){_=(Math.random().toString(16)+"000000000").substr(2,8),w="."+_,C.verbose("Creating unique id for element",_)}},destroy:function(){C.verbose("Destroying previous modal"),E.removeData(L).off(A),a.off(w),x.off(w),I.off(A),P.dimmer("destroy")},observeChanges:function(){"MutationObserver"in e&&((k=new MutationObserver(function(){C.debug("DOM tree modified, refreshing"),C.refresh()})).observe(N,{childList:!0,subtree:!0}),C.debug("Setting up mutation observer",k))},refresh:function(){C.remove.scrolling(),C.cacheSizes(),C.can.useFlex()||C.set.modalOffset(),C.set.screenHeight(),C.set.type()},refreshModals:function(){v=E.siblings(S.modal),r=v.add(E)},attachEvents:function(e,i){var n=t(e);i=t.isFunction(C[i])?C[i]:C.toggle,n.length>0?(C.debug("Attaching modal events to element",e,i),n.off(A).on("click"+A,i)):C.error(M.notFound,e)},bind:{events:function(){C.verbose("Attaching events"),E.on("click"+A,S.close,C.event.close).on("click"+A,S.approve,C.event.approve).on("click"+A,S.deny,C.event.deny),a.on("resize"+w,C.event.resize)},scrollLock:function(){b.get(0).addEventListener("touchmove",C.event.preventScroll,{passive:!1})}},unbind:{scrollLock:function(){b.get(0).removeEventListener("touchmove",C.event.preventScroll,{passive:!1})}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){O||!1===T.onApprove.call(N,t(this))?C.verbose("Approve callback returned false cancelling hide"):(O=!0,C.hide(function(){O=!1}))},preventScroll:function(t){t.preventDefault()},deny:function(){O||!1===T.onDeny.call(N,t(this))?C.verbose("Deny callback returned false cancelling hide"):(O=!0,C.hide(function(){O=!1}))},close:function(){C.hide()},click:function(e){if(T.closable){var n=t(e.target).closest(S.modal).length>0,s=t.contains(i.documentElement,e.target);!n&&s&&C.is.active()&&(C.debug("Dimmer clicked, hiding all modals"),C.remove.clickaway(),T.allowMultiple?C.hide():C.hideAll())}else C.verbose("Dimmer clicked but closable setting is disabled")},debounce:function(t,e){clearTimeout(C.timer),C.timer=setTimeout(t,e)},keyboard:function(t){t.which==27&&(T.closable?(C.debug("Escape key pressed hiding modal"),C.hide()):C.debug("Escape key pressed, but closable is set to false"),t.preventDefault())},resize:function(){b.dimmer("is active")&&(C.is.animating()||C.is.active())&&g(C.refresh)}},toggle:function(){C.is.active()||C.is.animating()?C.hide():C.show()},show:function(e){e=t.isFunction(e)?e:function(){},C.refreshModals(),C.set.dimmerSettings(),C.set.dimmerStyles(),C.showModal(e)},hide:function(e){e=t.isFunction(e)?e:function(){},C.refreshModals(),C.hideModal(e)},showModal:function(e){e=t.isFunction(e)?e:function(){},C.is.animating()||!C.is.active()?(C.showDimmer(),C.cacheSizes(),C.can.useFlex()?C.remove.legacy():(C.set.legacy(),C.set.modalOffset(),C.debug("Using non-flex legacy modal positioning.")),C.set.screenHeight(),C.set.type(),C.set.clickaway(),!T.allowMultiple&&C.others.active()?C.hideOthers(C.showModal):(T.allowMultiple&&T.detachable&&E.detach().appendTo(x),T.onShow.call(N),T.transition&&t.fn.transition!==n&&E.transition("is supported")?(C.debug("Showing modal with css animations"),E.transition({debug:T.debug,animation:T.transition+" in",queue:T.queue,duration:T.duration,useFailSafe:!0,onComplete:function(){T.onVisible.apply(N),T.keyboardShortcuts&&C.add.keyboardShortcuts(),C.save.focus(),C.set.active(),T.autofocus&&C.set.autofocus(),e()}})):C.error(M.noTransition))):C.debug("Modal is already visible")},hideModal:function(e,i){e=t.isFunction(e)?e:function(){},C.debug("Hiding modal"),!1!==T.onHide.call(N,t(this))?(C.is.animating()||C.is.active())&&(T.transition&&t.fn.transition!==n&&E.transition("is supported")?(C.remove.active(),E.transition({debug:T.debug,animation:T.transition+" out",queue:T.queue,duration:T.duration,useFailSafe:!0,onStart:function(){C.others.active()||i||C.hideDimmer(),T.keyboardShortcuts&&C.remove.keyboardShortcuts()},onComplete:function(){T.onHidden.call(N),C.remove.dimmerStyles(),C.restore.focus(),e()}})):C.error(M.noTransition)):C.verbose("Hide callback returned false cancelling hide")},showDimmer:function(){b.dimmer("is animating")||!b.dimmer("is active")?(C.debug("Showing dimmer"),b.dimmer("show")):C.debug("Dimmer already visible")},hideDimmer:function(){b.dimmer("is animating")||b.dimmer("is active")?(C.unbind.scrollLock(),b.dimmer("hide",function(){C.remove.clickaway(),C.remove.screenHeight()})):C.debug("Dimmer is not visible cannot hide")},hideAll:function(e){var i=r.filter("."+D.active+", ."+D.animating);e=t.isFunction(e)?e:function(){},i.length>0&&(C.debug("Hiding all visible modals"),C.hideDimmer(),i.modal("hide modal",e))},hideOthers:function(e){var i=v.filter("."+D.active+", ."+D.animating);e=t.isFunction(e)?e:function(){},i.length>0&&(C.debug("Hiding other modals",v),i.modal("hide modal",e,!0))},others:{active:function(){return v.filter("."+D.active).length>0},animating:function(){return v.filter("."+D.animating).length>0}},add:{keyboardShortcuts:function(){C.verbose("Adding keyboard shortcuts"),l.on("keyup"+A,C.event.keyboard)}},save:{focus:function(){t(i.activeElement).closest(E).length>0||(y=t(i.activeElement).blur())}},restore:{focus:function(){y&&y.length>0&&y.focus()}},remove:{active:function(){E.removeClass(D.active)},legacy:function(){E.removeClass(D.legacy)},clickaway:function(){x.off("click"+w)},dimmerStyles:function(){x.removeClass(D.inverted),b.removeClass(D.blurring)},bodyStyle:function(){""===h.attr("style")&&(C.verbose("Removing style attribute"),h.removeAttr("style"))},screenHeight:function(){C.debug("Removing page height"),h.css("height","")},keyboardShortcuts:function(){C.verbose("Removing keyboard shortcuts"),l.off("keyup"+A)},scrolling:function(){b.removeClass(D.scrolling),E.removeClass(D.scrolling)}},cacheSizes:function(){E.addClass(D.loading);var s=E.prop("scrollHeight"),o=E.outerWidth(),r=E.outerHeight();C.cache!==n&&0===r||(C.cache={pageHeight:t(i).outerHeight(),width:o,height:r+T.offset,scrollHeight:s+T.offset,contextHeight:"body"==T.context?t(e).height():b.height()},C.cache.topOffset=-C.cache.height/2),E.removeClass(D.loading),C.debug("Caching modal and container sizes",C.cache)},can:{useFlex:function(){return"auto"==T.useFlex?T.detachable&&!C.is.ie():T.useFlex},fit:function(){var t=C.cache.contextHeight,e=C.cache.contextHeight/2,i=C.cache.topOffset,n=C.cache.scrollHeight,s=C.cache.height,o=T.padding;return n>s?e+i+n+o<t:s+2*o<t}},is:{active:function(){return E.hasClass(D.active)},ie:function(){return!e.ActiveXObject&&"ActiveXObject"in e||"ActiveXObject"in e},animating:function(){return E.transition("is supported")?E.transition("is animating"):E.is(":visible")},scrolling:function(){return b.hasClass(D.scrolling)},modernBrowser:function(){return!(e.ActiveXObject||"ActiveXObject"in e)}},set:{autofocus:function(){var t=E.find("[tabindex], :input").filter(":visible"),e=t.filter("[autofocus]"),i=e.length>0?e.first():t.first();i.length>0&&i.focus()},clickaway:function(){x.on("click"+w,C.event.click)},dimmerSettings:function(){if(t.fn.dimmer!==n){var e={debug:T.debug,dimmerName:"modals",closable:"auto",useFlex:C.can.useFlex(),variation:!T.centered&&"top aligned",duration:{show:T.duration,hide:T.duration}},i=t.extend(!0,e,T.dimmerSettings);T.inverted&&(i.variation=i.variation!==n?i.variation+" inverted":"inverted"),P.dimmer("setting",i)}else C.error(M.dimmer)},dimmerStyles:function(){T.inverted?x.addClass(D.inverted):x.removeClass(D.inverted),T.blurring?b.addClass(D.blurring):b.removeClass(D.blurring)},modalOffset:function(){var t=C.cache.width,e=C.cache.height;E.css({marginTop:T.centered&&C.can.fit()?-e/2:0,marginLeft:-t/2}),C.verbose("Setting modal offset for legacy mode")},screenHeight:function(){C.can.fit()?h.css("height",""):(C.debug("Modal is taller than page content, resizing page height"),h.css("height",C.cache.height+2*T.padding))},active:function(){E.addClass(D.active)},scrolling:function(){b.addClass(D.scrolling),E.addClass(D.scrolling),C.unbind.scrollLock()},legacy:function(){E.addClass(D.legacy)},type:function(){C.can.fit()?(C.verbose("Modal fits on screen"),C.others.active()||C.others.animating()||(C.remove.scrolling(),C.bind.scrollLock())):(C.verbose("Modal cannot fit on screen setting to scrolling"),C.set.scrolling())},undetached:function(){b.addClass(D.undetached)}},setting:function(e,i){if(C.debug("Changing setting",e,i),t.isPlainObject(e))t.extend(!0,T,e);else{if(i===n)return T[e];t.isPlainObject(T[e])?t.extend(!0,T[e],i):T[e]=i}},internal:function(e,i){if(t.isPlainObject(e))t.extend(!0,C,e);else{if(i===n)return C[e];C[e]=i}},debug:function(){!T.silent&&T.debug&&(T.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,T.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!T.silent&&T.verbose&&T.debug&&(T.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,T.name+":"),C.verbose.apply(console,arguments)))},error:function(){T.silent||(C.error=Function.prototype.bind.call(console.error,console,T.name+":"),C.error.apply(console,arguments))},performance:{log:function(t){var e,i;T.performance&&(i=(e=(new Date).getTime())-(d||e),d=e,u.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:N,"Execution Time":i})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var e=T.name+":",i=0;d=!1,clearTimeout(C.performance.timer),t.each(u,function(t,e){i+=e["Execution Time"]}),e+=" "+i+"ms",c&&(e+=" '"+c+"'"),(console.group!==n||console.table!==n)&&u.length>0&&(console.groupCollapsed(e),console.table?console.table(u):t.each(u,function(t,e){
console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(e,i,s){var r,a,l,h=F;return i=i||m,s=N||s,"string"==typeof e&&h!==n&&(e=e.split(/[\. ]/),r=e.length-1,t.each(e,function(i,s){var o=i!=r?s+e[i+1].charAt(0).toUpperCase()+e[i+1].slice(1):e;if(t.isPlainObject(h[o])&&i!=r)h=h[o];else{if(h[o]!==n)return a=h[o],!1;if(!t.isPlainObject(h[s])||i==r)return h[s]!==n&&(a=h[s],!1);h=h[s]}})),t.isFunction(a)?l=a.apply(s,i):a!==n&&(l=a),t.isArray(o)?o.push(l):o!==n?o=[o,l]:l!==n&&(o=l),a}},f?(F===n&&C.initialize(),C.invoke(p)):(F!==n&&F.invoke("destroy"),C.initialize())}),o!==n?o:this},t.fn.modal.settings={name:"Modal",namespace:"modal",useFlex:"auto",offset:0,silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,centered:!0,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",inverted:"inverted",legacy:"legacy",loading:"loading",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(t,e,i,n){"use strict";e=void 0!==e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t.fn.sticky=function(s){var o,r=t(this),a=r.selector||"",l=(new Date).getTime(),h=[],c=s,d="string"==typeof c,u=[].slice.call(arguments,1);return r.each(function(){var r,p,f,m,g,v=t.isPlainObject(s)?t.extend(!0,{},t.fn.sticky.settings,s):t.extend({},t.fn.sticky.settings),y=v.className,b=v.namespace,x=v.error,w="."+b,_="module-"+b,k=t(this),C=t(e),T=t(v.scrollContext),S=(k.selector,k.data(_)),D=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,0)},$=this;g={initialize:function(){g.determineContainer(),g.determineContext(),g.verbose("Initializing sticky",v,r),g.save.positions(),g.checkErrors(),g.bind.events(),v.observeChanges&&g.observeChanges(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),S=g,k.data(_,g)},destroy:function(){g.verbose("Destroying previous instance"),g.reset(),f&&f.disconnect(),m&&m.disconnect(),C.off("load"+w,g.event.load).off("resize"+w,g.event.resize),T.off("scrollchange"+w,g.event.scrollchange),k.removeData(_)},observeChanges:function(){"MutationObserver"in e&&(f=new MutationObserver(g.event.documentChanged),m=new MutationObserver(g.event.changed),f.observe(i,{childList:!0,subtree:!0}),m.observe($,{childList:!0,subtree:!0}),m.observe(p[0],{childList:!0,subtree:!0}),g.debug("Setting up mutation observer",m))},determineContainer:function(){r=v.container?t(v.container):k.offsetParent()},determineContext:function(){0!==(p=v.context?t(v.context):r).length||g.error(x.invalidContext,v.context,k)},checkErrors:function(){if(g.is.hidden()&&g.error(x.visible,k),g.cache.element.height>g.cache.context.height)return g.reset(),void g.error(x.elementSize,k)},bind:{events:function(){C.on("load"+w,g.event.load).on("resize"+w,g.event.resize),T.off("scroll"+w).on("scroll"+w,g.event.scroll).on("scrollchange"+w,g.event.scrollchange)}},event:{changed:function(t){clearTimeout(g.timer),g.timer=setTimeout(function(){g.verbose("DOM tree modified, updating sticky menu",t),g.refresh()},100)},documentChanged:function(e){[].forEach.call(e,function(e){e.removedNodes&&[].forEach.call(e.removedNodes,function(e){(e==$||0<t(e).find($).length)&&(g.debug("Element removed from DOM, tearing down events"),g.destroy())})})},load:function(){g.verbose("Page contents finished loading"),D(g.refresh)},resize:function(){g.verbose("Window resized"),D(g.refresh)},scroll:function(){D(function(){T.triggerHandler("scrollchange"+w,T.scrollTop())})},scrollchange:function(t,e){g.stick(e),v.onScroll.call($)}},refresh:function(t){g.reset(),v.context||g.determineContext(),t&&g.determineContainer(),g.save.positions(),g.stick(),v.onReposition.call($)},supports:{sticky:function(){var e=t("<div/>");return e[0],e.addClass(y.supported),e.css("position").match("sticky")}},save:{lastScroll:function(t){g.lastScroll=t},elementScroll:function(t){g.elementScroll=t},positions:function(){var t={height:T.height()},e={margin:{top:parseInt(k.css("margin-top"),10),bottom:parseInt(k.css("margin-bottom"),10)},offset:k.offset(),width:k.outerWidth(),height:k.outerHeight()},i={offset:p.offset(),height:p.outerHeight()};r.outerHeight(),g.is.standardScroll()||(g.debug("Non-standard scroll. Removing scroll offset from element offset"),t.top=T.scrollTop(),t.left=T.scrollLeft(),e.offset.top+=t.top,i.offset.top+=t.top,e.offset.left+=t.left,i.offset.left+=t.left),g.cache={fits:e.height+v.offset<=t.height,sameHeight:e.height==i.height,scrollContext:{height:t.height},element:{margin:e.margin,top:e.offset.top-e.margin.top,left:e.offset.left,width:e.width,height:e.height,bottom:e.offset.top+e.height},context:{top:i.offset.top,height:i.height,bottom:i.offset.top+i.height}},g.set.containerSize(),g.stick(),g.debug("Caching element positions",g.cache)}},get:{direction:function(t){var e="down";return t=t||T.scrollTop(),g.lastScroll!==n&&(g.lastScroll<t?e="down":g.lastScroll>t&&(e="up")),e},scrollChange:function(t){return t=t||T.scrollTop(),g.lastScroll?t-g.lastScroll:0},currentElementScroll:function(){return g.elementScroll?g.elementScroll:g.is.top()?Math.abs(parseInt(k.css("top"),10))||0:Math.abs(parseInt(k.css("bottom"),10))||0},elementScroll:function(t){t=t||T.scrollTop();var e=g.cache.element,i=g.cache.scrollContext,n=g.get.scrollChange(t),s=e.height-i.height+v.offset,o=g.get.currentElementScroll(),r=o+n;return g.cache.fits||r<0?0:s<r?s:r}},remove:{lastScroll:function(){delete g.lastScroll},elementScroll:function(){delete g.elementScroll},minimumSize:function(){r.css("min-height","")},offset:function(){k.css("margin-top","")}},set:{offset:function(){g.verbose("Setting offset on element",v.offset),k.css("margin-top",v.offset)},containerSize:function(){var t=r.get(0).tagName;"HTML"===t||"body"==t?g.determineContainer():Math.abs(r.outerHeight()-g.cache.context.height)>v.jitter&&(g.debug("Context has padding, specifying exact height for container",g.cache.context.height),r.css({height:g.cache.context.height}))},minimumSize:function(){var t=g.cache.element;r.css("min-height",t.height)},scroll:function(t){g.debug("Setting scroll on element",t),g.elementScroll!=t&&(g.is.top()&&k.css("bottom","").css("top",-t),g.is.bottom()&&k.css("top","").css("bottom",t))},size:function(){0!==g.cache.element.height&&0!==g.cache.element.width&&($.style.setProperty("width",g.cache.element.width+"px","important"),$.style.setProperty("height",g.cache.element.height+"px","important"))}},is:{standardScroll:function(){return T[0]==e},top:function(){return k.hasClass(y.top)},bottom:function(){return k.hasClass(y.bottom)},initialPosition:function(){return!g.is.fixed()&&!g.is.bound()},hidden:function(){return!k.is(":visible")},bound:function(){return k.hasClass(y.bound)},fixed:function(){return k.hasClass(y.fixed)}},stick:function(t){var e=t||T.scrollTop(),i=g.cache,n=i.fits,s=i.sameHeight,o=i.element,r=i.scrollContext,a=i.context,l=g.is.bottom()&&v.pushing?v.bottomOffset:v.offset,h=(t={top:e+l,bottom:e+l+r.height},g.get.direction(t.top),n?0:g.get.elementScroll(t.top)),c=!n;0!==o.height&&!s&&(g.is.initialPosition()?t.top>=a.bottom?(g.debug("Initial element position is bottom of container"),g.bindBottom()):t.top>o.top&&(o.height+t.top-h>=a.bottom?(g.debug("Initial element position is bottom of container"),g.bindBottom()):(g.debug("Initial element position is fixed"),g.fixTop())):g.is.fixed()?g.is.top()?t.top<=o.top?(g.debug("Fixed element reached top of container"),g.setInitialPosition()):o.height+t.top-h>=a.bottom?(g.debug("Fixed element reached bottom of container"),g.bindBottom()):c&&(g.set.scroll(h),g.save.lastScroll(t.top),g.save.elementScroll(h)):g.is.bottom()&&(t.bottom-o.height<=o.top?(g.debug("Bottom fixed rail has reached top of container"),g.setInitialPosition()):t.bottom>=a.bottom?(g.debug("Bottom fixed rail has reached bottom of container"),g.bindBottom()):c&&(g.set.scroll(h),g.save.lastScroll(t.top),g.save.elementScroll(h))):g.is.bottom()&&(t.top<=o.top?(g.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),g.setInitialPosition()):v.pushing?g.is.bound()&&t.bottom<=a.bottom&&(g.debug("Fixing bottom attached element to bottom of browser."),g.fixBottom()):g.is.bound()&&t.top<=a.bottom-o.height&&(g.debug("Fixing bottom attached element to top of browser."),g.fixTop())))},bindTop:function(){g.debug("Binding element to top of parent container"),g.remove.offset(),k.css({left:"",top:"",marginBottom:""}).removeClass(y.fixed).removeClass(y.bottom).addClass(y.bound).addClass(y.top),v.onTop.call($),v.onUnstick.call($)},bindBottom:function(){g.debug("Binding element to bottom of parent container"),g.remove.offset(),k.css({left:"",top:""}).removeClass(y.fixed).removeClass(y.top).addClass(y.bound).addClass(y.bottom),v.onBottom.call($),v.onUnstick.call($)},setInitialPosition:function(){g.debug("Returning to initial position"),g.unfix(),g.unbind()},fixTop:function(){g.debug("Fixing element to top of page"),v.setSize&&g.set.size(),g.set.minimumSize(),g.set.offset(),k.css({left:g.cache.element.left,bottom:"",marginBottom:""}).removeClass(y.bound).removeClass(y.bottom).addClass(y.fixed).addClass(y.top),v.onStick.call($)},fixBottom:function(){g.debug("Sticking element to bottom of page"),v.setSize&&g.set.size(),g.set.minimumSize(),g.set.offset(),k.css({left:g.cache.element.left,bottom:"",marginBottom:""}).removeClass(y.bound).removeClass(y.top).addClass(y.fixed).addClass(y.bottom),v.onStick.call($)},unbind:function(){g.is.bound()&&(g.debug("Removing container bound position on element"),g.remove.offset(),k.removeClass(y.bound).removeClass(y.top).removeClass(y.bottom))},unfix:function(){g.is.fixed()&&(g.debug("Removing fixed position on element"),g.remove.minimumSize(),g.remove.offset(),k.removeClass(y.fixed).removeClass(y.top).removeClass(y.bottom),v.onUnstick.call($))},reset:function(){g.debug("Resetting elements position"),g.unbind(),g.unfix(),g.resetCSS(),g.remove.offset(),g.remove.lastScroll()},resetCSS:function(){k.css({width:"",height:""}),r.css({height:""})},setting:function(e,i){if(t.isPlainObject(e))t.extend(!0,v,e);else{if(i===n)return v[e];v[e]=i}},internal:function(e,i){if(t.isPlainObject(e))t.extend(!0,g,e);else{if(i===n)return g[e];g[e]=i}},debug:function(){!v.silent&&v.debug&&(v.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,v.name+":"),g.debug.apply(console,arguments)))},verbose:function(){!v.silent&&v.verbose&&v.debug&&(v.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),g.verbose.apply(console,arguments)))},error:function(){v.silent||(g.error=Function.prototype.bind.call(console.error,console,v.name+":"),g.error.apply(console,arguments))},performance:{log:function(t){var e,i;v.performance&&(i=(e=(new Date).getTime())-(l||e),l=e,h.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:$,"Execution Time":i})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,0)},display:function(){var e=v.name+":",i=0;l=!1,clearTimeout(g.performance.timer),t.each(h,function(t,e){i+=e["Execution Time"]}),e+=" "+i+"ms",a&&(e+=" '"+a+"'"),(console.group!==n||console.table!==n)&&0<h.length&&(console.groupCollapsed(e),console.table?console.table(h):t.each(h,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(e,i,s){var r,a,l,h=S;return i=i||u,s=$||s,"string"==typeof e&&h!==n&&(e=e.split(/[\. ]/),r=e.length-1,t.each(e,function(i,s){var o=i!=r?s+e[i+1].charAt(0).toUpperCase()+e[i+1].slice(1):e;if(t.isPlainObject(h[o])&&i!=r)h=h[o];else{if(h[o]!==n)return a=h[o],!1;if(!t.isPlainObject(h[s])||i==r)return h[s]!==n&&(a=h[s]),!1;h=h[s]}})),t.isFunction(a)?l=a.apply(s,i):a!==n&&(l=a),t.isArray(o)?o.push(l):o!==n?o=[o,l]:l!==n&&(o=l),a}},d?(S===n&&g.initialize(),g.invoke(c)):(S!==n&&S.invoke("destroy"),g.initialize())}),o!==n?o:this},t.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:e,offset:0,bottomOffset:0,jitter:5,setSize:!0,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(t,e,i,n){"use strict";e=void 0!==e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t.fn.transition=function(){var s,o=t(this),r=o.selector||"",a=(new Date).getTime(),l=[],h=arguments,c=h[0],d=[].slice.call(arguments,1),u="string"==typeof c;e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame;return o.each(function(e){var p,f,m,g,v,y,b,x,w,_=t(this),k=this;(w={initialize:function(){p=w.get.settings.apply(k,h),g=p.className,m=p.error,v=p.metadata,x="."+p.namespace,b="module-"+p.namespace,f=_.data(b)||w,y=w.get.animationEndEvent(),u&&(u=w.invoke(c)),!1===u&&(w.verbose("Converted arguments into settings object",p),p.interval?w.delay(p.animate):w.animate(),w.instantiate())},instantiate:function(){w.verbose("Storing instance of module",w),f=w,_.data(b,f)},destroy:function(){w.verbose("Destroying previous module for",k),_.removeData(b)},refresh:function(){w.verbose("Refreshing display type on next animation"),delete w.displayType},forceRepaint:function(){w.verbose("Forcing element repaint");var t=_.parent(),e=_.next();0===e.length?_.detach().appendTo(t):_.detach().insertBefore(e)},repaint:function(){w.verbose("Repainting element");k.offsetWidth},delay:function(t){var i,s=w.get.animationDirection();s||(s=w.can.transition()?w.get.direction():"static"),t=t!==n?t:p.interval,i="auto"==p.reverse&&s==g.outward||1==p.reverse?(o.length-e)*p.interval:e*p.interval,w.debug("Delaying animation by",i),setTimeout(w.animate,i)},animate:function(t){if(p=t||p,!w.is.supported())return w.error(m.support),!1;if(w.debug("Preparing animation",p.animation),w.is.animating()){if(p.queue)return!p.allowRepeats&&w.has.direction()&&w.is.occurring()&&!0!==w.queuing?w.debug("Animation is currently occurring, preventing queueing same animation",p.animation):w.queue(p.animation),!1;if(!p.allowRepeats&&w.is.occurring())return w.debug("Animation is already occurring, will not execute repeated animation",p.animation),!1;w.debug("New animation started, completing previous early",p.animation),f.complete()}w.can.animate()?w.set.animating(p.animation):w.error(m.noAnimation,p.animation,k)},reset:function(){w.debug("Resetting animation to beginning conditions"),w.remove.animationCallbacks(),w.restore.conditions(),w.remove.animating()},queue:function(t){w.debug("Queueing animation of",t),w.queuing=!0,_.one(y+".queue"+x,function(){w.queuing=!1,w.repaint(),w.animate.apply(this,p)})},complete:function(){w.debug("Animation complete",p.animation),w.remove.completeCallback(),w.remove.failSafe(),w.is.looping()||(w.is.outward()?(w.verbose("Animation is outward, hiding element"),w.restore.conditions(),w.hide()):w.is.inward()?(w.verbose("Animation is outward, showing element"),w.restore.conditions(),w.show()):(w.verbose("Static animation completed"),w.restore.conditions(),p.onComplete.call(k)))},force:{visible:function(){var t=_.attr("style"),e=w.get.userStyle(),i=w.get.displayType(),s=e+"display: "+i+" !important;",o=_.css("display"),r=t===n||""===t;o!==i?(w.verbose("Overriding default display to show element",i),_.attr("style",s)):r&&_.removeAttr("style")},hidden:function(){var t=_.attr("style"),e=_.css("display"),i=t===n||""===t;"none"===e||w.is.hidden()?i&&_.removeAttr("style"):(w.verbose("Overriding default display to hide element"),_.css("display","none"))}},has:{direction:function(e){var i=!1;return"string"==typeof(e=e||p.animation)&&(e=e.split(" "),t.each(e,function(t,e){e!==g.inward&&e!==g.outward||(i=!0)})),i},inlineDisplay:function(){var e=_.attr("style")||"";return t.isArray(e.match(/display.*?;/,""))}},set:{animating:function(t){var e;w.remove.completeCallback(),t=t||p.animation,e=w.get.animationClass(t),w.save.animation(e),w.force.visible(),w.remove.hidden(),w.remove.direction(),w.start.animation(e)},duration:function(t,e){((e="number"==typeof(e=e||p.duration)?e+"ms":e)||0===e)&&(w.verbose("Setting animation duration",e),_.css({"animation-duration":e}))},direction:function(t){(t=t||w.get.direction())==g.inward?w.set.inward():w.set.outward()},looping:function(){w.debug("Transition set to loop"),_.addClass(g.looping)},hidden:function(){_.addClass(g.transition).addClass(g.hidden)},inward:function(){w.debug("Setting direction to inward"),_.removeClass(g.outward).addClass(g.inward)},outward:function(){w.debug("Setting direction to outward"),_.removeClass(g.inward).addClass(g.outward)},visible:function(){_.addClass(g.transition).addClass(g.visible)}},start:{animation:function(t){t=t||w.get.animationClass(),w.debug("Starting tween",t),_.addClass(t).one(y+".complete"+x,w.complete),p.useFailSafe&&w.add.failSafe(),w.set.duration(p.duration),p.onStart.call(k)}},save:{animation:function(t){w.cache||(w.cache={}),w.cache.animation=t},displayType:function(t){"none"!==t&&_.data(v.displayType,t)},transitionExists:function(e,i){t.fn.transition.exists[e]=i,w.verbose("Saving existence of transition",e,i)}},restore:{conditions:function(){var t=w.get.currentAnimation();t&&(_.removeClass(t),w.verbose("Removing animation class",w.cache)),w.remove.duration()}},add:{failSafe:function(){var t=w.get.duration();w.timer=setTimeout(function(){_.triggerHandler(y)},t+p.failSafeDelay),w.verbose("Adding fail safe timer",w.timer)}},remove:{animating:function(){_.removeClass(g.animating)},animationCallbacks:function(){w.remove.queueCallback(),w.remove.completeCallback()},queueCallback:function(){_.off(".queue"+x)},completeCallback:function(){_.off(".complete"+x)},display:function(){_.css("display","")},direction:function(){_.removeClass(g.inward).removeClass(g.outward)},duration:function(){_.css("animation-duration","")},failSafe:function(){w.verbose("Removing fail safe timer",w.timer),w.timer&&clearTimeout(w.timer)},hidden:function(){_.removeClass(g.hidden)},visible:function(){_.removeClass(g.visible)},looping:function(){w.debug("Transitions are no longer looping"),w.is.looping()&&(w.reset(),_.removeClass(g.looping))},transition:function(){_.removeClass(g.visible).removeClass(g.hidden)}},get:{settings:function(e,i,n){return"object"==typeof e?t.extend(!0,{},t.fn.transition.settings,e):"function"==typeof n?t.extend({},t.fn.transition.settings,{animation:e,onComplete:n,duration:i}):"string"==typeof i||"number"==typeof i?t.extend({},t.fn.transition.settings,{animation:e,duration:i}):"object"==typeof i?t.extend({},t.fn.transition.settings,i,{animation:e}):"function"==typeof i?t.extend({},t.fn.transition.settings,{animation:e,onComplete:i}):t.extend({},t.fn.transition.settings,{animation:e})},animationClass:function(t){var e=t||p.animation,i=w.can.transition()&&!w.has.direction()?w.get.direction()+" ":"";return g.animating+" "+g.transition+" "+i+e},currentAnimation:function(){return!(!w.cache||w.cache.animation===n)&&w.cache.animation},currentDirection:function(){return w.is.inward()?g.inward:g.outward},direction:function(){return w.is.hidden()||!w.is.visible()?g.inward:g.outward},animationDirection:function(e){var i;return"string"==typeof(e=e||p.animation)&&(e=e.split(" "),t.each(e,function(t,e){e===g.inward?i=g.inward:e===g.outward&&(i=g.outward)})),i||!1},duration:function(t){return!1===(t=t||p.duration)&&(t=_.css("animation-duration")||0),"string"==typeof t?t.indexOf("ms")>-1?parseFloat(t):1e3*parseFloat(t):t},displayType:function(t){return t=t===n||t,p.displayType?p.displayType:(t&&_.data(v.displayType)===n&&w.can.transition(!0),_.data(v.displayType))},userStyle:function(t){return(t=t||_.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(e){return t.fn.transition.exists[e]},animationStartEvent:function(){var t,e=i.createElement("div"),s={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(t in s)if(e.style[t]!==n)return s[t];return!1},animationEndEvent:function(){var t,e=i.createElement("div"),s={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(t in s)if(e.style[t]!==n)return s[t];return!1}},can:{transition:function(e){var i,s,o,r,a,l,h=p.animation,c=w.get.transitionExists(h),d=w.get.displayType(!1);if(c===n||e){if(w.verbose("Determining whether animation exists"),i=_.attr("class"),s=_.prop("tagName"),r=(o=t("<"+s+" />").addClass(i).insertAfter(_)).addClass(h).removeClass(g.inward).removeClass(g.outward).addClass(g.animating).addClass(g.transition).css("animationName"),a=o.addClass(g.inward).css("animationName"),d||(d=o.attr("class",i).removeAttr("style").removeClass(g.hidden).removeClass(g.visible).show().css("display"),w.verbose("Determining final display state",d),w.save.displayType(d)),o.remove(),r!=a)w.debug("Direction exists for animation",h),l=!0;else{if("none"==r||!r)return void w.debug("No animation defined in css",h);w.debug("Static animation found",h,d),l=!1}w.save.transitionExists(h,l)}return c!==n?c:l},animate:function(){return w.can.transition()!==n}},is:{animating:function(){return _.hasClass(g.animating)},inward:function(){return _.hasClass(g.inward)},outward:function(){return _.hasClass(g.outward)},looping:function(){return _.hasClass(g.looping)},occurring:function(t){return t="."+(t=t||p.animation).replace(" ","."),_.filter(t).length>0},visible:function(){return _.is(":visible")},hidden:function(){return"hidden"===_.css("visibility")},supported:function(){return!1!==y}},hide:function(){w.verbose("Hiding element"),w.is.animating()&&w.reset(),k.blur(),w.remove.display(),w.remove.visible(),w.set.hidden(),w.force.hidden(),p.onHide.call(k),p.onComplete.call(k)},show:function(t){w.verbose("Showing element",t),w.remove.hidden(),w.set.visible(),w.force.visible(),p.onShow.call(k),p.onComplete.call(k)},toggle:function(){w.is.visible()?w.hide():w.show()},stop:function(){w.debug("Stopping current animation"),_.triggerHandler(y)},stopAll:function(){w.debug("Stopping all animation"),w.remove.queueCallback(),_.triggerHandler(y)},clear:{queue:function(){w.debug("Clearing animation queue"),w.remove.queueCallback()}},enable:function(){w.verbose("Starting animation"),_.removeClass(g.disabled)},disable:function(){w.debug("Stopping animation"),_.addClass(g.disabled)},setting:function(e,i){if(w.debug("Changing setting",e,i),t.isPlainObject(e))t.extend(!0,p,e);else{if(i===n)return p[e];t.isPlainObject(p[e])?t.extend(!0,p[e],i):p[e]=i}},internal:function(e,i){if(t.isPlainObject(e))t.extend(!0,w,e);else{if(i===n)return w[e];w[e]=i}},debug:function(){!p.silent&&p.debug&&(p.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,p.name+":"),w.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),w.verbose.apply(console,arguments)))},error:function(){p.silent||(w.error=Function.prototype.bind.call(console.error,console,p.name+":"),w.error.apply(console,arguments))},performance:{log:function(t){var e,i;p.performance&&(i=(e=(new Date).getTime())-(a||e),a=e,l.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:k,"Execution Time":i})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var e=p.name+":",i=0;a=!1,clearTimeout(w.performance.timer),t.each(l,function(t,e){i+=e["Execution Time"]}),e+=" "+i+"ms",r&&(e+=" '"+r+"'"),o.length>1&&(e+=" ("+o.length+")"),(console.group!==n||console.table!==n)&&l.length>0&&(console.groupCollapsed(e),console.table?console.table(l):t.each(l,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(e,i,o){var r,a,l,h=f;return i=i||d,o=k||o,"string"==typeof e&&h!==n&&(e=e.split(/[\. ]/),r=e.length-1,t.each(e,function(i,s){var o=i!=r?s+e[i+1].charAt(0).toUpperCase()+e[i+1].slice(1):e;if(t.isPlainObject(h[o])&&i!=r)h=h[o];else{if(h[o]!==n)return a=h[o],!1;if(!t.isPlainObject(h[s])||i==r)return h[s]!==n&&(a=h[s],!1);h=h[s]}})),t.isFunction(a)?l=a.apply(o,i):a!==n&&(l=a),t.isArray(s)?s.push(l):s!==n?s=[s,l]:l!==n&&(s=l),a!==n&&a}}).initialize()}),s!==n?s:this},t.fn.transition.exists={},t.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(){$(function(){var t,e,i,n,s,o,r,a,l,h,c,d,u,p,f,m,g,v,y;this.title_fork_url="",g="",this.title_project_path="",this.title_post_url="",this.title_p_name="",this.title_p_id="",this.title_description="",this.title_form_authenticity_token="",m=null,t=$("#btn-fetch-code").popup({position:"right center"}),e=$("#btn-sync-from-github").popup({position:"right center"}),r=$("#modal-sync-from-github"),a=$("#modal-sync-from-origin"),o=r.find(".js-github-sync-message"),c=$(".git-project-title"),l=$(".new-line-labels"),$(".proj-language").popup({position:"right center"}),c.find(".license.label").popup({position:"right center"}),c.children(".iconfont").popup({position:"right center"}),c.find(".project-title .iconfont").popup({position:"right center"}),l.find(".label").popup({position:"right center"}),h=c.find(".git-project-recommend-badge"),s=c.find(".git-project-gvp-badge"),i=r.find(".check-remote-repo-loading"),n=r.find(".check-remote-repo-timeout"),h.length>0&&h.popup({position:"right center",content:h.attr("title")}),s.length>0&&s.popup({position:"right center",content:s.attr("title")});try{1===$(".author").length?(u=$.trim($(".author").attr("href"))+"/"+title_project_path+"/check_fetch",y=$.trim($(".repository").attr("href"))+"/force_sync_project"):$(".author").length>1&&(u=$.trim($(".author").eq(0).attr("href"))+"/"+title_project_path+"/check_fetch",y=$.trim($(".repository").eq(0).attr("href"))+"/force_sync_project")}catch(b){return void b}if(p=function(i,n,s){var o;if(null==n&&(n=!0),null==s&&(s=""),!n)return o=void 0,o=i===this.title_import_url||i===y?$(".remote-message .popup > .content"):$(".fork-message .popup > .content"),void(void 0!==s&&""!==s?o.text(s):o.text("\u7531\u4e8e\u961f\u5217\u5df2\u6ee1,\u6216\u8005\u5176\u4ed6\u9519\u8bef,\u6682\u65e0\u6cd5\u62c9\u53d6\u4ee3\u7801"));gon.wait_fetch=!0,e.find("i"),(i===this.title_import_url||i===y?e.find("i"):t).removeClass("refresh").addClass("loading spinner"),t.attr("title","\u4ed3\u5e93\u6b63\u5728\u540e\u53f0\u540c\u6b65\u4e2d\uff0c\u540c\u6b65\u5b8c\u6210\u5c06\u81ea\u52a8\u5237\u65b0\u754c\u9762\uff0c\u8bf7\u7a0d\u7b49..."),t.popup({position:"right center"}),g=setInterval(d,5e3)},d=function(){var t;return t=e.find("i"),$.ajax({type:"GET",url:u,dataType:"json",success:function(e){if(!e.in_fetch)return clearInterval(g),e.error_msg?($("#fetch-error .error_msg").html(e.error_msg),$("#in-fork-message").addClass("hide"),$("#fetch-error").fadeIn(),t.removeClass("loading spinner").addClass("refresh")):($("#fetch-ok").fadeIn(),location.reload(!0))}})},f=function(){var t,i,n,s;return t=e.find("i"),s=r.find("input[name=user_sync_code]").val(),i=r.find("input[name=password_sync_code]").val(),n=r.find(".sync-wiki input").prop("checked"),$.ajax({type:"POST",url:y,timeout:12e4,dataType:"json",data:{user_sync_code:s,password_sync_code:i,sync_wiki:n,authenticity_token:title_form_authenticity_token},beforeSend:function(){return t.css("color",""),t.addClass("loading spinner").removeClass("refresh")},success:function(e){return 0===e.status?(void 0!==e.message&&""!==e.message&&($("#import-result-message .status-message").text(e.message),$("#import-result-message").fadeIn(),setTimeout(function(){return $("#import-result-message").fadeOut()},2e3)),p(title_import_url,!1,e.message),t.removeClass("loading spinner").addClass("refresh")):(p(title_import_url),$("#new_file_bread").on("click",function(t){return t.preventDefault(),alert("\u4ed3\u5e93\u6b63\u5728\u540e\u53f0\u5904\u7406\u4e2d,\u8bf7\u7a0d\u540e\u6267\u884c\u6b64\u529f\u80fd"),!1}))}})},v=function(){if(!m)return i.removeClass("hide"),n.addClass("hide"),r.find(".authen-info").addClass("hide"),r.find(".ok.button").addClass("disabled")},$("#write-cloneurl-message button").click(function(){var t,e;if(t=$("#write-cloneurl-message #import_url").val(),e=$("#write-cloneurl-message span.message"),-1!==t.indexOf("http")){if(-1!==t.indexOf(title_project_path))return $("#write-cloneurl-message i.refresh").show(),$.post(post_url,{import_url:t},function(){return e.html("\u64cd\u4f5c\u6210\u529f."),t,$("#write-cloneurl-message").hide(),r.modal("show")});e.html(" * \u8fd9\u4f3c\u4e4e\u5e76\u4e0d\u662f\u8be5\u4ed3\u5e93\u7684clone\u5730\u5740")}else e.html(" * \u5fc5\u987b\u662fhttp/https\u7684clone\u5730\u5740")}),e.on("click",function(){if(void 0===gon.wait_fetch||!0!==gon.wait_fetch)if("false"!==import_url){if(a.modal("hide"),r.modal("show"),!m)return checkProjectPrivate(title_import_url,function(t,e,s){return i.addClass("hide"),n.addClass("hide"),r.find(".ok.button").removeClass("disabled"),o.html(s).removeClass("error warning info visible"),s&&o.addClass("visible"),t?(m="private",o.addClass("visible"),r.find(".authen-info").removeClass("hide"),e?o.addClass("success"):o.addClass("warning")):(m="public",r.find(".authen-info").addClass("hide"),e?o.addClass("success"):o.addClass("error")),r.modal("refresh")})}else $("#write-cloneurl-message").show()}),r.modal({onApprove:f,onHidden:v}),t.click(function(){void 0!==gon.wait_fetch&&!0===gon.wait_fetch||(r.modal("hide"),a.modal("show"))}),a.find(".button.ok").on("click",function(){var e;e=a.find(".sync-wiki input").prop("checked"),$.ajax({type:"POST",url:title_fork_url,dataType:"json",data:{fetch_code:1,sync_wiki:e},beforeSend:function(){return t.css("color",""),a.modal("hide"),t.addClass("loading spinner").removeClass("refresh")},success:function(e){return 0===e.status?(void 0!==e.message&&""!==e.message&&($("#import-result-message .status-title").text("\u63d0\u793a"),$("#import-result-message .status-message").text(e.message),$("#import-result-message").fadeIn(),setTimeout(function(){return $("#import-result-message").fadeOut()},2e3)),p(title_fork_url,!1,e.message),t.removeClass("loading spinner").addClass("refresh")):p(title_fork_url)}})}),void 0!==gon.fetch_url)return p(gon.fetch_url)})}.call(this),function(){$(function(){var t,e,i,n,s,o,r,a,l,h,c,d,u;return i=24,n=void 0,a=void 0,l=void 0,h=0,c=!1,t=$("#git-project-content"),e=$("#git-project-search-panel"),o=function(t,e,i){var n,s,o,r;return s=t,$.trim(e).length>0&&(r=e.toLowerCase(),(o=t.toLowerCase().indexOf(r))>=0&&(n=t.substring(o,o+e.length),s=t.replace(n,"<strong>"+n+"</strong>"))),
'<a class="tree-item d-block" href="'+(i+t)+'">\n  <i class="iconfont icon-file text-black"></i>\n  '+s+"\n</a>"},s=function(t,e,i){var n,s,r,h,c,d;if(h="<div class=\"row column tree-holder\" id=\"temp-list\">\n<div class='tree-content-holder' style='margin-top:6px;'>\n  <div class='tree-content' style='padding:6px 0;background-color:#fff'>",r="</div></div></div>",0===t.length)return h+"<div style='padding: 5px 12px;'>\u627e\u4e0d\u5230\u76f8\u5173\u6587\u4ef6</div>"+r;for(n="",i=l+"/blob/"+a+"/",c=0,d=t.length;c<d;c++)s=t[c],n+=o(s,e,i);return h+n+r},$("#search-name").on("keyup",function(t){var o,r,a,l,c,d,u,p,f;if(13!==t.which){if(27===t.keyCode)return $("#back-to-list").trigger("click");for(h=0,u=(p=$.trim($("#search-name").val())).toLowerCase(),r=[],l=0,c=n.length;l<c;l++)d=(o=n[l]).toLowerCase(),(!p||-1!==d.indexOf(u))&&r.length<i&&r.push(o);return $("#temp-list").remove(),e.append(s(r,p))}if(1===(f=$("#temp-list").find(".tree-item")).length)return a=$(f[h]).attr("href"),window.location.href=a}),$(document).on("click","#search-files",function(){return r()}),$("#back-to-list").on("click",function(){return t.show(),e.hide()}),d=function(){return u(),t.hide(),e.show(),$("#search-name").val("").focus().trigger("keyup")},u=function(){return $("#search-files-loading").toggleClass("octicon octicon-list-unordered spinner loading icon")},r=function(){var t,e;u(),void 0===n?c||(c=!0,a=$("#ref").val(),t=gon.http_clone,e=(l=t.replace(/\.git$/i,"").replace("https://","//"))+"/file_list",a||(a="master"),$.ajax({url:e,data:{ref:a},type:"GET",success:function(t){c=!1,n=t,d()},error:function(){c=!1,u(),alert("\u56e0\u4e3a\u7f51\u7edc\u6216\u5176\u4ed6\u539f\u56e0,\u6587\u4ef6\u5217\u8868\u83b7\u53d6\u5931\u8d25,\u8bf7\u7a0d\u540e\u91cd\u8bd5!")}})):d()}})}.call(this),window.Gitee.getProjectResourceRequestInterval=function(){var t=$(".git-project-title .icon-enterprise-badge").length>0,e=$(".git-project-title .icon-recommended").length>0,i=$(".git-project-title .git-project-gvp-badge").length>0;return t||i?3e4:e?6e4:12e4},window.Gitee.initCommentUpdater=function(t){function e(e){var i,r=[],a=[];n.find(".comment").each(function(){a.push($(this).data("noteId"))}),$(e).each(function(){var e=$(this).data("noteId");if(e&&!(s.indexOf(e)>=0)){if(r.push(e),(i=$("#"+$(this).attr("id"))).length>0){if($(this).data("updatedAt")===i.data("updatedAt"))return;$(this).find(".js-note-reaction").popup({hoverable:!0}),i.replaceWith(this)}else $(this).find(".js-note-reaction").popup({hoverable:!0}),n.append(this);(i=$(this)).find(".timeago").timeago(),i.find(".commenter-role-label").popup(),i.find(".markdown-body pre code").each(function(t,e){window.hljs.highlightBlock(e)}),i.find(".markdown-body[username="+t.username+"] .task-list-item-checkbox").prop("disabled",!1)}}),a.forEach(function(t){-1===r.indexOf(t)&&$("#note_"+t+"_content").remove()}),o.text(r.length)}function i(){$.get(t.fetchUrl).done(function(t){e(t)}).always(function(){setTimeout(i,r)})}var n=$("#notes-list"),s=[],o=$(".issue-comments-header .count, .pr_notes_count"),r=window.Gitee.getProjectResourceRequestInterval();setTimeout(i,r),n.on("delete.comments",function(t,e){e&&s.push(e)})},function(){var t;t=function(t){var e,i,n,s,o,r,a,l,h,c,d,u,p,f,m,g,v,y,b,x,w,_,k,C,T,S,D,M,A,L,E,P,I,N,F,O,R,j,B,H,z,U;return D=null,A=null,S=!1,M=0,j=[],B=null,H=t.source,b=["#DB2828","#F2711C","#FBBD08","#B5CC18","#21BA45","#00B5AD","#2185D0","#6435C9","#A333C8","#E03997","#A5673F","#767676","#1B1C1D","#8D6E63","#CEBA00","#63898D"],v=t.dropdown,y=$("<span />"),h=$("body"),m=v.find(".menu"),f=$('<div class="scrolling menu"></div>'),d=$('<div class="footer editing" />'),u=$('<div class="footer import" />'),r=$('<span class="action button">'+t.text.ok+"</span>"),i=$('<span class="action button">'+t.text.cancel+"</span>"),a=$('<span class="action button">'+t.text.ok+"</span>"),n=$('<span class="action button">'+t.text.cancel+"</span>"),c=$('<div class="ui inverted dimmer"><div class="ui loader"></div></div>'),e=$('<i class="iconfont icon-add"></i>'),s=$('<i class="iconfont icon-edit"></i>'),o=$('<i class="iconfont icon-import"></i>'),g=$('<div class="item disabled message">'+t.message+"</div>"),l=$('<span class="pull-right" />').append(s,o,e),p=$('<div class="header" />'),P=function(e){var i;return i="ui empty label",t.circularLabel&&(i+=" circular"),'<div class="issue-label item" data-value="'+e.name+'"><span class="'+i+'" style="background-color: '+e.color+'" /><span class="text">'+e.name+"</span></div>"},E=function(e){var i;return i="ui empty label",t.circularLabel&&(i+=" circular"),'<div class="issue-label item editing" data-value="'+e.name+'"><span class="'+i+'" style="background-color: '+e.color+'" /><span class="ui input"><input type="text" name="name" value="'+e.name+'"></span><i class="iconfont icon-delete" /></div>'},x=function(e,i){var n,s,o,r,a,l,h;for(h=t.placeholder.color,n=$('<div class="ui small popup color-selector"/>'),o=$('<input type="text" name="color" placeholder="'+h+'">'),s=$('<div class="color-box"/>'),a=0,l=b.length;a<l;a++)r=b[a],s.append('<span class="ui empty label" data-value="'+r+'" style="background-color: '+r+'" />');return n.append(s,$('<div class="ui input" />').append(o)),o.val(e).on({keydown:function(t){var e,n;return n=o.val(),e=/^#(?:[0-9a-f]{3}){1,2}$/i,13===t.which&&(e.test(n)?(i(n),o.parent().removeClass("error")):o.parent().addClass("error")),t.stopPropagation()},click:function(t){return t.stopPropagation()}}),n.on("click",function(t){return t.stopPropagation()}),n.on("click",".label",function(t){var e;return t.stopPropagation(),e=$(this).attr("data-value"),o.parent().removeClass("error"),o.val(e),i(e)}),n},_=function(e){return $(P(e)).on("click",function(i){var n;return i.stopPropagation(),t.path?(n=(n=decodeURIComponent(t.path)).replace("{label}",e.name),void(window.location.href=n)):t.onSelect?t.onSelect(e):void 0})},R=function(t){var e,i,n,s;if(!(j.indexOf(t)>=0)){for(j.push(t),s=[],e=0,n=D.length;e<n;e++)(i=D[e]).name===t?(i.$item.addClass("disabled"),i.$itemEditing?s.push(i.$itemEditing.hide()):s.push(void 0)):s.push(void 0);return s}},z=function(t){var e,i,n,s,o,r,a;if(t){if(!((e=j.indexOf(t))<0)){for(j.splice(e,1),a=[],n=0,r=D.length;n<r;n++)(s=D[n]).name===t?(s.$item.removeClass("disabled"),s.$itemEditing?a.push(s.$itemEditing.show()):a.push(void 0)):a.push(void 0);return a}}else{if(D)for(i=0,o=D.length;i<o;i++)s=D[i],j.indexOf(s.name)<0||(s.$item.removeClass("disabled"),s.$itemEditing&&s.$itemEditing.show());j=[]}},w=function(t){var e,i,n,s,o;return o=$(E(t)),s=o.find("input"),e=o.find(".label"),i=o.find(".icon-delete"),n=x(t.color,function(i){return t.newColor=i,e.css("background-color",i)}),s.on({click:function(t){return t.stopPropagation()},keydown:function(e){if(e.stopPropagation(),13===e.which)return t.newName=s.val()},input:function(){return t.newName=s.val()}}),h.append(n),o.on("click",function(t){return t.stopPropagation()}),e.on("click",function(t){return t.stopPropagation()}),e.popup({on:"click",popup:n,movePopup:!1,delay:{hide:1e3},position:"left center",hoverable:!0}),i.on("click",function(e){return e.stopPropagation(),o.hide(),t.removed=!0}),o},I=function(){var e,i,n,o,r,a,l;if(f.find(".issue-label").remove(),!D||D.length<1)return g.show(),void s.hide();if(g.hide(),s.show(),t.admin){for(a=[],e=0,o=D.length;e<o;e++)(n=D[e]).$item=_(n),n.$itemEditing=w(n),a.push(f.append(n.$item,n.$itemEditing));return a}for(l=[],i=0,r=D.length;i<r;i++)(n=D[i]).$item=_(n),l.push(f.append(n.$item));return l},F=function(t){return'<div class="item project"><div class="ui radio checkbox"><input type="radio" name="source" value="'+t.id+'"><label>'+t.path_with_namespace+"<label></div></div>"},C=function(t){var e;return(e=$(F(t))).on("click",function(t){return t.stopPropagation()}),e},O=function(){var e,i,n,s;for(m.addClass("import"),f.find(".project.item").remove(),i=0,n=A.length;i<n;i++)s=A[i],f.append(C(s));return(e=f.find(".project .checkbox")).checkbox({onChange:function(){return e.removeClass("checked"),$(this).parent().addClass("checked"),B=$(this).val()}}),y.text(t.text.selectProject)},N=function(e){return'<div class="issue-label item"><span class="ui empty label" style="background-color: '+e+'" /><div class="ui input"><input type="text" placeholder="'+t.placeholder.label+'"/></div><i class="iconfont icon-checkmark-circle" /><i class="iconfont icon-close-circle" /></div>'},k=function(){var e,i,n,o,r,a,l,c,d;return c={name:"",color:b[parseInt(100*Math.random())%b.length]},d=function(){var e,i;if(c.name=r.val().trim(),!c.name)return r.parent().addClass("error"),void Flash.show(t.text.nodata,"error");for(e=0,i=D.length;e<i;e++)if(D[e].name===c.name)return r.parent().addClass("error"),void Flash.show(t.text.exist,"error");return r.parent().removeClass("error"),a.addClass("disabled"),$.ajax({url:H,dataType:"json",type:"POST",data:{"label[name]":c.name,"label[color]":c.color.substr(1)},success:function(t){return 0!==t.status?(a.removeClass("disabled"),r.parent().addClass("error"),void Flash.show(t.message,"error")):(c.id=t.id,c.$item=_(c),c.$itemEditing=w(c),a.after(c.$item,c.$itemEditing),a.remove(),D.push(c),(M-=1)<1?(g.hide(),s.show()):void 0)}})},M+=1,a=$(N(c.color)),r=a.find("input"),i=a.find(".label"),n=a.find(".icon-checkmark-circle"),e=a.find(".icon-close-circle"),n.on("click",function(t){return t.stopPropagation(),d()}),e.on("click",function(t){if(t.stopPropagation(),a.remove(),(M-=1)<1&&(!D||D.length<1))return s.hide(),g.show()}),r.on({click:function(t){return t.stopPropagation()},keydown:function(t){if(t.stopPropagation(),13===t.which)return d()},input:function(){return c.name=r.val()}}),i.on("click",function(t){return t.stopPropagation()}),o=x(c.color,function(t){return c.color=t,i.css("background-color",t)}),h.append(o),i.popup({on:"click",popup:o,delay:{hide:1e3},movePopup:!1,position:"left center",hoverable:!0}),a.on("click",function(t){return t.stopPropagation()}),(l=m.find(".item.editing:last")).length<1&&(l=p.next()),(!D||D.length<1)&&(g.hide(),s.hide()),l.after(a),r.focus()},L=function(){if(!D&&!S&&H)return S=!0,c.addClass("active"),$.getJSON(H,function(t){var e,i,n;for(D=[],e=0,n=t.length;e<n;e++)i=t[e],D.push({id:i.id,name:i.name,color:"#"+i.color,$item:null,$itemEditing:null,removed:!1});return I(),S=!1,c.removeClass("active")})},T=function(t,e){return $.ajax({url:H+"/"+t.id,type:"DELETE",success:function(){var i,n,s;for(t.removed=!1,t.$item.remove(),t.$itemEditing.remove(),i=n=0,s=D.length;n<s;i=++n)if((t=D[i]).id==t.id){D.splice(i,1);break}return e()}})},U=function(t,e){return $.ajax({url:H+"/"+t.id,type:"PUT",dataType:"json",data:{"label[name]":t.newName,"label[color]":t.newColor.substr(1)},success:function(i){var n,s;return 0!==i.status?(c.removeClass("active"),t.$itemEditing.find("input").parent().addClass("error"),void Flash.show(i.message,"error")):(t.name=t.newName,t.color=t.newColor,n=_(t),s=w(t),t.$item.after(n),t.$item.remove(),t.$item=n,t.$itemEditing.after(s),t.$itemEditing.remove(),t.$itemEditing=s,e())}})},function(){var h;return e.attr("title",t.tip.add),s.attr("title",t.tip.edit),o.attr("title",t.tip["import"]),(h=t.dropdownConfig)||(h={}),h.action="nothing",h.onShow=L,h.onChange=t.onChange,v.dropdown(h),t.admin&&t.token?(m.append(p.append(y,l),'<div class="divider" />',f.append(g),c,'<div class="divider editing" />',d.append(r,i),'<div class="divider import" />',u.append(a,n)),e.on("click",k),s.on("click",function(){var e,i,n;for(e=0,n=D.length;e<n;e++)(i=D[e]).newName=i.name,i.newColor=i.color,i.removed=!1,i.$itemEditing.find('input[name="name"]').val(i.name);return y.text(t.text.editLabel),m.addClass("editing"),l.hide()}),o.on("click",function(){return A?(y.text(t.text.selectProject),m.addClass("import"),void l.hide()):(c.addClass("active"),$.getJSON("/api/v3/projects",{private_token:t.token},function(t){return A=t,O(),c.removeClass("active"),l.hide()}))}),a.on("click",function(){if(B)return c.addClass("active"),$.ajax({url:H+"/apply_import",data:{source_project_id:B,authenticity_token:t.token},type:"POST",success:function(){return D=null,L(),c.removeClass("active"),m.removeClass("import"),y.text(""),l.show()}})}),n.on("click",function(){return y.text(""),l.show(),m.removeClass("import")}),i.on("click",function(){var t,e,i,n;for(y.text(""),l.show(),m.removeClass("editing"),n=[],t=0,i=D.length;t<i;t++)(e=D[t]).removed?(e.$itemEditing.attr("style",""),n.push(e.removed=!1)):n.push(void 0);return n}),r.on("click",function(){var t,e,i,n,o;for(t=0,e=function(){var e;if((t-=1)<1)return c.removeClass("active"),m.removeClass("editing"),(e=m.find(".error"))&&e.removeClass("error"),D&&D.length>0?(g.hide(),s.show()):(g.show(),s.hide()),y.text(""),l.show()},c.addClass("active"),i=0,o=D.length;i<o;i++)(n=D[i]).removed?(t+=1,T(n,e)):n.newName===n.name&&n.newColor===n.color||(t+=1,U(n,e));if(0===t)return e()})):(t.manageUrl&&(p.addClass("text-right"),p.append('<a href="'+t.manageUrl+'" target="_blank">'+t.text.manage+"</a>"),m.append(p,'<div class="divider" />')),void m.append(f.append(g),c))}(),this.$this=v,this.load=L,this.select=R,this.unselect=z,this.clear=function(){return D=null,A=null,I(),y.text(""),l.show(),m.removeClass("editing import")},this.setSource=function(t){return H!==t&&(H=t,!0)},this},"undefined"==typeof module?window.LabelsDropdown=t:module.exports=t}.call(this),
/* =========================================================
 * bootstrap-datetimepicker.js
 * =========================================================
 * Copyright 2012 Stefan Petre
 *
 * Improvements by Andrew Rowls
 * Improvements by Sébastien Malot
 * Improvements by Yun Lai
 * Improvements by Kenneth Henderick
 * Improvements by CuGBabyBeaR
 * Improvements by Christian Vaas <auspex@auspex.eu>
 *
 * Project URL : http://www.malot.fr/bootstrap-datetimepicker
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,i){i===e&&(i=0),i<0&&(i+=this.length),i<0&&(i=0);for(var n=this.length;i<n;i++)if(i in this&&this[i]===t)return i;return-1});var n=function(i,n){var s=this;this.element=t(i),this.container=n.container||"body",this.language=n.language||this.element.data("date-language")||"en",this.language=this.language in o?this.language:this.language.split("-")[0],this.language=this.language in o?this.language:"en",this.isRTL=o[this.language].rtl||!1,this.formatType=n.formatType||this.element.data("format-type")||"standard",this.format=r.parseFormat(n.format||this.element.data("date-format")||o[this.language].format||r.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.fontAwesome=n.fontAwesome||this.element.data("font-awesome")||!0,this.bootcssVer=n.bootcssVer||(this.isInput?this.element.is(".form-control")?3:2:this.bootcssVer=this.element.is(".input-group")?3:2),this.component=!!this.element.is(".date")&&(3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-remove, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o").parent():this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar, .add-on .fa-calendar, .add-on .fa-clock-o").parent()),this.componentReset=!!this.element.is(".date")&&(3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-remove, .input-group-addon .fa-times").parent():this.element.find(".add-on .icon-remove, .add-on .fa-times").parent()),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=n.linkField||this.element.data("link-field")||!1,this.linkFormat=r.parseFormat(n.linkFormat||this.element.data("link-format")||r.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=n.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=n.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=n.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=n.initialDate||new Date,this.zIndex=n.zIndex||this.element.data("z-index")||e,this.title="undefined"!=typeof n.title&&n.title,this.defaultTimeZone=null,this.timezone=n.timezone||this.defaultTimeZone,this.fontAwesome?(this.icontype="fa",this.icons={leftArrow:"fa-chevron-left",rightArrow:"fa-chevron-right"}):(this.icontype="glyphicon",this.icons={leftArrow:"arrow left icon",rightArrow:"arrow right icon"}),this._attachEvents(),this.clickedOutside=function(e){0===t(e.target).closest(".datetimepicker").length&&s.hide()},this.formatViewType="datetime","formatViewType"in n?this.formatViewType=n.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in n?this.minView=n.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=r.convertViewMode(this.minView),this.maxView=r.modes.length-1,"maxView"in n?this.maxView=n.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=r.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in n?this.wheelViewModeNavigation=n.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in n?this.wheelViewModeNavigationInverseDirection=n.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in n?this.wheelViewModeNavigationDelay=n.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in n?this.startViewMode=n.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=r.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in n?this.viewSelect=n.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=r.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in n?this.forceParse=n.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse"));for(var a=3===this.bootcssVer?r.templateV3:r.template;-1!==a.indexOf("{iconType}");)a=a.replace("{iconType}",this.icontype);for(;-1!==a.indexOf("{leftArrow}");)a=a.replace("{leftArrow}",this.icons.leftArrow);for(;-1!==a.indexOf("{rightArrow}");)a=a.replace("{rightArrow}",this.icons.rightArrow);if(this.picker=t(a).appendTo(this.isInline?this.element:this.container).on({click:t.proxy(this.click,this),mousedown:t.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&(t.fn.mousewheel?this.picker.on({mousewheel:t.proxy(this.mousewheel,this)}):console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),this.isInline?this.picker.addClass("datetimepicker-inline"):this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL){this.picker.addClass("datetimepicker-rtl");var l=3===this.bootcssVer?".prev span, .next span":".prev i, .next i";this.picker.find(l).toggleClass(this.icons.leftArrow+" "+this.icons.rightArrow)}t(document).on("mousedown",this.clickedOutside),this.autoclose=!1,"autoclose"in n?this.autoclose=n.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in n?this.keyboardNavigation=n.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=n.todayBtn||this.element.data("date-today-btn")||!1,this.clearBtn=n.clearBtn||this.element.data("date-clear-btn")||!1,this.todayHighlight=n.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=(n.weekStart||this.element.data("date-weekstart")||o[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-Infinity,this.endDate=Infinity,this.datesDisabled=[],this.daysOfWeekDisabled=[],this.setStartDate(n.startDate||this.element.data("date-startdate")),this.setEndDate(n.endDate||this.element.data("date-enddate")),this.setDatesDisabled(n.datesDisabled||this.element.data("date-dates-disabled")),this.setDaysOfWeekDisabled(n.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.setMinutesDisabled(n.minutesDisabled||this.element.data("date-minute-disabled")),this.setHoursDisabled(n.hoursDisabled||this.element.data("date-hour-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};n.prototype={constructor:n,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{click:t.proxy(this.show,this),focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{click:t.proxy(this.show,this),focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:t.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]];for(var e,i,n=0;n<this._events.length;n++)e=this._events[n][0],i=this._events[n][1],e.on(i)},_detachEvents:function(){for(var t,e,i=0;i<this._events.length;i++)t=this._events[i][0],e=this._events[i][1],t.off(e);this._events=[]},show:function(e){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),t(window).on("resize",t.proxy(this.place,this)),e&&(e.stopPropagation(),e.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(){this.isVisible&&(this.isInline||(this.picker.hide(),t(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||t(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),t(document).off("mousedown",this.clickedOutside),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},getInitialDate:function(){return this.initialDate},setInitialDate:function(t){this.initialDate=t},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){t>=this.startDate&&t<=this.endDate?(this.date=t,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:t,startDate:this.startDate,endDate:this.endDate})},setFormat:function(t){var e;this.format=r.parseFormat(t,this.formatType),this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val()&&this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e):(this.component&&this.element.find("input").val(e),this.element.data("date",e)),this.linkField&&t("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(t){return t==e&&(t=this.format),r.formatDate(this.date,t,this.language,this.formatType,this.timezone)},setStartDate:function(t){this.startDate=t||-Infinity,this.startDate!==-Infinity&&(this.startDate=r.parseDate(this.startDate,this.format,this.language,this.formatType,this.timezone)),this.update(),this.updateNavArrows()},setEndDate:function(t){this.endDate=t||Infinity,this.endDate!==Infinity&&(this.endDate=r.parseDate(this.endDate,this.format,this.language,this.formatType,this.timezone)),this.update(),this.updateNavArrows()},setDatesDisabled:function(e){this.datesDisabled=e||[],t.isArray(this.datesDisabled)||(this.datesDisabled=this.datesDisabled.split(/,\s*/)),this.datesDisabled=t.map(this.datesDisabled,function(t){return r.parseDate(t,this.format,this.language,this.formatType,this.timezone).toDateString()}),this.update(),this.updateNavArrows()},setTitle:function(t,e){return this.picker.find(t).find("th:eq(1)").text(!1===this.title?e:this.title)},setDaysOfWeekDisabled:function(e){this.daysOfWeekDisabled=e||[],t.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=t.map(this.daysOfWeekDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},setMinutesDisabled:function(e){this.minutesDisabled=e||[],t.isArray(this.minutesDisabled)||(this.minutesDisabled=this.minutesDisabled.split(/,\s*/)),this.minutesDisabled=t.map(this.minutesDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},setHoursDisabled:function(e){this.hoursDisabled=e||[],t.isArray(this.hoursDisabled)||(this.hoursDisabled=this.hoursDisabled.split(/,\s*/)),this.hoursDisabled=t.map(this.hoursDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){if(!this.zIndex){var e=0;t("div").each(function(){var i=parseInt(t(this).css("zIndex"),10);i>e&&(e=i)}),this.zIndex=e+10}var i,n,s,o;o=this.container instanceof t?this.container.offset():t(this.container).offset(),this.component?(s=(i=this.component.offset()).left,"bottom-left"!=this.pickerPosition&&"top-left"!=this.pickerPosition||(s+=this.component.outerWidth()-this.picker.outerWidth())):(s=(i=this.element.offset()).left,"bottom-left"!=this.pickerPosition&&"top-left"!=this.pickerPosition||(s+=this.element.outerWidth()-this.picker.outerWidth()));var r=document.body.clientWidth||window.innerWidth;s+220>r&&(s=r-220),n="top-left"==this.pickerPosition||"top-right"==this.pickerPosition?i.top-this.picker.outerHeight():i.top+this.height,n-=o.top,s-=o.left,this.picker.css({top:n,left:s,zIndex:this.zIndex})}},update:function(){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):("string"==typeof(t=(this.isInput?this.element.val():this.element.find("input").val())||this.element.data("date")||this.initialDate)||t instanceof String)&&(t=t.replace(/^\s+|\s+$/g,"")),t||(t=new Date,e=!1),this.date=r.parseDate(t,this.format,this.language,this.formatType,this.timezone),e&&this.setValue(),this.date<this.startDate?this.viewDate=new Date(this.startDate):this.date>this.endDate?this.viewDate=new Date(this.endDate):this.viewDate=new Date(this.date),this.fill()},fillDow:function(){for(var t=this.weekStart,e="<tr>";t<this.weekStart+7;)e+='<th class="dow">'+o[this.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datetimepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+o[this.language].monthsShort[e++]+"</span>";this.picker.find(".datetimepicker-months td").html(t)},fill:function(){if(null!=this.date&&null!=this.viewDate){var e=new Date(this.viewDate),n=e.getUTCFullYear(),s=e.getUTCMonth(),a=e.getUTCDate(),l=e.getUTCHours(),h=e.getUTCMinutes(),c=this.startDate!==-Infinity?this.startDate.getUTCFullYear():-Infinity,d=this.startDate!==-Infinity?this.startDate.getUTCMonth():-Infinity,u=this.endDate!==Infinity?this.endDate.getUTCFullYear():Infinity,p=this.endDate!==Infinity?this.endDate.getUTCMonth()+1:Infinity,f=new i(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),m=new Date;if(this.setTitle(".datetimepicker-days",o[this.language].months[s]+" "+n),"time"==this.formatViewType){var g=this.getFormattedDate();this.setTitle(".datetimepicker-hours",g),this.setTitle(".datetimepicker-minutes",g)}else this.setTitle(".datetimepicker-hours",a+" "+o[this.language].months[s]+" "+n),this.setTitle(".datetimepicker-minutes",a+" "+o[this.language].months[s]+" "+n);this.picker.find("tfoot th.today").text(o[this.language].today||o.en.today).toggle(!1!==this.todayBtn),this.picker.find("tfoot th.clear").text(o[this.language].clear||o.en.clear).toggle(!1!==this.clearBtn),this.updateNavArrows(),this.fillMonths();var v=i(n,s-1,28,0,0,0,0),y=r.getDaysInMonth(v.getUTCFullYear(),v.getUTCMonth());v.setUTCDate(y),v.setUTCDate(y-(v.getUTCDay()-this.weekStart+7)%7);var b=new Date(v);b.setUTCDate(b.getUTCDate()+42),b=b.valueOf();for(var x,w=[];v.valueOf()<b;)v.getUTCDay()==this.weekStart&&w.push("<tr>"),x="",v.getUTCFullYear()<n||v.getUTCFullYear()==n&&v.getUTCMonth()<s?x+=" old":(v.getUTCFullYear()>n||v.getUTCFullYear()==n&&v.getUTCMonth()>s)&&(x+=" new"),this.todayHighlight&&v.getUTCFullYear()==m.getFullYear()&&v.getUTCMonth()==m.getMonth()&&v.getUTCDate()==m.getDate()&&(x+=" today"),v.valueOf()==f&&(x+=" active"),(v.valueOf()+864e5<=this.startDate||v.valueOf()>this.endDate||-1!==t.inArray(v.getUTCDay(),this.daysOfWeekDisabled)||-1!==t.inArray(v.toDateString(),this.datesDisabled))&&(x+=" disabled"),w.push('<td class="day'+x+'">'+v.getUTCDate()+"</td>"),v.getUTCDay()==this.weekEnd&&w.push("</tr>"),v.setUTCDate(v.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(w.join("")),w=[];for(var _="",k="",C="",T=this.hoursDisabled||[],S=0;S<24;S++){if(-1===T.indexOf(S))x="",($=i(n,s,a,S)).valueOf()+36e5<=this.startDate||$.valueOf()>this.endDate?x+=" disabled":l==S&&(x+=" active"),this.showMeridian&&2==o[this.language].meridiem.length?((k=S<12?o[this.language].meridiem[0]:o[this.language].meridiem[1])!=C&&(""!=C&&w.push("</fieldset>"),w.push('<fieldset class="hour"><legend>'+k.toUpperCase()+"</legend>")),C=k,_=S%12?S%12:12,w.push('<span class="hour'+x+" hour_"+(S<12?"am":"pm")+'">'+_+"</span>"),23==S&&w.push("</fieldset>")):(_=S+":00",w.push('<span class="hour'+x+'">'+_+"</span>"))}this.picker.find(".datetimepicker-hours td").html(w.join("")),w=[],_="",k="",C="";var D=this.minutesDisabled||[];for(S=0;S<60;S+=this.minuteStep){var $;if(-1===D.indexOf(S))x="",($=i(n,s,a,l,S,0)).valueOf()<this.startDate||$.valueOf()>this.endDate?x+=" disabled":Math.floor(h/this.minuteStep)==Math.floor(S/this.minuteStep)&&(x+=" active"),this.showMeridian&&2==o[this.language].meridiem.length?((k=l<12?o[this.language].meridiem[0]:o[this.language].meridiem[1])!=C&&(""!=C&&w.push("</fieldset>"),w.push('<fieldset class="minute"><legend>'+k.toUpperCase()+"</legend>")),C=k,_=l%12?l%12:12,w.push('<span class="minute'+x+'">'+_+":"+(S<10?"0"+S:S)+"</span>"),59==S&&w.push("</fieldset>")):(_=S+":00",w.push('<span class="minute'+x+'">'+l+":"+(S<10?"0"+S:S)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(w.join(""));var M=this.date.getUTCFullYear(),A=this.setTitle(".datetimepicker-months",n).end().find("span").removeClass("active");if(M==n){var L=A.length-12;A.eq(this.date.getUTCMonth()+L).addClass("active")}(n<c||n>u)&&A.addClass("disabled"),n==c&&A.slice(0,d).addClass("disabled"),n==u&&A.slice(p).addClass("disabled"),w="",n=10*parseInt(n/10,10);var E=this.setTitle(".datetimepicker-years",n+"-"+(n+9)).end().find("td");n-=1;for(S=-1;S<11;S++)w+='<span class="year'+(-1==S||10==S?" old":"")+(M==n?" active":"")+(n<c||n>u?" disabled":"")+'">'+n+"</span>",n+=1;E.html(w),this.place()}},updateNavArrows:function(){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth(),n=t.getUTCDate(),s=t.getUTCHours();switch(this.viewMode){case 0:this.startDate!==-Infinity&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&n<=this.startDate.getUTCDate()&&s<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==Infinity&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&n>=this.endDate.getUTCDate()&&s>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:this.startDate!==-Infinity&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&n<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==Infinity&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&n>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:this.startDate!==-Infinity&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==Infinity&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:this.startDate!==-Infinity&&e<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==Infinity&&e>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},mousewheel:function(e){if(e.preventDefault(),e.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var i=e.originalEvent.wheelDelta,n=i>0?1:0===i?0:-1;this.wheelViewModeNavigationInverseDirection&&(n=-n),this.showMode(n),setTimeout(t.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(e){e.stopPropagation(),e.preventDefault();var n=t(e.target).closest("span, td, th, legend");if(n.is("."+this.icontype)&&(n=t(n).parent().closest("span, td, th, legend")),1==n.length){if(n.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var s=r.modes[this.viewMode].navStep*("prev"==n[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,s);break;case 1:this.viewDate=this.moveDate(this.viewDate,s);break;case 2:this.viewDate=this.moveMonth(this.viewDate,s);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,s)}this.fill(),this.element.trigger({type:n[0].className+":"+this.convertViewModeText(this.viewMode),date:this.viewDate,startDate:this.startDate,endDate:this.endDate});break;case"clear":this.reset(),this.autoclose&&this.hide();break;case"today":var o=new Date;(o=i(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),0))<this.startDate?o=this.startDate:o>this.endDate&&(o=this.endDate),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(o),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!n.is(".disabled")){var a=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),h=this.viewDate.getUTCDate(),c=this.viewDate.getUTCHours(),d=this.viewDate.getUTCMinutes(),u=this.viewDate.getUTCSeconds();if(n.is(".month")?(this.viewDate.setUTCDate(1),l=n.parent().find("span").index(n),h=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(l),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(i(a,l,h,c,d,u,0))):n.is(".year")?(this.viewDate.setUTCDate(1),a=parseInt(n.text(),10)||0,this.viewDate.setUTCFullYear(a),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(i(a,l,h,c,d,u,0))):n.is(".hour")?(c=parseInt(n.text(),10)||0,(n.hasClass("hour_am")||n.hasClass("hour_pm"))&&(12==c&&n.hasClass("hour_am")?c=0:12!=c&&n.hasClass("hour_pm")&&(c+=12)),this.viewDate.setUTCHours(c),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(i(a,l,h,c,d,u,0))):n.is(".minute")&&(d=parseInt(n.text().substr(n.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(d),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(i(a,l,h,c,d,u,0))),0!=this.viewMode){var p=this.viewMode;this.showMode(-1),this.fill(),p==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){h=parseInt(n.text(),10)||1,a=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),c=this.viewDate.getUTCHours(),d=this.viewDate.getUTCMinutes(),u=this.viewDate.getUTCSeconds();n.is(".old")?0===l?(l=11,a-=1):l-=1:n.is(".new")&&(11==l?(l=0,a+=1):l+=1),this.viewDate.setUTCFullYear(a),this.viewDate.setUTCMonth(l,h),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(i(a,l,h,c,d,u,0))}p=this.viewMode;this.showMode(-1),this.fill(),p==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(t,e){var i;e&&"date"!=e||(this.date=t),e&&"view"!=e||(this.viewDate=t),this.fill(),this.setValue(),this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),this.autoclose),this.element.trigger({type:"changeDate",date:this.getDate()}),null==t&&(this.date=this.viewDate)},moveMinute:function(t,e){if(!e)return t;var i=new Date(t.valueOf());return i.setUTCMinutes(i.getUTCMinutes()+e*this.minuteStep),i},moveHour:function(t,e){if(!e)return t;var i=new Date(t.valueOf());return i.setUTCHours(i.getUTCHours()+e),i},moveDate:function(t,e){if(!e)return t;var i=new Date(t.valueOf());return i.setUTCDate(i.getUTCDate()+e),i},moveMonth:function(t,e){if(!e)return t;var i,n,s=new Date(t.valueOf()),o=s.getUTCDate(),r=s.getUTCMonth(),a=Math.abs(e);if(e=e>0?1:-1,1==a)n=-1==e?function(){return s.getUTCMonth()==r}:function(){return s.getUTCMonth()!=i},i=r+e,s.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var l=0;l<a;l++)s=this.moveMonth(s,e);i=s.getUTCMonth(),s.setUTCDate(o),n=function(){return i!=s.getUTCMonth()}}for(;n();)s.setUTCDate(--o),s.setUTCMonth(i);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.startDate&&t<=this.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))27==t.keyCode&&this.show();else{var e,i,n,s,o=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;e=37==t.keyCode?-1:1,viewMode=this.viewMode,t.ctrlKey?viewMode+=2:t.shiftKey&&(viewMode+=1),4==viewMode?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):3==viewMode?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):2==viewMode?(i=this.moveDate(this.date,e),n=this.moveDate(this.viewDate,e)):1==viewMode?(i=this.moveHour(this.date,e),n=this.moveHour(this.viewDate,e)):0==viewMode&&(i=this.moveMinute(this.date,e),n=this.moveMinute(this.viewDate,e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;e=38==t.keyCode?-1:1,viewMode=this.viewMode,t.ctrlKey?viewMode+=2:t.shiftKey&&(viewMode+=1),4==viewMode?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):3==viewMode?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):2==viewMode?(i=this.moveDate(this.date,7*e),n=this.moveDate(this.viewDate,7*e)):1==viewMode?this.showMeridian?(i=this.moveHour(this.date,6*e),n=this.moveHour(this.viewDate,6*e)):(i=this.moveHour(this.date,4*e),n=this.moveHour(this.viewDate,4*e)):0==viewMode&&(i=this.moveMinute(this.date,4*e),n=this.moveMinute(this.viewDate,4*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 13:if(0!=this.viewMode){var r=this.viewMode;this.showMode(-1),this.fill(),r==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();t.preventDefault();break;case 9:this.hide()}if(o)this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change(),this.element.trigger({type:"changeDate",date:this.getDate()})}},showMode:function(t){if(t){var e=Math.max(0,Math.min(r.modes.length-1,this.viewMode+t));e>=this.minView&&e<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:e}),this.viewMode=e)}this.picker.find(">div").hide().filter(".datetimepicker-"+r.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(){this._setDate(null,"date")},convertViewModeText:function(t){switch(t){case 4:return"decade";case 3:return"year";case 2:return"month";case 1:return"day";case 0:return"hour"}}};var s=t.fn.datetimepicker;t.fn.datetimepicker=function(i){var s,o=Array.apply(null,arguments);return o.shift(),this.each(function(){var r=t(this),a=r.data("datetimepicker"),l="object"==typeof i&&i;if(a||r.data("datetimepicker",a=new n(this,t.extend({},t.fn.datetimepicker.defaults,l))),"string"==typeof i&&"function"==typeof a[i]&&(s=a[i].apply(a,o))!==e)return!1}),s!==e?s:this},t.fn.datetimepicker.defaults={},t.fn.datetimepicker.Constructor=n;var o=t.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today",clear:"Clear"}},r={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,r.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},getDefaultFormat:function(t,e){if("standard"==t)return"input"==e?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"==t)return"input"==e?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(t){if("standard"==t)return/t|hh?|HH?|p|P|z|Z|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"==t)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(t,e){var i=t.replace(this.validParts(e),"\0").split("\0"),n=t.match(this.validParts(e));if(!i||!i.length||!n||0==n.length)throw new Error("Invalid date format.");return{separators:i,parts:n}},parseDate:function(e,s,r,a,l){if(e instanceof Date){var h=new Date(e.valueOf()-6e4*e.getTimezoneOffset());return h.setMilliseconds(0),h}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(e)&&(s=this.parseFormat("yyyy-mm-dd",a)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(e)&&(s=this.parseFormat("yyyy-mm-dd hh:ii",a)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(e)&&(s=this.parseFormat("yyyy-mm-dd hh:ii:ss",a)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(e)){var c,d=/([-+]\d+)([dmwy])/,u=e.match(/([-+]\d+)([dmwy])/g);e=new Date;for(var p=0;p<u.length;p++)switch(g=d.exec(u[p]),c=parseInt(g[1]),g[2]){case"d":e.setUTCDate(e.getUTCDate()+c);break;case"m":e=n.prototype.moveMonth.call(n.prototype,e,c);break;case"w":e.setUTCDate(e.getUTCDate()+7*c);break;case"y":e=n.prototype.moveYear.call(n.prototype,e,c)}return i(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),0)}u=e&&e.toString().match(this.nonpunctuation)||[],e=new Date(0,0,0,0,0,0,0);var f,m,g,v={},y=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P","z","Z"],b={hh:function(t,e){return t.setUTCHours(e)},h:function(t,e){return t.setUTCHours(e)},HH:function(t,e){return t.setUTCHours(12==e?0:e)},H:function(t,e){return t.setUTCHours(12==e?0:e)},ii:function(t,e){return t.setUTCMinutes(e)},i:function(t,e){return t.setUTCMinutes(e)},ss:function(t,e){return t.setUTCSeconds(e)},s:function(t,e){return t.setUTCSeconds(e)},yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;){if(isNaN(t.getUTCMonth()))return t;t.setUTCDate(t.getUTCDate()-1)}return t},d:function(t,e){return t.setUTCDate(e)},p:function(t,e){return t.setUTCHours(1==e?t.getUTCHours()+12:t.getUTCHours())},z:function(){return l}};if(b.M=b.MM=b.mm=b.m,b.dd=b.d,b.P=b.p,b.Z=b.z,e=i(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()),u.length==s.parts.length){p=0;for(var x=s.parts.length;p<x;p++){if(f=parseInt(u[p],10),g=s.parts[p],isNaN(f))switch(g){case"MM":m=t(o[r].months).filter(function(){var t=this.slice(0,u[p].length);return t==u[p].slice(0,t.length)}),f=t.inArray(m[0],o[r].months)+1;break;case"M":m=t(o[r].monthsShort).filter(function(){var t=this.slice(0,u[p].length),e=u[p].slice(0,t.length);return t.toLowerCase()==e.toLowerCase()}),f=t.inArray(m[0],o[r].monthsShort)+1;break;case"p":case"P":f=t.inArray(u[p].toLowerCase(),o[r].meridiem)}v[g]=f}var w;for(p=0;p<y.length;p++)(w=y[p])in v&&!isNaN(v[w])&&b[w](e,v[w])}return e},formatDate:function(e,i,n,s,a){if(null==e)return"";var l;if("standard"==s)l={t:e.getTime(),yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear(),m:e.getUTCMonth()+1,M:o[n].monthsShort[e.getUTCMonth()],MM:o[n].months[e.getUTCMonth()],d:e.getUTCDate(),D:o[n].daysShort[e.getUTCDay()],DD:o[n].days[e.getUTCDay()],p:2==o[n].meridiem.length?o[n].meridiem[e.getUTCHours()<12?0:1]:"",h:e.getUTCHours(),i:e.getUTCMinutes(),s:e.getUTCSeconds(),z:a},2==o[n].meridiem.length?l.H=l.h%12==0?12:l.h%12:l.H=l.h,l.HH=(l.H<10?"0":"")+l.H,l.P=l.p.toUpperCase(),l.Z=l.z,l.hh=(l.h<10?"0":"")+l.h,l.ii=(l.i<10?"0":"")+l.i,l.ss=(l.s<10?"0":"")+l.s,l.dd=(l.d<10?"0":"")+l.d,l.mm=(l.m<10?"0":"")+l.m;else{
if("php"!=s)throw new Error("Invalid format type.");(l={y:e.getUTCFullYear().toString().substring(2),Y:e.getUTCFullYear(),F:o[n].months[e.getUTCMonth()],M:o[n].monthsShort[e.getUTCMonth()],n:e.getUTCMonth()+1,t:r.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth()),j:e.getUTCDate(),l:o[n].days[e.getUTCDay()],D:o[n].daysShort[e.getUTCDay()],w:e.getUTCDay(),N:0==e.getUTCDay()?7:e.getUTCDay(),S:e.getUTCDate()%10<=o[n].suffix.length?o[n].suffix[e.getUTCDate()%10-1]:"",a:2==o[n].meridiem.length?o[n].meridiem[e.getUTCHours()<12?0:1]:"",g:e.getUTCHours()%12==0?12:e.getUTCHours()%12,G:e.getUTCHours(),i:e.getUTCMinutes(),s:e.getUTCSeconds()}).m=(l.n<10?"0":"")+l.n,l.d=(l.j<10?"0":"")+l.j,l.A=l.a.toString().toUpperCase(),l.h=(l.g<10?"0":"")+l.g,l.H=(l.G<10?"0":"")+l.G,l.i=(l.i<10?"0":"")+l.i,l.s=(l.s<10?"0":"")+l.s}e=[];for(var h=t.extend([],i.separators),c=0,d=i.parts.length;c<d;c++)h.length&&e.push(h.shift()),e.push(l[i.parts[c]]);return h.length&&e.push(h.shift()),e.join("")},convertViewMode:function(t){switch(t){case 4:case"decade":t=4;break;case 3:case"year":t=3;break;case 2:case"month":t=2;break;case 1:case"day":t=1;break;case 0:case"hour":t=0}return t},headTemplate:'<thead><tr><th class="prev"><i class="{iconType} {leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{iconType} {rightArrow}"/></th></tr></thead>',headTemplateV3:'<thead><tr><th class="prev"><span class="{iconType} {leftArrow}"></span> </th><th colspan="5" class="switch"></th><th class="next"><span class="{iconType} {rightArrow}"></span> </th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};r.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table></div></div>",r.templateV3='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+r.headTemplateV3+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+r.headTemplateV3+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+r.headTemplateV3+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+r.headTemplateV3+r.contTemplate+r.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+r.headTemplateV3+r.contTemplate+r.footTemplate+"</table></div></div>",t.fn.datetimepicker.DPGlobal=r,t.fn.datetimepicker.noConflict=function(){return t.fn.datetimepicker=s,this},t(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(e){var i=t(this);i.data("datetimepicker")||(e.preventDefault(),i.datetimepicker("show"))}),t(function(){t('[data-provide="datetimepicker-inline"]').datetimepicker()})}),jQuery.fn.datetimepicker.dates["zh-CN"]={days:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d","\u661f\u671f\u65e5"],daysShort:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d","\u5468\u65e5"],daysMin:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u65e5"],months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthsShort:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],today:"\u4eca\u5929",suffix:[],meridiem:["\u4e0a\u5348","\u4e0b\u5348"]},jQuery.fn.datetimepicker.dates["zh-TW"]={days:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d","\u661f\u671f\u65e5"],daysShort:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d","\u5468\u65e5"],daysMin:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u65e5"],months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthsShort:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],today:"\u4eca\u5929",suffix:[],meridiem:["\u4e0a\u5348","\u4e0b\u5348"]},function(){var t;t=function(t){var e,i,n,s,o,r,a,l,h,c,d,u,p,f,m,g,v,y;return o=0,r=[],e=$(t.assigneeField),i=$(t.collaboratorsField),f=function(){var t,e,n;for(t="",e=0,n=r.length;e<n;e++)t+='<input name="issue[collaborator_ids][]" type="hidden" value="'+r[e]+'">';return i.html(t)},d=function(){return o&&"0"!==o&&(s.removeClass("has-assignee"),$("#issue-user-"+o).removeClass("selected is-assignee")),o=0,e.val(0),y()},m=function(t){return d(),t&&"0"!==t?(s.addClass("has-assignee"),$("#issue-user-"+t).addClass("selected is-assignee")):t=0,o=parseInt(t),e.val(o),y()},g=function(t){var e,i;if(t&&"0"!==t){for(t=parseInt(t),e=0,i=r.length;e<i;e++)if(r[e]===t)return;return r.push(t),s.addClass("has-collaborator"),$("#issue-user-"+t).addClass("selected is-collaborator"),y(),f()}},p=function(){var t,e,i,n;for(i=0,n=(e=[].concat(r)).length;i<n;i++)t=e[i],u(t);return r=[],y(),f()},h=function(){var t,e,n,s,o;for(e=[],n=0,s=(o=i.find("input")).length;n<s;n++)t=o[n],e.push(parseInt($(t).val()));return e},v=function(t){var e,i,n,s;for(p(),"string"==typeof t&&(t=t.split(",")),s=[],i=0,n=t.length;i<n;i++)e=t[i],s.push(g(e));return s},u=function(t){var e,i;return e=$("#issue-user-"+t),(i=r.indexOf(t))>=0&&r.splice(i,1),r.length<1&&s.removeClass("has-collaborator"),e.removeClass("selected is-collaborator"),y(),f()},c=function(t){var e;return(e=$("#issue-user-"+t).clone()).find(".actions, .username").remove(),e.text().trim()},a=function(t){var e,i;return(i=$("#issue-user-"+t).clone()).find(".actions, .username").remove(),(e=i.find("img").clone()).attr("title",i.text().trim()),e},l=function(t){var e;return(e=$("#issue-user-"+t).clone()).find(".actions").remove(),t===o&&e.find(".avatar").addClass("is-assignee"),e.html()},y=function(){var t,e,i,h,d,u,p,f,m,g,v;for(v=[],f="",0!==o&&v.push(o),e=0,d=r.length;e<d;e++)g=r[e],v.push(g);if(n.empty(),!(v.length<1)){if(s.find(".text").hide(),1===v.length)return n.append(l(v[0])),f=v[0]===o?"\u8d1f\u8d23\u4eba\uff1a"+c(v[0]):"\u534f\u4f5c\u8005\uff1a"+c(v[0]),void n.popup({content:f});for(i=0,u=(m=v.slice(0,3)).length;i<u;i++)g=m[i],t=a(g),g===o&&(t.addClass("is-assignee"),f="\u8d1f\u8d23\u4eba\uff1a"+c(g)+" / \u534f\u4f5c\u8005\uff1a"),n.append(t," ");for(v.length>3&&n.append("+"+(v.length-3)),f||(f="\u534f\u4f5c\u8005\uff1a"),h=0,p=v.length;h<p;h++)(g=v[h])!==o&&(f+=c(g)+" ");return n.popup({content:f})}s.find(".text").show()},t.onChange=t.onChange||function(){},s=$(t.el).dropdown({action:"nothing"}),n=s.find(".selected-users"),s.find(".menu > .item").on("click",".btn-set-assignee",function(){var e;return e=$(this).parent().parent(),m(parseInt(e.data("value"))),t.onChange(o,[].concat(r))}).on("click",".btn-set-collaborator",function(){var e;return e=$(this).parent().parent(),g(parseInt(e.data("value"))),t.onChange(o,[].concat(r))}).on("click",".btn-remove-assignee",function(){return d(),t.onChange(o,[].concat(r))}).on("click",".btn-remove-collaborator",function(){var e;return e=$(this).parent().parent(),u(parseInt(e.data("value"))),t.onChange(o,[].concat(r))}),m(e.val()),v(h()),{$self:s,clear:function(){return d(),p()},getAssignee:function(){return o},getCollaborators:function(){return[].concat(r)},setAssignee:m,setCollaborators:v}},window.Gitee.initCollaboratorsDropdown=t}.call(this),function(){var t;t=function(){function t(t){$("#git-issue-comments").find(".markdown-body[username='"+t.username+"']").find(".task-list-item-checkbox").prop("disabled",!1),t.canModifyIssueMain&&$(".issue-description.markdown-body, .git-issue-description.markdown-body").find(".task-list-item-checkbox").prop("disabled",!1),$("body").off("change").on("change",".task-list-item-checkbox",function(){var e,i,n,s,o,r,a,l,h,c,d;for(l=-1,h=(n=(e=$(this)).parents(".markdown-body")).attr("type"),c=n.attr("typeId"),s=o=0,r=(i=n.find(".task-list-item-checkbox")).length;o<r;s=++o)this===i[s]&&(l=s);return d=(a="/"+t.projectName)+"/notes/toggle","Issue"===h&&(d=a+"/issues/toggle"),e.prop("disabled",!0),$.post(d,{id:c,seq:l},function(){return e.prop("disabled",!1)})})}return t}(),window.Gitee.IssueCheckBoxes=t}.call(this),IssueLogsHelper.prototype.renderLog=function(t){var e="";return"undefined"!=typeof t.before_change&&(e=['<a class="btn-diff-view" href="javascript:void(0)" title="',this.config.text.diffView,'">','<i class="iconfont icon-more-circle"></i>',"</a>"].join("")),['<div id="log-item-',t.id,'" class="item">','<i class="',t.icon,'"></i>','<div class="content">','<a href="',t.user.path,'"style="margin-right: 8px" title="',t.user.username,'">',t.user.name,"</a>","<span>",t.content,"</span> ",'<span class="timeago" title="',t.created_at,'"></span> ',e,"</div>","</div>"].join("")},IssueLogsHelper.prototype.textDiff=function(t,e){var i=window.JsDiff.diffChars(t,e),n=!1,s="",o="";return i.forEach(function(t){t.removed||t.added?t.removed?(s+=$('<span class="diff">'+t.value+"</span>")[0].outerHTML,n=!0):(o+=$('<span class="diff">'+t.value+"</span>")[0].outerHTML,n=!0):(s+=t.value,o+=t.value)}),{before:s,after:o,hasDiff:n}},IssueLogsHelper.prototype.renderDiff=function(t){var e=window.htmlSafe,i=this,n=e(t.before_change).split("\n"),s=e(t.after_change).split("\n"),o=(s.length>n.length?s:n).reduce(function(t,e,o){var r=t,a=i.textDiff(n[o]?n[o]:"",s[o]?s[o]:""),l=a.hasDiff;return r.before+='<div class="line '+(l?"hasdiff":"")+'">'+a.before+"</div>",r.after+='<div class="line '+(l?"hasdiff":"")+'">'+a.after+"</div>",r},{before:"",after:""});return['<div class="log-diff-box hidden">','<div class="log-diff old">','<div class="log-diff-header">',this.config.text.oldValue,"</div>",'<div class="log-diff-content">',o.before,"</div>","</div>",'<div class="log-diff new">','<div class="log-diff-header">',this.config.text.newValue,"</div>",'<div class="log-diff-content">',o.after,"</div>","</div>","</div>"].join("")},IssueLogsHelper.prototype.render=function(t){var e=this;e.$el.find(".item, .log-diff-box").remove(),t.forEach(function(t){e.$el.append(e.renderLog(t)),"undefined"!=typeof t.before_change&&e.$el.append(e.renderDiff(t))}),e.$el.find(".timeago").timeago(),e.$el.removeClass("hidden")},window.Gitee.IssueLogsHelper=IssueLogsHelper,IssueSidebarHelper.prototype.loadMilestones=function(t){var e=this;$.ajax({url:window.gon.issue_active_milestones,dataType:"json",data:{program_id:e.programId}}).done(function(i){var n='<div class="item active selected" data-value="0">'+e.dropdownInfo.no_milestone+"</div>";i.forEach(function(t){var e='<div class="item" data-value="'+t.id+'" data-program="'+t.program_id+'">'+t.title+"</div>";n+=e}),e.$milestone.find(".scrolling.menu").html(n),e.milestonesLoaded=!0,t&&t(i)})},IssueSidebarHelper.prototype.initFields=function(){var t=this,e=t.$sidebar.find(".issue-field"),i={on:"manual",onChange:function(e){var i={},n=$(this).find("input").attr("name");n=n.replace("issue[","").replace("]",""),t.onChange&&(i[n]=e,t.onChange(i))}};t.$assignee=window.Gitee.initCollaboratorsDropdown({el:"#issue-collaborators",assigneeField:"#issue_assignee_id",collaboratorsField:"#issue-collaborator-ids",onChange:function(e,i){var n={assignee_id:e,collaborator_ids:i};i.length<1&&(n.collaborator_ids=[""]),t.onChange&&t.onChange(n)}}),e.on("click",".issue-field-action",function(i){var n=$(this).parent();t.readonly||(n.hasClass("date")?n.datetimepicker("show"):(e.find(".ui.dropdown").dropdown("hide"),n.find(".ui.dropdown").dropdown("toggle"),i.stopPropagation()))}),t.$top.dropdown(i).dropdown("bind intent"),t.$branch.dropdown(i).dropdown("bind intent"),t.$milestone.dropdown({onShow:function(){t.milestonesLoaded||t.loadMilestones()},onChange:function(e,i,n){var s={},o=Number(n.data("program")),r=$(this).find("input").attr("name");t.milestoneId=Number(e),r=r.replace("issue[","").replace("]",""),t.onChange&&(s[r]=e,t.onChange(s)),o&&(t.$program.dropdown("set selected",String(o)),t.programId=o)}}),t.$program.dropdown({onChange:function(e){var i={},n=$(this).find("input").attr("name"),s=t.programId;t.programId=Number(e),n=n.replace("issue[","").replace("]",""),t.onChange&&(i[n]=e,t.onChange(i)),t.loadMilestones(function(e){var i=e.findIndex(function(e){return e.id===t.milestoneId});t.$milestone.dropdown("set selected",!s&&i>-1?this.milestoneId:"0")})}}),t.$priority.dropdown(i).dropdown("bind intent"),t.programId=Number(t.$program.dropdown("get value")),t.milestoeId=Number(t.$milestone.dropdown("get value")),window.Gitee.initTabsInDropdown(t.$branch),t.$assignee.$self.dropdown({on:"manual",action:"nothing"}).dropdown("bind intent"),t.$labels.parent().on("click",".icon.close",function(e){t.readonly||(t.removeLabel(Number($(this).parent().find("input").val())),e.stopPropagation(),t.onChange&&(t.labels.length<1?t.onChange({label_ids:[""]}):t.onChange({label_ids:t.labels})))}),t.readonly||t.initDateTimePicker(),t.config.labelsOptions.onSelect=function(e){t.appendLabel(e),t.onChange&&t.onChange({label_ids:t.labels})},t.config.labelsOptions.dropdown=t.$labels,t.labelsEl=new window.LabelsDropdown(t.config.labelsOptions)},IssueSidebarHelper.prototype.removeLabel=function(t){var e=this.labels.indexOf(t);e>=0&&this.labels.splice(e,1),this.$labelsShow.find('input[value="'+t+'"]').parent().remove(),this.labels.length<1&&this.$labels.parent().find("> .default.text").attr("style","")},IssueSidebarHelper.prototype.createLabel=function(t){var e=$(['<div class="ui label text-white">','<input type="hidden" name="issue[label_ids][]" value="',t.id,'" data-color="#{label.color}" data-name="',t.name,'">',t.name,'<i class="icon close" /></div>'].join(""));return e.css("background-color",t.color),e},IssueSidebarHelper.prototype.appendLabel=function(t){this.labels&&this.labels.indexOf(t.id)>=0||(this.labels.push(t.id),this.$labelsShow.append(this.createLabel(t)),this.$labels.parent().find("> .default.text").hide())},IssueSidebarHelper.prototype.updateDateFieldDefaultText=function(){var t=$("#issue_deadline").val();$("#issue_plan_started_at").val()?this.$startedAt.find(".default.text").hide():this.$startedAt.find(".default.text").attr("style",""),t?this.$deadline.find(".default.text").hide():this.$deadline.find(".default.text").attr("style","")},IssueSidebarHelper.prototype.initDateTimePicker=function(){var t=this,e=new Date,i=t.deadline,n=t.startedAt,s={format:"yyyy-mm-dd",todayBtn:!0,autoclose:!0,pickerPosition:"top-left",minView:2,language:t.locale,forceParse:!0};n?(n=new Date(n),s.startDate=e<n?e:n):s.startDate=new Date,i&&(i=new Date(i),s.startDate>i&&(s.startDate=i,s.startDate.setDate(i.getDate()-1))),t.updateDateFieldDefaultText(),s.initialDate=n||e,t.$startedAt.datetimepicker(s).on("changeDate",function(e){n=e.date,t.$deadline.datetimepicker("setStartDate",n),n>i&&(n.setDate(n.getDate()+1),t.$deadline.datetimepicker("update",n),t.onChange&&t.onChange({deadline:t.$deadline.find("input").val()})),t.updateDateFieldDefaultText(),t.onChange&&t.onChange({plan_started_at:t.$startedAt.find("input").val()})}),s.initialDate=i||e,t.$deadline.datetimepicker(s).on("changeDate",function(e){i=e.date,t.$startedAt.datetimepicker("setEndDate",i),t.updateDateFieldDefaultText(),t.onChange&&t.onChange({deadline:t.$deadline.find("input").val()})})},window.Gitee.IssueSidebarHelper=IssueSidebarHelper,IssueEditHelper.prototype.validate=function(){var t=!0,e=this.$fields.title.val().trim(),i=this.$fields.description.val();return e.length<1||e.length>255?(this.setCheckResult(this.$fields.title,this.config.text.titleLengthError),t=!1):this.charsetReg.test(e)?(this.setCheckResult(this.$fields.title,this.config.text.charsetError),t=!1):this.setCheckResult(this.$fields.title),this.charsetReg.test(i)&&(this.setCheckResult(this.$fields.description,this.config.text.charsetError),t=!1),t},IssueEditHelper.prototype.setCheckResult=function(t,e){var i=t.next(".error.text.message");e?(t.focus().parent().addClass("error"),i.text(e)):(t.parent().removeClass("error"),i.text(""))},IssueEditHelper.prototype.setData=function(t){this.title=this.$fields.title.val(),this.description=this.$fields.description.val(),t.description_html?this.$description.html(t.description_html):this.$description.html("<i>"+this.config.text.noDescription+"</i>"),this.$title.text(this.title),this.$fields.description.val(this.description)},IssueEditHelper.prototype.initStateDropdown=function(){var t=this;t.$state.dropdown({onChange:function(e){t.renderState||(t.$state.addClass("loading"),t.put({issue_state_id:e}).then(function(e){t.renderStateLabel(e.state_data),"\u5df2\u62d2\u7edd"===e.state_data.name||"\u5df2\u5b8c\u6210"===e.state_data.name?(t.$issue_comment.find(".js-comment-form").hide(),t.$issue_comment.find("#only_comment").hide(),t.$issue_comment.find(".issue-comment-disabled").attr("style","display: block"),t.$issue_comment.find(".issue-comment-disabled").find("textarea").val("")):(t.$issue_comment.find(".js-comment-form").show(),t.$issue_comment.find("#only_comment").show(),t.$issue_comment.find(".issue-comment-disabled").attr("style","display: none"),t.$issue_comment.find(".md-editor").find(".md-input").val("")),t.$state.removeClass("loading")}).fail(function(){t.$state.removeClass("loading")}))}})},IssueEditHelper.prototype.renderStateLabel=function(t){$("#issue-state-label").html('<i class="iconfont '+t.icon+'"></i>'+t.name).css("background-color",t.color||"#cccccc")},IssueEditHelper.prototype.renderStateDropdown=function(t){var e=t.map(function(t){return{name:t.name,text:t.name,value:t.id}});$("#issue-state-button").dropdown("setup menu",{values:e})},IssueEditHelper.prototype.put=function(t){var e=this;return $.ajax({url:e.config.updatePath,method:"PUT",data:{issue:t}}).done(function(t){e.setData(t),"undefined"!=typeof t.states_data&&e.renderStateDropdown(t.states_data),"undefined"!=typeof t.state_data&&(e.renderState=!0,e.renderStateLabel(t.state_data),e.$state.dropdown("set selected",t.state_data.id),e.renderState=!1),"undefined"!=typeof t.operate_logs&&e.logs.render(t.operate_logs),new Gitee.IssueCheckBoxes({username:e.config.username,projectName:e.config.projectName,canModifyIssueMain:e.config.canModifyIssueMain})}).fail(function(t){var i=t.responseJSON;i&&i.message?window.Flash.show(i.message,"error"):window.Flash.show(e.config.text.updateError,"error")})},IssueEditHelper.prototype.delayPut=function(t,e){var i=this;i.cache.timer&&(clearTimeout(i.cache.timer),i.cache.timer=null),Object.keys(t).forEach(function(e){i.cache.data[e]=t[e]}),e&&i.cache.callbacks.push(e),i.cache.timer=setTimeout(function(){var t=i.cache.data,e=i.cache.callbacks;i.cache={timer:null,callbacks:[],data:{}},i.put(t).then(function(){e.forEach(function(t){t()})})},1e3)},IssueEditHelper.prototype.initForm=function(){var t=this;t.$fields.type.dropdown(),t.$btnEdit.on("click",function(){t.$issue.addClass("git-issue-editing")}),t.$btnCancel.on("click",function(){t.$issue.removeClass("git-issue-editing")}),t.$btnSave.on("click",function(){var e,i=t.$fields.type;window.replaceUserName(t.$fields.description.parent()),e={security_hole:t.$issueSecurityHole.is(":checked"),title:t.$fields.title.val(),description:t.$fields.description.val()},i.length>0&&(e.issue_type_id=i.dropdown("get value")),t.validate()&&(t.$btnSave.addClass("disabled").prop("disabled",!0),t.$btnCancel.addClass("disabled").prop("disabled",!0),t.put(e).then(function(){i.length>0&&t.$issue.find(".label.issue-type").text(i.dropdown("get text")),t.$btnSave.removeClass("disabled").prop("disabled",!1),t.$btnCancel.removeClass("disabled").prop("disabled",!1),t.$issueSecurityHole.is(":checked")?$(".security-hole-container").attr("style","display: block"):$(".security-hole-container").attr("style","display: none"),t.$issue.removeClass("git-issue-editing")}).fail(function(){t.$btnSave.removeClass("disabled").prop("disabled",!1),t.$btnCancel.removeClass("disabled").prop("disabled",!1)}))}),t.sidebar.onChange=function(e){t.delayPut(e)}},window.Gitee.IssueEditHelper=IssueEditHelper,window.IssueNewHelper=function(t){function e(t,e){t.focus().parent().addClass("error"),t.next(".error.message").text(e)}function i(){var i=$("#issue_title"),n=i.val().trim(),s=i.next(".error.text.message");if(n.length<1||n.length>255)e(i,t.text.titleLengthError);else{if(!v.test(n))return s.text(""),i.parent().removeClass("error"),!0;e(i,t.text.charsetError)}return!1}function n(){var e=g.val(),i=$("#field-description-message");return v.test(e)?(i.text(t.text.charsetError).show(),!1):(i.text("").hide(),!0)}function s(t){if(6!==t.length)return p.addClass("remove"),u.parent().addClass("error"),void m.prop("disabled",!0).addClass("disabled");$.ajax({url:"/check_captcha",data:{val:t},type:"POST",beforeSend:function(){p.removeClass("checkmark remove"),u.parent().addClass("loading"),m.prop("disabled",!0).addClass("disabled")},success:function(t){u.parent().removeClass("loading"),"1"===t?(p.addClass("checkmark"),u.parent().removeClass("error"),m.prop("disabled",!1).removeClass("disabled"),d=!0):(p.addClass("remove"),u.parent().addClass("error"),m.prop("disabled",!0).addClass("disabled"),d=!1)}})}function o(){c&&(clearTimeout(c),c=null)}function r(t){o(),c=setTimeout(function(){s(t)},500)}function a(t){var e,i;for(e=0;e<gon.issue_types.length;++e)if((i=gon.issue_types[e]).id.toString()===t.toString())return i;return null}function l(t){var e=g.val();return t||(t=""),e&&y.replace(/\s+/g,"")!==e.replace(/\s+/g,"")?(y=t,!1):(g.val(t),y=g.val(),!0)}function h(t){l(a(t).template),autosize.update(g)}var c=null,d=!1,u=$("#captcha"),p=$("#statu_captcha"),f=$("#new_issue"),m=$("input[type=submit]"),g=f.find(".md-input"),v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/,y="";t.hasCaptcha&&($("#issue-captcha").on("click",function(){o(),u.val(""),d=!1,u.parent().removeClass("loading error"),p.removeClass("checkmark remove")}),u.on({keypress:function(t){13===t.which&&r($(this).val().trim())},input:function(){r($(this).val().trim())}})),f.submit(function(){window.onbeforeunload=null,m.prop("disabled",!0).addClass("disabled")}),$(function(){var t=$("#issue_issue_type_id");t.length>0&&(h(t.val()),t.parent().hasClass("dropdown")&&t.parent().dropdown({onChange:h}))}),$("#issue-save-button-redirect").on("click",function(){var t=f.attr("action");f.attr("action",t+"?redirect_to=new")}),$("#issue-save-button, #issue-save-button-redirect").on("click",function(){return!(!i()||!n())&&(t.hasCaptcha&&!d?(u.focus().parent().addClass("error"),!1):(u.parent().removeClass("error"),$(this).addClass("disabled"),replaceUserName(f),void f.submit()))})},window.Gitee.initIssueUpdater=function(t){function e(){$.getJSON(t.logsUrl).done(function(t){o.render(t)})}function i(t){var i,n,o=t.map(function(t){return t.id}),a=s.map(function(t){return t.id});if(a.join(",")!==o.join(",")){for(i=0;i<s.length;++i)-1===o.indexOf(a[i])&&r.removeLabel(a[i]);for(i=0;i<t.length;++i)n=t[i],-1===a.indexOf(n.id)&&r.appendLabel({id:n.id,name:n.name,color:"#"+n.color});s=t,e()}}function n(){$.getJSON(t.labelsUrl).done(i).always(function(){setTimeout(n,a)})}var s=[],o=window.Gitee.issuePage.logs,r=window.Gitee.issuePage.sidebar,a=window.Gitee.getProjectResourceRequestInterval();setTimeout(n,a)},window.Gitee.initIssueShow=function(t){var e=window.Clipboard,i=$("#issue-number-button"),n=i.attr("title"),s=new e("#issue-number-button",{text:function(){return window.location.origin+t.url}});i.popup({content:n}),s.on("success",function(){i.popup("destroy").popup({content:i.data().textSuccess,on:"manual"}).popup("show"),setTimeout(function(){i.popup("destroy").popup({content:n})},2e3)}),s.on("error",function(){i.popup("destroy").popup({content:i.data().textFail,on:"manual"}).popup("show"),setTimeout(function(){i.popup("destroy").popup({content:n})},2e3)}),window.Gitee.initCommentUpdater({fetchUrl:t.commentsUrl,username:t.username}),window.Gitee.initIssueUpdater(t)},window.Gitee.initIssueIdentShow=function(t){function e(e,i){var n=$("#"+e.trigger.getAttribute("id"));n.popup("destroy").popup({content:"success"==i?t.successText:t.failText,on:"manual"}).popup("show"),setTimeout(function(){n.popup("destroy").popup({content:t.title})},2e3)}var i=window.Clipboard,n=t["class"],s=document.querySelectorAll(n);$(n).popup({content:t.title});var o=new i(s,{text:function(t){return window.location.origin+t.getAttribute("data-clipboard-text")}});o.on("success",function(t){e(t,"success")}),o.on("error",function(t){e(t,"error")})};